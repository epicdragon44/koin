{"version":3,"sources":["components/Home/rotatedevice.png","components/Home/newtab.svg","components/Home/guides/ytguide1.png","components/Home/guides/ytguide2.png","components/Home/guides/gdrivevid1.png","components/Home/guides/gdrivevid2.png","components/Home/guides/gdrivevid3.png","components/Home/guides/gdrivedoc1.png","components/Home/guides/gdrivedoc2.png","components/Home/guides/gdrivedoc3.png","components/Home/guides/gdriveform1.png","components/Home/guides/gdriveform2.png","components/Home/guides/gdriveform3.png","components/Home/complete.svg","components/PublicCourses/copy.svg","components/Error/error.svg","components/Navigation/smallinversemodulus.png","components/Landing/fish1.svg","components/Landing/fish2.svg","components/Home/checkmark.png","components/Home/backarrow.png","components/Home/menu.svg","components/Home/twitter.png","serviceWorker.js","components/Session/context.js","components/Firebase/context.js","components/Firebase/firebase.js","components/Firebase/index.js","components/Session/withAuthentication.js","constants/routes.js","components/Session/withAuthorization.js","components/SignOut/index.js","components/Navigation/index.js","components/Landing/index.js","components/SignUp/index.js","constants/roles.js","components/PasswordForget/index.js","components/SignIn/index.js","components/Home/index.js","components/PasswordChange/index.js","components/Account/index.js","components/Admin/index.js","components/PublicCourses/index.js","components/Error/index.js","components/Paywall/index.js","components/Vidcall/index.js","components/Payment/index.js","components/App/index.js","index.js","components/Home/xicon.svg","components/Navigation/koinlogo.png","components/Landing/koingraphic1.png","components/Landing/koingraphic2.png","components/Home/incomplete.svg","components/Paywall/stripe-payment-logo.png","components/Navigation/dashboard.png","components/Navigation/account.png","components/Navigation/vidcall.svg","components/Navigation/browsecourses.svg","components/Landing/images/koinpartner1.png","components/Landing/images/koinpartner2.png","components/Landing/images/koinpartner3.png","components/Landing/images/koinpartner4.png","components/Landing/images/koinpartner5.png"],"names":["module","exports","Boolean","window","location","hostname","match","AuthUserContext","React","createContext","FirebaseContext","withFirebase","Component","props","Consumer","firebase","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","Firebase","doCreateUserWithEmailAndPassword","email","password","auth1","createUserWithEmailAndPassword","doChangePersist","setPersistence","app","auth","Auth","Persistence","SESSION","doSignInWithEmailAndPassword","signInWithEmailAndPassword","doSignOut","signOut","doPasswordReset","sendPasswordResetEmail","doPasswordUpdate","currentUser","updatePassword","onAuthUserListener","next","fallback","onAuthStateChanged","authUser","user","uid","once","then","snapshot","dbUser","val","roles","db","ref","users","course","appID","courses","modules","courseID","sub","sID","subs","initializeApp","this","database","storage","require","CryptoJS","SECRET_KEY","process","secureStorage","SecureStorage","localStorage","hash","key","SHA256","toString","encrypt","data","AES","decrypt","enc","Utf8","withAuthentication","WithAuthentication","state","getItem","listener","setItem","setState","removeItem","Provider","value","HOME","withAuthorization","condition","WithAuthorization","history","push","compose","withRouter","id","style","height","type","onClick","Logo","useState","setIsMobile","updateWindowDimensions","innerWidth","useEffect","addEventListener","className","to","src","logo","alt","DashboardMenuItem","isMobile","link","dashboard","AccountMenuItem","account","MenuItem","NavigationAuth","ROUTES","NavigationNonAuth","name","Navigation","ReactPixel","init","em","autoConfig","debug","pageView","on","coursesObject","coursesList","Object","keys","map","n","Date","getFullYear","courseimg","discordimg","href","partner1","partner2","partner3","partner4","partner5","INITIAL_STATE","username","passwordOne","passwordTwo","isAdmin","error","SignUpFormBase","onSubmit","event","wvarkclicks","vcourseprogress","set","catch","preventDefault","onChange","target","onChangeCheckbox","checked","showPW","x","document","getElementById","y","isValid","placeholder","disabled","message","SignUpLink","SignUpForm","SignUpPage","PasswordForgetFormBase","isInvalid","PasswordForgetLink","PasswordForgetPage","PasswordForgetForm","SignInFormBase","SignInForm","SignInPage","class","CourseListItem","code","classcode","allCourses","i","len","length","nclasscode","CourseName","codeToName","substring","description","getCourseDescription","changeActiveCourse","setTimeout","dispatchEvent","Event","percentage","percent","strokeWidth","strokeColor","InlineBrowseCourseItem","browseCourseMode","getStudentProgressPercentage","studentEmail","activeCourse","studentprogressarr","students","studentUID","replace","ret","child","console","log","entries","moduleList","key1","value1","values","getStudentProgress","index","doneCnt","totalCnt","index2","contents","coveredItems","key2","value2","ProgressModal","onRequestClose","bigModal","content","margin","width","textAlign","borderRadius","toRender","completedicon","incompleteicon","title","includes","effect","Effect","ScaleUp","ModalManager","close","xicon","studentName","element","MyModal","fileData","selectedFile","onFileChange","files","size","handleChange","bind","handleSubmit","handleItemNameChange","setInputType","closePopup","varkselection","vark","internal","itemName","inputType","newType","getElementsByTagName","getAttribute","newStr","screen","setAttribute","typeCode","itemname","alert","put","getDownloadURL","url","addItemMode","arrModules","curModule","moduleTitle","neededModule","iteration","internals","newPush","update","slice","cancelFunc","internalDisplay","overflow","teacherMode","topBar","headerBar","ytguide","ytguide1","ytguide2","gdrivevid","gdrivevid1","gdrivevid2","gdrivevid3","gdrivedoc","gdrivedoc1","gdrivedoc2","gdrivedoc3","gdriveform","gdriveform1","gdriveform2","gdriveform3","youtubelink","googledrivelink","googledriveformlink","googledrivedoclink","otherlink","fileuploadlink","contentType","goBack","goNext","open","newtabicon","dangerouslySetInnerHTML","__html","indexOf","file","lastIndexOf","fileType","filePath","maxHeight","RenameModule","clearField","cancel","active","newVal","inside","DeleteModule","RenameItem","neededModule2","DeleteItem","EditItem","openModal","newProps","newState","ModuleContentItem","markProgress","progressMark","usr","status","updateMap","getProgress","e","varkStatus","addVarkClicks","instantOpen","header","text","attribute","evenodd","renameDisplay","deleteDisplay","editDisplay","datacells","AddModuleContentItemItem","deactivate","activate","step","dropdown","form","AddModuleItem","blankModule","button","checkStrings","string_1","string_2","valid","c","charCodeAt","ModuleItem","localcontents","localvark","localinternals","newindex","currentItemName","stopBool","trim","normalize","setActive","beginMap","Map","contentitem","contentname","setMap","newMap","addCourseItemItem","topbar","cnt","boolVal","varkMode","showVark","Select","options","default","passState","Fragment","item","PureComponent","SelectSubject","SectionBreak","MainPanel","handleRemove","handleFilter","filterCallback","getCurrentUserEmail","getTeacherEmail","getTeacherName","isVarkEnabled","getStudentNameFromEmail","toggleVisibility","handleDeletion","isVisible","updateVisibility","showTour","actuallyDelete","getListOfTeacherEmails","getListOfTeacherNames","addTeacher","removeTeacher","handleteacheruidchange","handlestudentuidchange","enrollTeacher","copied","visible","teacheruid","studentuid","displayexpl","displayPayButton","stripeHandler","panelLabel","publicCourses","getPublicCourses","joinCode","newDescription","courseDescription","osubject","removeCourse","theState","render","nameOfCourse","teacher","nteacher","teacherEmail","nteacherName","stulist","ostudentList","stukeys","undefined","stu","JSON","stringify","kickStatus","newkick","w","visibility","uids","stuname","varkEnabled","charAt","split","filter","courseCode","stuemails","stuIDs","newemail","tname","snapshot2","time","names","emails","resEmail","resName","newString","showModules","stripeLoading","loading","welcomeMsg","unenroll","listOfStudents","getListOfStudents","listOfStudentKicks","getListOfStudentKicks","listOfTeacherEmails","listOfTeacherNames","courseid","showRest","subjectName","getSubject","addModuleItem","viewModuleList","editModuleList","counter","joinClassCode","onCopy","forceAddStudent","theBool","shade","counter2","manageStudents","student","onMouseOver","onMouseOut","setStudentKick","ViewModulesPanel","theBool2","shade2","manageTeachers","teacheremail","deleteCourse","restOfPage","Helmet","cursor","toggleHidden","CreateForm","isTimeUp","areavalue","subjectVal","stage","handleChangeArea","startFreeTrial","subject","createCourse","charCount","areacharCount","stage0","stage1","rows","cols","stage2","stage3","NameForm","needed","shouldAddCourse","addCourse","publicItems","PublicCourse","setValue","setPublicCourses","filterFunction","usertext","toLowerCase","String","overflowX","returnToDashboard","fontSize","closeCourseModal","output","allcourses","CreateCoursePanel","AddCoursePanel","Container","actionStr","ReactGA","category","action","newCourses","arrCourses","updateCourses","courseVisibility","days","hash1","hash2","vis","classCode","Math","round","random","modulesT","getModules","tempName","courseSubject","varkCharacter","newVark","varkClicks","newnewCourses","forEach","list","reload","addCourseMode","createCourseMode","getCoursePublicity","closeTour","mainPanelMode","hidden","isTourOpen","arrayOfModules","j","len2","courseNameInDB","firstPart","mainpanel","deviceicon","currentCourses","leftelementattribute","rightelement","leftelement","showNumber","rounded","accentColor","steps","selector","isOpen","Home","initialize","removeEventListener","submitted","PasswordChangeForm","varkLetter","Vcnt","Acnt","Rcnt","Kcnt","topPanel","currentUserIsAdmin","PasswordChange","SignOut","UserListBase","usersObject","usersList","off","pathname","UserItemBase","onSendPasswordResetEmail","params","UserList","UserItem","exact","path","component","setFilter","copyicon","Error","errorimage","Paywall","onStripeUpdate","loadStripe","setTimeLeft","charge","onload","StripeCheckout","script","createElement","info","head","appendChild","configure","locale","token","a","body","amount","currency","fetch","method","res","json","parse","youtubeLink","stripesecured","frameborder","allow","allowfullscreen","Payment","LandingPage","HomePage","AccountPage","AdminPage","PublicCourses","Vidcall","ReactDOM","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.e77ea6b7.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/rotatedevice.23256e34.png\";","module.exports = __webpack_public_path__ + \"static/media/newtab.022fab5a.svg\";","module.exports = __webpack_public_path__ + \"static/media/ytguide1.9a46eff7.png\";","module.exports = __webpack_public_path__ + \"static/media/ytguide2.d88ed3ab.png\";","module.exports = __webpack_public_path__ + \"static/media/gdrivevid1.e905dcd6.png\";","module.exports = __webpack_public_path__ + \"static/media/gdrivevid2.19075516.png\";","module.exports = __webpack_public_path__ + \"static/media/gdrivevid3.7d561cf1.png\";","module.exports = __webpack_public_path__ + \"static/media/gdrivedoc1.e7841919.png\";","module.exports = __webpack_public_path__ + \"static/media/gdrivedoc2.fdca933a.png\";","module.exports = __webpack_public_path__ + \"static/media/gdrivedoc3.93da39e2.png\";","module.exports = __webpack_public_path__ + \"static/media/gdriveform1.e6d2c141.png\";","module.exports = __webpack_public_path__ + \"static/media/gdriveform2.f7862a42.png\";","module.exports = __webpack_public_path__ + \"static/media/gdriveform3.140c601f.png\";","module.exports = __webpack_public_path__ + \"static/media/complete.62afc860.svg\";","module.exports = __webpack_public_path__ + \"static/media/copy.83e64389.svg\";","module.exports = __webpack_public_path__ + \"static/media/error.3b3caeee.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQcAAAEpCAYAAACeDefhAAAAuHpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjabVBbEsMgCPznFD2CgvI4TpomM71Bj1802JhMd0ZYlxEWYfu8d3g0YFIoVZSNOTmKFcPFiaYD1mNOpccOfqUa6kUHtKDomTzTUZDlyHno8WDkvDirU6MxPD+vBY0C6q1RDKLmCE8ZLAibymw1DJ3Q8+T15s7vMAuVWHmXIsKVV17Rx+NG1KOGG9/p36qQ2u/aVJBgdNV/fzlW+QKdVlYwd/kZNAAACgZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+Cjx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDQuNC4wLUV4aXYyIj4KIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIgogICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgIGV4aWY6UGl4ZWxYRGltZW5zaW9uPSIyNjMiCiAgIGV4aWY6UGl4ZWxZRGltZW5zaW9uPSIyOTciCiAgIHRpZmY6SW1hZ2VXaWR0aD0iMjYzIgogICB0aWZmOkltYWdlSGVpZ2h0PSIyOTciCiAgIHRpZmY6T3JpZW50YXRpb249IjEiLz4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg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\"","module.exports = __webpack_public_path__ + \"static/media/fish1.39295d50.svg\";","module.exports = __webpack_public_path__ + \"static/media/fish2.208ff6a6.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAoAAAAKACAYAAAAMzckjAAAgAElEQVR4nO3dMYiUa7rg8adFERFBEAQDwaBBE5u23s8GMWkTQXDFFqrr/USRDTQyXObeO3fuHeeenbkzm5oZGSwYGRmZyAYmBmtgYmAgGAiCrCAiouhs0DNzZ456bO3qer6v6veDf95W1fe+z/FY/UQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwN4P2v2X/CAAATEozqlHaj9k/BgAAk9CMrkapn6Jp/5z9owAAsNma+vto2j//LQAAptZclHrzH4Y/AyAAwJQqV7ZFU29/NvwZAAEAptDCxZ1R2ntfHP4MgAAAU2bx7O5o6sOvDn8GQACAKVIu7IvSPv7F4c8ACAAwJQbD+Wjqs28OfwZAAIAp0NQj0bQv1zX8GQABAHquWT0epX2z7uHPAAgA0GOD0eko9d13DX8GQACAnirtpSjtx+8e/gyAAAA91Iyu/tDgZwAEAOihZvSnDQ1/BkAAgL64tuWLe30NgAAAU2j+1PYo9c5Yhj8DIABAxy1c3BlNvT+24c8ACADQYUsre76519cACAAwJY7W/VHqk7EPfwZAAIAOGgzno7TPN2X4MwACAHTM9+71NQACAPRYWT3x3Xt9DYAAAD01GJ2O0r7f9OHPAAgA0AEb2etrAAQA6JnS/vPEBj8DIABAqrlo6vWJD38GQACADNe2RNPeShn+DIAAABM27r2+BkAAgA47eGbX2Pf6GgABADpqaWVPlPZR+vBnAAQAmIDN3OtrAAQA6JjSHtrUvb4GQACADmnOL0VpX6UPfAZAAIAJKKsnoqlv04c9AyAAwAQMRucmttfXAAgAkGxQL0epn9KHPAMgAMAElPqb9OHOAAgAMBF5e30NgAAAE7a8vDUy9/oaAAEAJmhtr+/d9IHOAAgAMAFd2etrAAQAmICFlb2d2etrAAQA2GSL9UCU+jR9iDMAAgBMwNpe3xfpA5wBEABgArq619cACACwCcroZGf3+hoAAQDGbDA6F039kD60GQABACagD3t9DYAAAGPS1N+mD2oGQACAiZiLUm+kD2kGQACACVhe3hpNvZ0+oBkAAQAm4NhwRy/3+hoAAQB+wOLZ3dG0D9IHMwMgAMAErO31fZw+lBkAAQAmYBr2+hoAAQDWqQwPT8VeXwMgAMA6NOeXomlfpw9iBkAAgAmYtr2+BkAAgF/QjOrU7fU1AAIAfEUzujqVe30NgAAAX1DqT+lDV5cCAJhi07/X1wAIAPAX5cq2mdjrawAEAIi/7PVt76UPWl0NAGCqzNpeXwMgADDTyoV9M7fX1wAIAMyswXA+mvosfbjqQwAAvVeGh6NpX6YPVn0JAKDXmtXjMct7fQ2AAMBMGYxOR6nv0geqvgUA0EvNqEZpP6YPU30MAKB37PU1AAIAM6TUP6QPUH0PAKAn5qLUm+nD0zQEANB59voaAAGAGbJwcae9vgZAAGBWLK3siaY+TB+Ypi0AgE4qF/ZFqU/Sh6VpDACgc+z1NQACADOkqUfCXl8DIAAwI5rV41HaN+kD0rQHANAJ9voaAAGAGVLaS/b6GgABgFnRtL9KH4hmLQCANE29nj4MzWIAAJN3bYu9vgZAAGBWzJ/aHqXeSR+CZjkAgIlZuLgzmno/fQCa9QAAJsJe3+4EALDpjtb99vp2KACATTUYzkdpn6cPPTIAAgATYK9vNwMA2BRl9YS9vh0NAGDsBqNzUdr36YOODIAAwASU9lKU+il9yJEBEACYgNL+S/pwIwMgADARc/b69igAgI25tiWa9lb6UCMDIAAwAfb69jMAgB9y8Mwue317GgDAd1tY2RulfZQ+yMgACABMwNpe36fpQ4wMgADABJT2kL2+UxAAwLo055eitP8vfXiRARAAmICyeiKa+jZ9cJEBEACYAHt9py8AgK8a1Mv2+k5hAABfVOq/pQ8qMgACABNhr++0BwDwN8vLW8Ne3+kPACAiIo4Nd0Spd9OHExkAAYAJOHhmVzTtg/TBRAZAAGAC7PWdvQCAGbZYD9jrO4MBADNqba/vi/RhRAZAAGAC1vb6vkofRGQABAAmoIxO2us74wEAM6QZ1Wjqh/QBRAZAAGAC7PXVXwMAZkBTr6UPHepOAMBUm4tSb6QPHOpWAMCUWl7eGk29nT5sqHsBAFPIXl/9UgDAlFk8uzvs9dUvBQBMkbW9vo/TBwx1OwBgStjrq/UGAEyBMjxsr6/WHQDQc83q8Wja1+lDhfoTANBjZXQySn2XPlCoXwEAPWWvr340AKCHmtFVe331wwEAPdO0/zN9gFC/AwB6w15fjScAoAfKlW32+mpsAQAdt3BxZ5T2XvrQoOkJAOiwxbO7o6kP0wcGTVcAQEeVC/vs9dWmBAB00GA4H019lj4oaDoDADqmDA9H075MHxI0vQEAHWKvryYRANARg9Fpe301kQCADmhGNUr7MX0w0GwEACSz11eTDgBIVNr/TB8GNHsBABmubYlSb6YPAprNAIAJK1e2Ral30ocAzW4AwATZ66suBABMyNLKHnt91YkAgAkoF/ZFqU/SL36paQ2AALDp7PVV1wIANlFTj4S9vupaAMAmKasnorRv0i976ecBAJtgMDodpX2fftFLXwoAGLPSXrLXV50OABijUv8p/XKXvhUAMCZNvZ5+sUvrCQDYKHt91bMAgA2YP7XdXl/1LgDgBy1c3BlNvZ9+mUvfGwDwA+z1VZ8DAL7T0brfXl/1OgDgO5T2UJT2efoFLm0kAGCdmnokSvsq/fKWNhoAsA72+mqaAgC+YTA6Z6+vpioA4BeU9lKU+in9wpbGGQDwFYP66/SLWtqMAIDPzNnrq6kOAPg7y8tbo2lvpV/Q0mYGAPzF2l7fu+mXs7TZAQARcfDMLnt9NTMBwMxbWNkbpX2UfilLkwoAZtraXt+n6ReyNMkAYGbZ66tZDQBmUnN+yV5fzWwAMHPK6GQ09W36JSxlBQAzZTA6F039kH4BS5kBU+rgmV3RtP8nyuhk9o8CnTGol+31lVoDIEylf/iVFvVDNKOa/SNButL+e/qlK3UlYMos1gOf/UqLUj/FoF7O/tEgyVyUeiP9wpW6FDBFyvBwlPbFVx/40v4u+0eEibLXV/pywJRozi9F077+5kNf6o2ImMv+cWHTHRvusNdX+krAFPjuX2lRb0e5si37x4ZNs/YlqAfpl6zU1YCea0b1h36lRWnvxbHhjuwfH8bOXl/p2wE91oyubvBXWjyIxbO7s/8YMDZf+hKUpM8DeqrUn8ZyCJT2cZQL+7L/OLBh3/oSlKT/CuidTfiVFvVZLNYD2X8w+GHr/RKUpLWAHilXtkVTb2/KYVDaF1GGh7P/iPDd7PWVvj+gJxYu7ozS3tvkQ+F1NKvHs/+osG4/+iUoadYDemDx7O5o6sOJHAqlvovB6HT2Hxm+yV5f6ccDOq5c2BelfTzRg6G0H+0PptNK+7v0C1Tqc0CHDYbz0dRnKYdDqZ+iGV3NfgngZ+z1lcYR0FFleDia9mX6IVHqH7JfCoiIzf0SlDRrAR3UrB6PLv1Ki1Jvhv3BZDo23DGBL0FJsxPQMYPR6Sj1Xfrh8Fn2B5Nk8ezusNdXGm9Ah5T20toXMDpwOHyp0t6LhYs7s18mZkjGl6CkWQjoiGZ0Nf1AWFf1YSyt7Ml+uZgBi/VA2pegpGkP6IBm9Kf0w+B7KvWJ/cFsKnt9pc0NyHRtS5R6M/0g+KHqsxgM57NfQaZQ174EJU1jQJL5U9uj1Dvph8DGehlNPZL9UjJFyuhkN78EJU1ZQIKFizujqffTD4BxVNo39gczFvb6SpMLmLCllT0T2+s7qewPZqOa0VV7faUJBkzQ0bo/Sn2S/uBvRqX9GKW9lP0S00NN/X3651eatYAJGQzno7TP0x/6ze9X2S81vTHX3y9BST0PmICmHoku7PWdWPV69ktOx9nrK+UGbLKyemLtixIdeOAnWak3I65tyX756aCFizvt9ZWSAzbRYHQuSvs+/UHPqtQ7MX9qe/bbQIcsnt09dV+CkvoYsElKe8m3Gts/R1Pv2x9MRNjrK3UpYBMM6q/TH+5OZX/wzBsM5+31lToUMFZz0dTr6Q92Fyv1SRyt+7PfIBLM3JegpB4EjMny8tZo2lvpD3WXK+3zKO2h7LeKCWpWj8/kl6CkrgeMwdpe37vpD3QfKu0r+4NnxGB02l5fqaMBG3TwzK6p2es7qUr7Jsrqiey3jk1U2ktR2o/pnzVJn1fq/8g+IqDfFlb2RmkfpT/Mfay072MwOpf9FrIJmtHV9M+XpM+zshPGYLEeiFKfpj/Qfa7UTw6jKVPqH9M/V5I+r9R3MRidzj4ioN9KeyhK+yL9gZ6WBvXX2W8pG3Vti72+Ukcr7ZtoVo9nnxLQb835pbUvMnTgoZ6q6vWImMt+e/kB5cq2KPVO/mdI0hd66Yt3sFFldDKa+rYDD/S0diuWl7dmv818B3t9pQ5Xn8VgOJ99TEC/DUbnoqkf8h/oKa/Uu/YH98TSyh57faWOVtrHUS7syz4moN8G9bK9vpOs3o+DZ3Zlv+38gqN1f5T6JP+zIunz6sNYPLs7+5iAfmvqtfyHeQYr7aNYWNmb/fbzBYPhfJT2efpnRNLnlfZeLFzcmX1MQJ/NRak30h/mWa7Up/YHd4y9vlKHq7ejXNmWfUxAfy0vb42m3s5/mGV/cIeU1RP2+kodrdQb4TcpwAYcG+6w17djlfZVNOeXsj8aM20wOh2lfZ/+WZD0eaX+lH1EQL8tnt0dTfsg/WHWF6pvo4xOZn9EZpK9vlI3K/VTNKOr2UcE9Fu5sC9K+zj9gdYvVD/YHzxhpf3n/Pdd0ufVD9GMavYRAf22WA9EU5/lP9D6ZqV+ikG9nP2RmQFz0dTr6e+3pC/k/4jAxpXhYXt9e1hp/z37ozO9rm2Jpr2V/h5L+lKv/Zto2Khm9fjaw5T+QOtH8q238Zs/td1eX6mjlfZFlOHh7GMC+q2MTkap79IfaG00+4PH5eCZXdHU+x14TyX9vFKfxmI9kH1MQL81o2qv7xRV6t04NtyR/bHqtaWVPVHaR+nvpaTPsxkJxqAZXbXXdyp7YPflD7LXV+pyD+xGh41q6u878DBrsyrtY/+V/J1Ke8heX6mj+b8bsGFzUerN9IdZkzgw/TuZ9WrqkbUtKx143yT9PP++GTakXNlmr++M5Zty32avr9Th6vXwGw5gAxYu7ozS3st/mJWQ35X1NYPROXt9pY5W6m+yjwjot6WVPdHUh+kPsxLz2/I/M6iXfQlK6mC2HMEYlAv7fKtRa9mX+TdN+6/574ekzyrte3vOYaMGw3l7ffUPlfopmtHV7I9mInt9pa5W2jdRVk9kHxLQb009Ek37Mv2BVjcr9T+yP6ITt7y8Nez1lbpZaV9FU49kHxPQb77VqPU0S/uD1/b63k1/zSV9XmmfR2kPZR8T0G+D0Wl7fbX+6u0oV7Zlf2w3lb2+Uncr9Ukcrfuzjwnot9JeitJ+TH+g1a9Ke29qf8P+wspee32lrlYfxtLKnuxjAvqt1H/Kf5jV46Zvf/BiPRClPu3Aayvps+r9WLi4M/uYgH7zrUaNo9I+jnJhX/bHeSzW9vq+SH9NJX1eqXdi/tT27GMCeuzaFnt9Nd7qsxgM57M/2RvSnF+y11fqaKXejLi2JfuYgP5a+1bjnfSHWdPYy97uDy6jk9HUtx14DSV93v/KPiKg33yrUZvf62hWj2d/1L/LYHRubdtJ+msn6bNm+hfQwxgsrezxrUZNpFLfxWB0Ovsjvy72+krdrLQfo7SXso8I6Lejdb+9vppopf3Y+f3BTf1t+usk6fP69B+R0Flr32p8nv5Aa/bq7v7guSj1RvrrI+nzSvumd/+MBDrHtxrVhUr9Q/aj8Df2+kpd7qW9vrBRZfWEbzWqM3XhVzgcG+6w11fqalPwq6Qg3WB0Lkr7Pv+Blv6uUu+k7Q9ePLs7mvZB+msg6fOm6ZfJQxrfalSXK+29ia9xWtvr+zj9zy7pC9WHU7dOEiau1N/kP8zSt5rgInd7faXulvEfhDBl5uz1Va8q9cmm/y+fMjxsr6/U1erttH8SAlPBtxrV2zbxH30355eiaV/n/xklfVapNyJiblOefZgJvtWo/jf+X/tgr6/U3Ur9aazPO8ycg2d2hW81ahoq7ZsoqyfG8lw0o2qvr9TBuvuL4aFH1r7VaK+vpqfSvt/w6qdmdNU34KUuVj90fjUkdJ5vNWpa28jy91L/I/3nl/SF6tsoo5NjvglhxvhWo2ahUv/pO54Ke32l7vY6mvNLm3YnwkzwrUbNVPX6N5+JcmVbNPV2/s8q6bNK+yLK8PAEbkeYYr7VqFnsl/YHHxvuiNLeS/8ZJX1eqU9jsR6Y6D0JU8e3GjXLlXon5k9t/4dnwl5fqbuV9lEsrOxNujFhStjrK/05mnr/b+uiyoV99vpKne1BHDyzK/nmhJ7zrUbp76oPY3C+RFOf5f8skj6r1LtxbLgj++qEPvOtRklSn7oVy8tbsy9P6C/fapQk9ap6Pez1hQ3wrUZJUp8q9TfZVyf0m281SpL6UqmfYlAvZ1+d0G++1ShJ6ktre7vPZV+d0G+D4bxvNUqSelFp30RZPZF9dUK/leHhaNqX6Q+0JEnfqrSvoqlHsq9O6Ldm9XjY6ytJ6kOlfR6lPZR9dUK/DUano9R36Q+0JEnfqtQncbTuz746od9KeylK+zH9gZYk6ZvVh7G0sif76oR+a0ZX8x9mSZLW09/t4AZ+UKl/zH+YJUlaR6XeiflT27OvTuixa1ui1JvpD7MkSeup1JsR17Zk357QX+XKtij1TvrDLEnSuhr9KfvqhH5buLjTXl9JUn8aXc2+OqH/Sv2/+Q+zJEnraND+9+xrE6ZDM6rR1A/pD7UkSV+r1HcxGJ3OvjJhupTRyWjq2/QHXJKkn1faN9GsHs++KmE6NeeX1vYnduBhlyRprZf2+sJmK+2hKO2LDjzwkqSZrz6LwXA++2qE2bBYD0SpT/MffEnSzFbax1Eu7Mu+EmG2LKzsjdI+Sj8AJEkzWH0Yi2d3Z1+FMJsOntkVTb2ffxBIkmam0t6z1xeyzZ/aHqXeTT8QJEkzUL0d5cq27KsPiIhYXt4aTXsr/2CQJE1tpd6IiLnsKw/4R3PR1OvpB4Qkafoq9afsSw74JU37r+kHhSRpOir1k72+0BeDenntoe3A4SFJ6mn1QzSjmn2lAd9jMDoXpX2ff4BIkvpXfRtldDL7KgN+RFk9sbafMfsgkST1qNfRnF/KvsKAjWjqEfuDJUnrqrQvogwPZ19dwDis7Q9+nn6wSJK6W6lPY7EeyL6ygHE6WvdHqU/SDxhJUvcq7aNYWNmbfVUBm2FpZU809WH6QSNJ6lIP4uCZXdlXFLCZFi7utD9YkhRN++co9W4cG+7IvpqASVjbH3wn/eCRJGV2K5aXt2ZfScBEXdsSpd7swAEkSZp49XrY6wszzP5gSZqtSv1N9tUDdEHT/ir9QJIkbW6lfopBvZx95QBdUtpLUdqP6QeUJGn8lfZ9DEbnsq8aoIsGo9NR6rv0g0qSNL5K+ybK6onsKwbosmb1uP3BkjQllfZVNPVI9tUC9EFTj0TTvkw/uCRJP15pn0dpD2VfKUCfDIbz0dRn6QeYJOn7K/VJHK37s68SoI/KhX1R2sfpB5kk6TuqD2NpZU/2FQL02eLZ3fYHS1Jfqvdj4eLO7KsDmAYLF3dGae/lH2ySpK9W6p2YP7U9+8oApkm5si2aejv9gJMkfV6pNyOubcm+KoDpNGd/sCR1rdGfsi8HYBY09ff5B54kKZrR1ewrAZglzehqlPop//CTpBmstB+jtJeyrwJgFjWjGk39kH4QStIsVeq7GIxOZ18BwCwro5P2B0vSxHodzerx7KMfYG1/cNO+7sDBKEnT3Msow8PZRz7AfynDw1HaFx04ICVpCqvPYjCczz7qAT63WA9EqU/zD0pJmqJK+zjKhX3ZRzzA1y2s7LU/WJLGVX0Yi2d3Zx/tAN+2eHZ3NO2D/INTknpcae/Z6wv0y7Hhjij1bvoBKkm9rN6OcmVb9lEO8P2Wl7faHyxJ31mpNyJiLvsIB9iIuSj1RvqBKkl9qNSfsg9tgPFp6m/TD1ZJ6mqlfrLXF5hOg3rZ/mBJ+nn1QzSjmn1EA2yeweic/cGS9Nfq2yijk9lHM8DmK6OT0dS3+QevJKX2OprzS9lHMsDkNOeXorSvOnAAS9LkK+0Le32B2VTaQ1Ha5+kHsSRNslKfxmI9kH0EA+Q5WvfbHyxpZirto1hY2Zt99ALkW9sf/Cj9YJakze1BHDyzK/vIBeiOg2d2RVPvd+CAlqTxV+rdODbckX3UAnTP/Knt9gdLmsJuxfLy1uwjFqC7lpe3RtPe6sCBLUljqF4Pe30B1mUumno9/+CWpA1U6m+yD1OA/hnUX6cf4JL0vZX6KQb1cvYRCtBfpb1kf7Ck3lTa9zEYncs+OgH6bzA6F6V9n36wS9IvVdo3UVZPZB+ZANOjrJ6I0r5JP+Al6UuV9lU09Uj2UQkwfZp6JJr2ZfpBL0l/X2mfR2kPZR+RANNrMJy3P1hSZyr1SRyt+7OPRoDpt7Y/+En6wS9pxqsPY2llT/aRCDA7llb2RFMf5l8Akmazej8WLu7MPgoBZs/CxZ32B0uaeKXeiflT27OPQIDZtbY/+E76hSBpNir1ZsS1LdlHHwBxbUuUejP9YpA05Y3+lH3aAfBzpf4x/4KQNJ2NrmYfcQB8TTO6mn9RSJqaSvsxSnsp+2gD4FtKeylK+zH94pDU70p9F4PR6ewjDYD1GoxOR6nv0i8QSX3tdTSrx7OPMgC+V7N6fO0QT79IJPWrl1GGh7OPMAB+VBkeDvuDJa27+iwGw/nsowuAjRoM56Opz/IvFkmdrrSPo1zYl31kATAu5cK+KO3j9AtGUkerD2Px7O7sowqAcVs8u9v+YEmfVdp79voCTLOFizujtPfSLxxJHanejnJlW/bRBMBmK1e2RVNv5188klIr9UZEzGUfSQBMzlyUeiP9ApKUU6k/ZR9CAGQp9af0i0jS5Cr1k72+AKztDy71U/rFJGmTqx+iGdXsIweArmhGde1yyL6gJG1O9W2U0cnsowaArimjk9HUt/kXlaQx9zqa80vZRwwAXdWcXwr7g6XpqbQv7PUF4NvK8HCU9kX6xSVpY5X6NBbrgewjBYC+WKwHotSn6ReYpB+rtI9iYWVv9lECQN8srOy1P1jqZQ/i4Jld2UcIAH21eHZ3NO2DDlxoktZTqXfj2HBH9tEBQN8dG+6IUu+mX2ySvtWtWF7emn1kADBNSvu/O3DBSfpi9Xr2EQHAdLI/WOpipf4h+3AAYNqV+m/pF54ke30BmLBBvWx/sJSZvb4AZBiMzkVp3+dfhNKMVeo7e30ByFNWT9gfLE2019GsHs9+9AGYdc35pSjtqw5cjNJ0Z68vAJ1S2kNR2ufpF6Q0tdVn9voC0D1H6/4o9Un+RSlNWaV9HOXCvuxHHAC+bGllT5T2UfqFKU1PD2Lx7O7sRxsAftnBM7uiqfc7cHFK/c5eXwB6Zf7U9ij1TvoFKvW2etteXwB66NqWaNpb+Rep1LNKvRERc9lPMAD8qLlo6vX0C1XqTfW32Q8tAIxHaf85/2KVOlypn2JQL2c/qgAwXqW9FKX9mH7RSp2rfojB6Fz2IwoAm2MwOm1/sPT31bf2+gIw/crqiSjtm/yLV0qutK+iOb+U/UgCwGQ09Ug07cv0C1jKqrTPo7SHsh9FAJiswXA+mvos/SKWJl2pT+No3Z/9CAJAjnJhn/3BmqlK+ygWVvZmP3oAkGtpZU809WH6xSxtevV+HDyzK/uRA4BuWLi4M0p7L/+CljapUu/G/Knt2Y8aAHRLubLN/mBNabfs9QWAr7q2JUq92YELWxpT9XrY6wsA61Da/8y/uKUNVtp/yX6UAKBfmtHVKPVT+iUufW+lforSXsp+hACgn5pRtT9Yvaq07+31BYCNGoxOR6nv0i926VuV9k2U1RPZjwwATIdm9Xg07ev0C176ei+jqUeyHxUAmC5leDhK+6IDF730j5X2eQyG89mPCABMp8V6wP5gdapSn9jrCwCbrVzYF6V9nH7xS019GEsre7IfCQCYDYtnd0fTPsgfADSzlfZeLFzcmf0oAMBsOTbcYX+wUir1TpQr27IfAQCYTeXKtmjq7fSBQLNTqTcjrm3J/ugDwKybi1JvpA8Gmv5K/WP2hx0A+Hul/V36gKDprNRP0YyuZn/EAYAvGdTL9gdrrJX2YzSjmv3RBgB+STOq0dQP6YOD+l+p72IwOp39kQYA1qOMTkZT36YPEOpzr6NZPZ79UQYAvkdzfilK+6oDg4T618sow8PZH2EA4EeU9pD9wfq+6jN7fQGg7xbrgSj1af5goc5X2sdRLuzL/sgCAOOwsLI3SvsofcBQl3sQi2d3Z39UAYBxOnhmV9gfrC9V2ntxbLgj+yMKAGyGY8MdUerd9IFDHarettcXAKbd8vLWaNpb+YOH0iv1RkTMZX8kAYDJmIumXk8fQJQ4/LW/y/4QAgAZSv1N+iCiCQ9+9VMM6uXsjx4AkMn+4BmqfrDXFwBYMxidi9K+zx9QtInD39soo5PZHzUAoEvK6oko7Zv8QUVjr7Svojm/lP0RAwC6qKlH7A+eskr7Ikp7KPujBQB02dr+4Ofpg4vGMPzVp7FYD2R/pACAPjha90epT9IHGG1g+GsfxcLK3uyPEgDQJ0sre+wP7m0P4uCZXdkfIQCgjw6e2RVNvd+BgUbrrdS79voCABszf2p7lHonfbDReroVy8tbsz8yAMBUuLYlSr3ZgQFHX61eD3t9AYCxsz+4q/1r9kcDAJ3+JQwAAASkSURBVJhmTfurDgw8alp7fQGACSrtpSjtx/QBaJYr7fsYjM5lfxQAgFkyGJ2OUt+lD0KzWGnfRFk9kf0RAABmUbN63P7giQ9/r6KpR7LfegBgljX1SDTty/TBaBYq7XN7fQGAbhgM56Opz9IHpGmu1CdxtO7PfqsBAP5LubDP/uDNqj6MpZU92W8xAMDnllb2RFMf5g9M01S9HwsXd2a/tQAAX7dwcWeU9l7+4DQFlXon5k9tz35LAQC+rVzZFk29nT5A9blSb0Zc25L9VgIAfI85+4N/tNGfst88AIAf19Tf5w9UfWp0NfstAwDYuGZ0NUr9lD9cdbjSfozSXsp+qwAAxqcZ1Wjqh/RBq4uV+i4Go9PZbxEAwPiV0Un7g38+/LVvolk9nv3WAABsnmb1eDTt6/TBqxu9tNcXAJgNZXg4SvuiAwNYYvVZDIbz2W8FAMDkLNYDM7s/uLSPo1zYl/0WAABMXrmwL0r7OH0gm+zf/D2MxbO7s196AIA8i2d3R9M+yB/MJvI3f/fs9QUAiIg4NtwRpd5NH9A292/+bke5si37pQYA6I7l5a1Tuz+41BsRMZf9EgMAdNFclHojfWAb7/D3U/aLCgDQfU29lj64bXzw+2SvLwDA9xjUy/3dH1w/RDOq2S8hAED/DEbn+rc/uL6NMjqZ/dIBAPRXGZ2Mpr7NH+zW1etozi9lv2QAAP3XnF+K0r7qwID39Ur7IsrwcPZLBQAwPUp7qLP7g0t9Gov1QPZLBAAwfRbrgSj1afrA949/8/c4Flb2Zr80AADTa2Flb5T2Ufrgt9YDe30BACbh4Jld0dT7yf/b924cG+7IfikAAGbH/KntifuDb8Xy8tbslwAAYPYsL2+Npr014b/5s9cXACDZXDT1+oSGv3/L/sMCAPBXg/rrTRz8PsWgXs7+IwIA8HOlvTT2/cGlfR+D0bnsPxoAAF8zGJ2L0r4fzwBY30ZZPZH9RwIA4FvK6oko7ZsN/s3fK3t9AQD6pKlHfnh/cGmfR2kPZf8RAAD4Xmv7g59/5xc+nsTRuj/7RwcA4Ecdrfuj1Cfr/Ju/R7G0sif7RwYAYKOWVvZEUx9+4wsf9+PgmV3ZPyoAAOOycHHnV/cHl3on5k9tz/4RAQAYt7X9wXd+NvzdjLi2JftHAwBg01zbEqXe/Mv/9r2e/dMAADApZXQy+0cAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABggv4/5g2S47UxzjYAAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/backarrow.87a66506.png\";","module.exports = __webpack_public_path__ + \"static/media/menu.3a533d96.svg\";","module.exports = \"data:image/png;base64,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\"","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\n\r\nconst AuthUserContext = React.createContext(null);\r\n\r\nexport default AuthUserContext;","\r\nimport React from 'react';\r\n\r\nconst FirebaseContext = React.createContext(null);\r\n\r\nexport const withFirebase = Component => props => (\r\n    <FirebaseContext.Consumer>\r\n        {firebase => <Component {...props} firebase={firebase} />}\r\n    </FirebaseContext.Consumer>\r\n);\r\n\r\nexport default FirebaseContext;","import app from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/database';\r\nimport 'firebase/storage';\r\n\r\nconst config = {\r\n    apiKey: \"AIzaSyDdAwZEPIHGmecudZQ2VGaYKtBRTX0U6aY\",\r\n    authDomain: \"modulus-e56e4.firebaseapp.com\",\r\n    databaseURL: \"https://modulus-e56e4.firebaseio.com\",\r\n    projectId: \"modulus-e56e4\",\r\n    storageBucket: \"modulus-e56e4.appspot.com\",\r\n    messagingSenderId: \"768709169703\",\r\n    appId: \"1:768709169703:web:a38f5dfb315550f831b402\",\r\n    measurementId: \"G-TX7CYMZJN7\"\r\n};\r\n\r\n\r\nclass Firebase {\r\n    constructor() {\r\n        app.initializeApp(config);\r\n\r\n        this.auth1 = app.auth();\r\n        this.db = app.database();\r\n        this.storage = app.storage();\r\n        \r\n    }\r\n    // *** Auth API ***\r\n    doCreateUserWithEmailAndPassword = (email, password) =>\r\n        this.auth1.createUserWithEmailAndPassword(email, password);\r\n\r\n    doChangePersist = () => \r\n        this.auth1.setPersistence(app.auth.Auth.Persistence.SESSION);\r\n\r\n    doSignInWithEmailAndPassword = (email, password) =>\r\n        this.auth1.signInWithEmailAndPassword(email, password);\r\n\r\n    doSignOut = () => this.auth1.signOut();\r\n\r\n    doPasswordReset = email => this.auth1.sendPasswordResetEmail(email);\r\n\r\n    doPasswordUpdate = password =>\r\n        this.auth1.currentUser.updatePassword(password);\r\n\r\n    // *** Merge Auth and DB User API *** //\r\n    onAuthUserListener = (next, fallback) =>\r\n        this.auth1.onAuthStateChanged(authUser => {\r\n            if (authUser) {\r\n                this.user(authUser.uid)\r\n                    .once('value')\r\n                    .then(snapshot => {\r\n                        const dbUser = snapshot.val();\r\n                        // default empty roles\r\n                        if (!dbUser.roles) {\r\n                            dbUser.roles = {};\r\n                        }\r\n                        // merge auth and db user\r\n                        authUser = {\r\n                            uid: authUser.uid,\r\n                            email: authUser.email,\r\n                            ...dbUser,\r\n                        };\r\n                        next(authUser);\r\n                    });\r\n\r\n            } else {\r\n                fallback();\r\n            }\r\n        });\r\n\r\n    // *** User API ***\r\n    user = uid => this.db.ref(`users/${uid}`);\r\n    users = () => this.db.ref('users');\r\n\r\n    course = appID => this.db.ref(`courses/${appID}`);\r\n    courses = () => this.db.ref('courses');\r\n\r\n    modules = courseID => this.db.ref(`courses/${courseID}/modules`);\r\n\r\n    sub = sID => this.db.ref(`subscriptions/${sID}`);\r\n    subs = () => this.db.ref('subscriptions');\r\n}\r\n\r\n\r\n\r\nexport default Firebase;\r\n","import FirebaseContext, { withFirebase } from './context';\r\nimport Firebase from './firebase';\r\n\r\nexport default Firebase;\r\n\r\nexport { FirebaseContext, withFirebase };","import React from 'react';\r\nimport SecureStorage from 'secure-web-storage';\r\nimport AuthUserContext from './context';\r\nimport { withFirebase } from '../Firebase';\r\nrequire('dotenv').config()\r\n\r\nvar CryptoJS = require(\"crypto-js\");\r\nvar SECRET_KEY = process.env.REACT_APP_KEY;\r\nvar secureStorage = new SecureStorage(localStorage, {\r\n    hash: function hash(key) {\r\n        key = CryptoJS.SHA256(key, SECRET_KEY);\r\n \r\n        return key.toString();\r\n    },\r\n    encrypt: function encrypt(data) {\r\n        data = CryptoJS.AES.encrypt(data, SECRET_KEY);\r\n \r\n        data = data.toString();\r\n \r\n        return data;\r\n    },\r\n    decrypt: function decrypt(data) {\r\n        data = CryptoJS.AES.decrypt(data, SECRET_KEY);\r\n \r\n        data = data.toString(CryptoJS.enc.Utf8);\r\n \r\n        return data;\r\n    }\r\n});\r\n\r\nconst withAuthentication = Component => {\r\n    class WithAuthentication extends React.Component {\r\n        constructor(props) {\r\n            super(props);\r\n\r\n            this.state = {\r\n                authUser: secureStorage.getItem('authUser'),\r\n            };\r\n        }\r\n\r\n        componentDidMount() {\r\n            this.listener = this.props.firebase.onAuthUserListener(\r\n                authUser => {\r\n                    secureStorage.setItem('authUser', authUser);\r\n                    this.setState({ authUser });\r\n                },\r\n                () => {\r\n                    localStorage.removeItem('authUser');\r\n                    localStorage.removeItem('courses');\r\n                    secureStorage.removeItem('authUser');\r\n                    this.setState({ authUser: null });\r\n                },\r\n            );\r\n        }\r\n\r\n        componentWillUnmount() {\r\n            this.listener();\r\n        }\r\n\r\n        render() {\r\n            return (\r\n                <AuthUserContext.Provider value={this.state.authUser}>\r\n                    <Component {...this.props} />\r\n                </AuthUserContext.Provider>\r\n            );\r\n        }\r\n    }\r\n\r\n    return withFirebase(WithAuthentication);\r\n};\r\n\r\nexport default withAuthentication;","export const LANDING = '/';\r\nexport const SIGN_UP = '/signup';\r\nexport const SIGN_IN = '/signin';\r\nexport const HOME = '/dashboard';\r\nexport const ACCOUNT = '/account';\r\nexport const ADMIN = '/admin';\r\nexport const PASSWORD_FORGET = '/passwordforget';\r\nexport const ADMIN_DETAILS = '/admin/:id';\r\nexport const PUBLIC_COURSES = '/browsecourses';\r\nexport const VIDCALL = '/gameboard';\r\nexport const PAYMENT = '/payment';","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'recompose';\r\n\r\nimport AuthUserContext from './context';\r\nimport { withFirebase } from '../Firebase';\r\nimport * as ROUTES from '../../constants/routes';\r\n\r\nconst withAuthorization = condition => Component => {\r\n    class WithAuthorization extends React.Component {\r\n        componentDidMount() {\r\n            this.listener = this.props.firebase.onAuthUserListener(\r\n                authUser => {\r\n                    if (!condition(authUser)) {\r\n                        this.props.history.push(ROUTES.SIGN_IN);\r\n                    }\r\n                },\r\n                () => this.props.history.push(ROUTES.SIGN_IN),\r\n            );\r\n        }\r\n\r\n        componentWillUnmount() {\r\n            this.listener();\r\n        }\r\n\r\n        render() {\r\n            return (\r\n                <AuthUserContext.Consumer>\r\n                    {authUser =>\r\n                        condition(authUser) ? <Component {...this.props} /> : null\r\n                    }\r\n                </AuthUserContext.Consumer>\r\n            );\r\n        }\r\n    }\r\n\r\n    return compose(\r\n        withRouter,\r\n        withFirebase,\r\n    )(WithAuthorization);\r\n};\r\n\r\nexport default withAuthorization;","import React from 'react';\r\n\r\nimport { withFirebase } from '../Firebase';\r\n\r\nconst SignOutButton = ({ firebase }) => (\r\n    <button id=\"signoutbutton\" style={{height: \"3em\"}} type=\"button\" onClick={firebase.doSignOut}>\r\n        Sign Out\r\n    </button>\r\n);\r\n\r\nexport default withFirebase(SignOutButton);","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport logo from './koinlogo.png';\r\nimport tinylogo from './smallinversemodulus.png';\r\n\r\nimport { AuthUserContext } from '../Session';\r\nimport SignOutButton from '../SignOut';\r\nimport * as ROUTES from '../../constants/routes';\r\nimport * as ROLES from '../../constants/roles';\r\n\r\nimport dashboard from './dashboard.png';\r\nimport account from './account.png';\r\nimport cameraicon from './vidcall.svg';\r\nimport publiccourses from './browsecourses.svg';//change to new icon for public courses\r\n\r\nimport './nav.css';\r\n\r\nfunction Logo() {\r\n    const [isMobile, setIsMobile] = React.useState('large');\r\n\r\n    function updateWindowDimensions() {\r\n        if (window.innerWidth<0) { //LEGACY, UNUSED\r\n            setIsMobile('small');\r\n        }\r\n        else if (window.innerWidth<1100) {\r\n            setIsMobile('medium');\r\n        }\r\n        else {\r\n            setIsMobile('large');\r\n        }\r\n    }\r\n    \r\n    React.useEffect(() => {\r\n        //update window size\r\n        updateWindowDimensions();\r\n        window.addEventListener('resize', updateWindowDimensions);\r\n    });\r\n\r\n    if (isMobile==='medium') {\r\n        return (\r\n            <div className=\"logo\" >\r\n                <Link to={ROUTES.LANDING}><img id=\"logo\" src={logo} alt=\"Modulus Logo\" /></Link>\r\n            </div>\r\n        );\r\n    } else {\r\n        return (\r\n            <div className=\"logo\" >\r\n                <Link to={ROUTES.LANDING}><img id=\"logo\" src={logo} alt=\"Modulus Logo\" /></Link>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst Navigation = () => (\r\n    <AuthUserContext.Consumer>\r\n        {authUser =>\r\n            authUser ? (\r\n                <NavigationAuth authUser={authUser} />\r\n            ) : (\r\n                <NavigationNonAuth />\r\n            )\r\n        }\r\n    </AuthUserContext.Consumer>\r\n);\r\n\r\nfunction DashboardMenuItem(props) {\r\n    const [isMobile, setIsMobile] = React.useState('large');\r\n\r\n    function updateWindowDimensions() {\r\n        if (window.innerWidth<0) { //LEGACY, UNUSED\r\n            setIsMobile('small');\r\n        }\r\n        else if (window.innerWidth<1100) {\r\n            setIsMobile('medium');\r\n        }\r\n        else {\r\n            setIsMobile('large');\r\n        }\r\n    }\r\n    \r\n    React.useEffect(() => {\r\n        //update window size\r\n        updateWindowDimensions();\r\n        window.addEventListener('resize', updateWindowDimensions);\r\n    });\r\n\r\n    if (isMobile==='medium') {\r\n        return (\r\n            <li className=\"navmobile\" id=\"dashboard\">\r\n                <Link to={props.link}><img src={dashboard} height=\"20px\"/></Link>\r\n            </li>\r\n        );\r\n    } else {\r\n        return (\r\n            <li className=\"nav\" id=\"dashboard\">\r\n                <Link to={props.link}>Dashboard</Link>\r\n            </li>\r\n        );\r\n    }\r\n}\r\n\r\nfunction AccountMenuItem(props) {\r\n    const [isMobile, setIsMobile] = React.useState('large');\r\n\r\n    function updateWindowDimensions() {\r\n        if (window.innerWidth<0) { //LEGACY, UNUSED\r\n            setIsMobile('small');\r\n        }\r\n        else if (window.innerWidth<1100) {\r\n            setIsMobile('medium');\r\n        }\r\n        else {\r\n            setIsMobile('large');\r\n        }\r\n    }\r\n    \r\n    React.useEffect(() => {\r\n        //update window size\r\n        updateWindowDimensions();\r\n        window.addEventListener('resize', updateWindowDimensions);\r\n    });\r\n\r\n    if (isMobile==='medium') {\r\n        return (\r\n            <li className=\"navmobile\" id=\"account\">\r\n                <Link to={props.link}><img src={account} height=\"20px\" /></Link>\r\n            </li>\r\n        );\r\n    } else {\r\n        return (\r\n            <li className=\"nav\" id=\"account\">\r\n                <Link to={props.link}>Account</Link>\r\n            </li>\r\n        );\r\n    }\r\n}\r\nfunction PublicCoursesMenuItem(props) {\r\n    return (\r\n        <li className=\"nav\" id=\"special\">\r\n            <Link to={props.link}><img src={publiccourses} alt=\"publiccourses\" height=\"20px\"></img></Link>\r\n        </li>\r\n    );\r\n}\r\nfunction VidcallMenuItem(props) {\r\n    const [isMobile, setIsMobile] = React.useState('large');\r\n\r\n    function updateWindowDimensions() {\r\n        if (window.innerWidth<0) { //LEGACY, UNUSED\r\n            setIsMobile('small');\r\n        }\r\n        else if (window.innerWidth<1100) {\r\n            setIsMobile('medium');\r\n        }\r\n        else {\r\n            setIsMobile('large');\r\n        }\r\n    }\r\n    \r\n    React.useEffect(() => {\r\n        //update window size\r\n        updateWindowDimensions();\r\n        window.addEventListener('resize', updateWindowDimensions);\r\n    });\r\n\r\n    if (isMobile==='medium') {\r\n        return(\r\n            <li className=\"navmobile\" id=\"account\">\r\n                {/*change id*/}\r\n                <Link to={props.link}><img src={cameraicon} height=\"20px\" /></Link>\r\n            </li>\r\n        );\r\n    } else {\r\n        return(\r\n            <li className=\"nav\" id=\"account\">\r\n                {/*change id*/}\r\n                <Link to={props.link}>Gameboard</Link>\r\n            </li>\r\n        );\r\n    }\r\n}\r\nfunction MenuItem(props) {\r\n    return (\r\n        <li className=\"nav\" id=\"special\">\r\n            <Link to={props.link}>Sign In</Link>\r\n        </li>\r\n    );\r\n}\r\nfunction Premium(props) {\r\n    const [isMobile, setIsMobile] = React.useState('large');\r\n\r\n    function updateWindowDimensions() {\r\n        if (window.innerWidth<0) { //LEGACY, UNUSED\r\n            setIsMobile('small');\r\n        }\r\n        else if (window.innerWidth<1100) {\r\n            setIsMobile('medium');\r\n        }\r\n        else {\r\n            setIsMobile('large');\r\n        }\r\n    }\r\n    \r\n    React.useEffect(() => {\r\n        //update window size\r\n        updateWindowDimensions();\r\n        window.addEventListener('resize', updateWindowDimensions);\r\n    });\r\n\r\n    if (isMobile==='medium') {\r\n        return (\r\n            <li className=\"navmobile\">\r\n                <Link id=\"upgradebutton\" to={ROUTES.PAYMENT}>\r\n                    <button className=\"mobilenavigationbutton\" style={{height: \"3em\"}} type=\"button\">\r\n                        Pro\r\n                    </button>\r\n                </Link>\r\n            </li>\r\n        );\r\n    } else {\r\n        return (\r\n            <li className=\"nav\">\r\n                <Link id=\"upgradebutton\" to={ROUTES.PAYMENT}>\r\n                    <button className=\"navigationbutton\" style={{height: \"3em\"}} type=\"button\">\r\n                        Premium\r\n                    </button>\r\n                </Link>\r\n            </li>\r\n        );\r\n    }\r\n}\r\n\r\nconst NavigationAuth = ({ authUser }) => (\r\n    <div>\r\n        <ul className=\"nav\">\r\n            {/* <li className=\"left\">\r\n                <Link to={ROUTES.LANDING}>Modulus</Link>\r\n            </li> */}\r\n            <li className=\"left\">\r\n                <Logo />\r\n            </li>\r\n            {/* <li className=\"left\" style={{marginTop: \"-5px\"}}>\r\n                &nbsp;&nbsp;<PublicCoursesMenuItem link={ROUTES.PUBLIC_COURSES} />\r\n            </li> */}\r\n            {/* <Premium /> */}\r\n            \r\n            <AccountMenuItem link={ROUTES.ACCOUNT} />\r\n            \r\n            {/* <VidcallMenuItem link={ROUTES.VIDCALL}/> */}\r\n\r\n            <DashboardMenuItem link={ROUTES.HOME} />\r\n            {/* {authUser.roles.includes(ROLES.ADMIN) && (\r\n                <li>\r\n                    <Link to={ROUTES.ADMIN}>Admin</Link>\r\n                </li>\r\n            )} */}\r\n            \r\n        </ul>\r\n    </div>\r\n\r\n);\r\n\r\nconst NavigationNonAuth = () => (\r\n    <ul className=\"nav\">\r\n        <li className=\"left\">\r\n            <Logo />\r\n        </li>\r\n        {/* <li className=\"left\" style={{marginTop: \"-5px\"}}>\r\n            &nbsp;&nbsp;&nbsp;<PublicCoursesMenuItem link={ROUTES.PUBLIC_COURSES} />\r\n        </li> */}\r\n        <MenuItem link={ROUTES.ACCOUNT} name=\"Sign In\" />\r\n    </ul>\r\n);\r\n\r\nexport default Navigation;","import React, { useEffect } from 'react';\r\nimport './landingstyle.css';\r\nimport AnchorLink from 'react-anchor-link-smooth-scroll'\r\nimport { Link } from 'react-router-dom';\r\nimport ReactPixel from 'react-facebook-pixel';\r\nimport { Helmet } from 'react-helmet';\r\nimport * as ROUTES from \"../../constants/routes\";\r\n\r\nimport { withFirebase } from '../Firebase';\r\nimport SecureStorage from 'secure-web-storage';\r\nimport { Redirect } from \"react-router-dom\"; \r\nimport fish1 from './fish1.svg';\r\nimport fish2 from './fish2.svg';\r\n\r\nimport partner1 from './images/koinpartner1.png';\r\nimport partner2 from './images/koinpartner2.png';\r\nimport partner3 from './images/koinpartner3.png';\r\nimport partner4 from './images/koinpartner4.png';\r\nimport partner5 from './images/koinpartner5.png';\r\n\r\nimport courseimg from './koingraphic1.png';\r\nimport discordimg from './koingraphic2.png';\r\n\r\nvar CryptoJS = require(\"crypto-js\");\r\nvar SECRET_KEY = process.env.REACT_APP_KEY;\r\nvar secureStorage = new SecureStorage(localStorage, {\r\n    hash: function hash(key) {\r\n        key = CryptoJS.SHA256(key, SECRET_KEY);\r\n \r\n        return key.toString();\r\n    },\r\n    encrypt: function encrypt(data) {\r\n        data = CryptoJS.AES.encrypt(data, SECRET_KEY);\r\n \r\n        data = data.toString();\r\n \r\n        return data;\r\n    },\r\n    decrypt: function decrypt(data) {\r\n        data = CryptoJS.AES.decrypt(data, SECRET_KEY);\r\n \r\n        data = data.toString(CryptoJS.enc.Utf8);\r\n \r\n        return data;\r\n    }\r\n});\r\n\r\n\r\nconst linkstyle = {\r\n    fontSize: 20,\r\n    color: 'white',\r\n};\r\n\r\nfunction Landing(props) {\r\n    const advancedMatching = { em: 'kelly8hu@gmail.com' }; // optional, more info: https://developers.facebook.com/docs/facebook-pixel/advanced/advanced-matching\r\n    const options = {\r\n        autoConfig: true, // set pixel's autoConfig\r\n        debug: false, // enable logs\r\n    };\r\n    ReactPixel.init('913473442493570', advancedMatching, options);\r\n    ReactPixel.pageView();\r\n\r\n    props.firebase.courses().on('value', snapshot => {\r\n        const coursesObject = snapshot.val();\r\n        const coursesList = Object.keys(coursesObject).map(key => ({\r\n            ...coursesObject[key],\r\n            appID: key,\r\n        }));\r\n        secureStorage.setItem('courses', coursesList);\r\n    });\r\n\r\n    const [isMobile, setIsMobile] = React.useState('large');\r\n\r\n    function updateWindowDimensions() {\r\n        if (window.innerWidth<0) { //LEGACY, UNUSED\r\n            setIsMobile('small');\r\n        }\r\n        else if (window.innerWidth<1100) {\r\n            setIsMobile('medium');\r\n        }\r\n        else {\r\n            setIsMobile('large');\r\n        }\r\n    }\r\n    \r\n    React.useEffect(() => {\r\n        //update window size\r\n        updateWindowDimensions();\r\n        window.addEventListener('resize', updateWindowDimensions);\r\n    });\r\n\r\n    var d = new Date();\r\n    var n = d.getFullYear();\r\n\r\n    if (isMobile==='medium') {\r\n        return (\r\n            <>\r\n                <div className=\"landing-hero\">\r\n                    <h1><b>Master your money</b></h1>\r\n                    <p>Learn money management through our certified courses, and then apply your knowledge in an online simulation with other students.</p>\r\n                    \r\n                            <Link id=\"mobilesignupbutton\" to={ROUTES.SIGN_UP}><button>Start Learning</button></Link>\r\n                       \r\n                </div>\r\n                <div className=\"landing-about-mobile\">\r\n                    <center>\r\n                        <div className=\"landing-icon\">\r\n                            <img src=\"https://img.icons8.com/wired/64/000000/checked.png\"/>\r\n                            <p>Learn from Expert-verified Courses</p>\r\n                        </div>\r\n                        <div className=\"landing-icon\">\r\n                            <img src=\"https://img.icons8.com/wired/64/000000/geography.png\"/>\r\n                            <p>Gain Real World Experience</p>\r\n                        </div>\r\n                        <div className=\"landing-icon\">\r\n                            <img src=\"https://img.icons8.com/wired/64/000000/groups.png\"/>\r\n                            <p>Join a global student community</p>\r\n                        </div>\r\n                    </center>\r\n                </div>\r\n                <div className=\"landing-features-mobile\">\r\n                    <div className=\"landing-mobile-section\">\r\n                        <center>\r\n                        <img className=\"landing-sectionimg-light-mobile\" src={courseimg}/>\r\n                        <div className=\"landing-sectiondescr-mobile\">\r\n                        <br /><br />\r\n                            \r\n                                <h1>Learn valuable financial skills online...</h1>\r\n                                <br />\r\n                                <p>At Koin, you can learn from a variety of courses such as banking, tax paying, investments, microeconomics, and personal money management  all carefully crafted by experts for you. <br /><br /><b>Our course creators</b> include certified teachers, Silicon Valley entrepreneurs, and FBLA National Medalists. </p>\r\n                            \r\n                        </div>\r\n                        <br /><br />\r\n                        </center>\r\n                    </div>\r\n                    <div className=\"landing-mobile-section\">\r\n                        <center>\r\n                        <img className=\"landing-sectionimg-dark-mobile\" src={discordimg}/>\r\n                        <br /><br />\r\n                        <div className=\"landing-sectiondescr-mobile\">\r\n                            \r\n                                <h1>...and then apply your skills in a digital economy of fellow students.</h1>\r\n                                <br />\r\n                                <p>Put your skills to the test by networking with your peers and replicating the real world financial experience with our online Discord economy simulation. Learn when to spend, and when to save.</p>\r\n                            \r\n                        </div>\r\n                        <br /><br />\r\n                        </center>\r\n                    </div>\r\n                </div>\r\n                <center>\r\n                    <div className=\"landing-pricing-mobile\">\r\n                        <h1>Pricing</h1>\r\n                        <center>\r\n                            <div className=\"landing-tile\">\r\n                                <h2>Free Trial</h2>\r\n                                <hr />\r\n                                <p>\r\n                                    For one week, enjoy all the benefits of koin Premium without paying a dime.\r\n                                </p>\r\n                                <hr />\r\n                                <h3>FREE</h3>\r\n                            </div>\r\n                            <div className=\"landing-tile\">\r\n                                <h2>Premium</h2>\r\n                                <hr />\r\n                                <p>\r\n                                    Unlimited access to all courses, online games, and customer support.\r\n                                </p>\r\n                                <hr />\r\n                                <h3>4.99 / mo</h3>\r\n                            </div>\r\n                            </center>\r\n                        <center><Link id=\"mobilesignupbutton\" to={ROUTES.SIGN_UP}><button>Start Learning Now</button></Link></center>\r\n                    </div>\r\n                </center>\r\n                <div className=\"landing-footer\">\r\n                    Copyright {n} Koin Inc.\r\n                    <br />\r\n                    <a href=\"mailto:fincademy0@gmail.com\">Contact</a>\r\n                </div>\r\n            </>\r\n        );\r\n    } else {\r\n        return (\r\n            <>\r\n                <div className=\"landing-hero\">\r\n                    <h1><b>Master your money</b></h1>\r\n                    <p>Learn money management through our certified courses,<br /> and then apply your knowledge in an online simulation with other students.</p>\r\n                    <center>\r\n                        {/* <div className=\"landing-flexrow\"> */}\r\n                            <Link id=\"mobilesignupbutton\" to={ROUTES.SIGN_UP}><button>Learn Finance Online</button></Link>\r\n                            {/* <a className=\"button\" href=\"https://discord.gg/dvJXfWh\">Join the Discord</a> */}\r\n                        {/* </div> */}\r\n                    </center>\r\n                </div>\r\n                <div className=\"landing-about\">\r\n                    <div className=\"landing-flexrow\">\r\n                        <div className=\"landing-icon\">\r\n                            <img src=\"https://img.icons8.com/wired/64/000000/checked.png\"/>\r\n                            <p>Learn from our <br />expert-verified courses</p>\r\n                        </div>\r\n                        <div className=\"landing-icon\">\r\n                            <img src=\"https://img.icons8.com/wired/64/000000/geography.png\"/>\r\n                            <p>Gain real-world experience</p>\r\n                        </div>\r\n                        <div className=\"landing-icon\">\r\n                            <img src=\"https://img.icons8.com/wired/64/000000/groups.png\"/>\r\n                            <p>Join a global  <br />student community</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"landing-features\">\r\n                    <center><div className=\"landing-buffered\" /></center>\r\n                    <div className=\"landing-flexrow\">\r\n                        <img className=\"landing-sectionimg\" src={courseimg}/>\r\n                        <div className=\"landing-sectiondescr\">\r\n                            <h1>Learn valuable financial skills online...</h1>\r\n                            <br />\r\n                            <p>At Koin, you can learn from a variety of courses such as banking, tax paying, investments, microeconomics, and personal money management  all carefully crafted by experts for you. <br /><br /><b>Our course creators</b> include certified teachers, Silicon Valley entrepreneurs, and FBLA National Medalists.</p>\r\n                        </div>\r\n                    </div>\r\n                    <center><div className=\"landing-buffered\" /></center>\r\n                    <div className=\"landing-flexrow\">\r\n                        <div className=\"landing-sectiondescr\">\r\n                            <h1>...and then apply your skills in a digital economy of fellow students.</h1>\r\n                            <br />\r\n                            <p>Put your skills to the test by networking with your peers and replicating the real world financial experience with our online Discord economy simulation. Learn when to spend, and when to save.</p>\r\n                        </div>\r\n                        <img className=\"landing-sectionimg\" src={discordimg}/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"landing-partners\">\r\n                    <center><div className=\"landing-buffered\" /></center>\r\n                    <h1>Our Partners</h1>\r\n                    <center>\r\n                    <div className=\"landing-partnersrow\">\r\n                        <img src={partner1} height=\"75px\" />\r\n                        <img src={partner2} height=\"75px\" />\r\n                        <img src={partner3} height=\"75px\" />\r\n                        <img src={partner4} height=\"75px\" />\r\n                        <img src={partner5} height=\"75px\" />\r\n                    </div>\r\n                    </center>\r\n                    {/* <center><div className=\"landing-buffered\" /></center> */}\r\n                </div>\r\n                <div className=\"landing-footer\">\r\n                    Copyright {n} Koin Inc.\r\n                    <br />\r\n                    <div className=\"landing-flexrow\"><a href=\"mailto:fincademy0@gmail.com\">Email</a> &nbsp; <a href=\"https://www.instagram.com/koinfinance/\">Instagram</a> &nbsp; <a href=\"https://www.facebook.com/koinfinance/\">Facebook</a> &nbsp; <a href=\"https://www.linkedin.com/company/koin-finance\">LinkedIn</a></div>\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n} \r\n\r\nexport default withFirebase(Landing);","import React, { Component } from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { withFirebase } from '../Firebase';\r\nimport SecureStorage from 'secure-web-storage';\r\nimport * as ROUTES from '../../constants/routes';\r\nimport * as ROLES from '../../constants/roles';\r\n\r\nconst SignUpPage = () => (\r\n    <div className=\"dialogwallpaper\">\r\n        <div className=\"largecontent\">\r\n            <br /><h1>Sign Up</h1>\r\n            <SignUpForm />\r\n        </div>\r\n    </div>\r\n);\r\n\r\nconst INITIAL_STATE = {\r\n    username: '',\r\n    email: '',\r\n    passwordOne: '',\r\n    passwordTwo: '',\r\n    isAdmin: false,\r\n    error: null,\r\n};\r\n\r\nclass SignUpFormBase extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = { ...INITIAL_STATE };\r\n    }\r\n\r\n    onSubmit = event => {\r\n        const { username, email, passwordOne, isAdmin } = this.state;\r\n        const roles = [];\r\n        const courses = [\"000000\"];\r\n        const wvarkclicks = [\"\"];\r\n        const vcourseprogress = [];\r\n        const tempCourse = [\"Item1\"];\r\n        vcourseprogress['TempCourse'] = tempCourse;\r\n\r\n        if (isAdmin) {\r\n            roles.push(ROLES.ADMIN);\r\n        }else{\r\n            roles.push(ROLES.KOIN);\r\n        }\r\n\r\n        this.props.firebase\r\n            .doCreateUserWithEmailAndPassword(email, passwordOne)\r\n            .then(authUser => {\r\n                // Create a user in your Firebase realtime database\r\n                this.props.firebase\r\n                    .user(authUser.user.uid)\r\n                    .set({\r\n                        username,\r\n                        email,\r\n                        roles,\r\n                        courses,\r\n                        vcourseprogress,\r\n                        wvarkclicks,\r\n                    })\r\n                    .then(() => {\r\n                        this.setState({ ...INITIAL_STATE });\r\n                        this.props.history.push(ROUTES.HOME);\r\n                    })\r\n                    .catch(error => {\r\n                        this.setState({ error });\r\n                    });\r\n            })\r\n            .catch(error => {\r\n                this.setState({ error });\r\n            });\r\n\r\n        event.preventDefault();\r\n    };\r\n\r\n    onChange = event => {\r\n        this.setState({ [event.target.name]: event.target.value });\r\n    };\r\n\r\n    onChangeCheckbox = event => {\r\n        this.setState({ [event.target.name]: event.target.checked });\r\n    };\r\n\r\n    showPW = event => {\r\n        var x = document.getElementById(\"pw1\");\r\n        var y = document.getElementById(\"pw2\");\r\n        if (x.type === \"password\") {\r\n            x.type = \"text\";\r\n            y.type = \"text\";\r\n        } else {\r\n            x.type = \"password\";\r\n            y.type = \"password\";\r\n        }\r\n    }\r\n    render() {\r\n        const {\r\n            username,\r\n            email,\r\n            passwordOne,\r\n            passwordTwo,\r\n            isAdmin,\r\n            error,\r\n        } = this.state;\r\n\r\n        const isValid =\r\n            ((passwordOne === passwordTwo &&\r\n            passwordOne !== '' &&\r\n            email !== '' &&\r\n            username !== '') \r\n            );\r\n        \r\n        let signupmode = (isAdmin) ? \"Teacher\" : \"Student\";\r\n\r\n        return (\r\n            <form onSubmit={this.onSubmit}>\r\n                <input\r\n                    name=\"username\"\r\n                    value={username}\r\n                    onChange={this.onChange}\r\n                    type=\"text\"\r\n                    placeholder=\"Full Name\"\r\n                /><br /><br />\r\n                <input\r\n                    name=\"email\"\r\n                    value={email}\r\n                    onChange={this.onChange}\r\n                    type=\"text\"\r\n                    placeholder=\"Email Address\"\r\n                /><br /><br />\r\n                <input\r\n                    name=\"passwordOne\"\r\n                    id=\"pw1\"\r\n                    value={passwordOne}\r\n                    onChange={this.onChange}\r\n                    type=\"password\"\r\n                    placeholder=\"Password\"\r\n                /><br /><br />\r\n                <input\r\n                    name=\"passwordTwo\"\r\n                    id=\"pw2\"\r\n                    value={passwordTwo}\r\n                    onChange={this.onChange}\r\n                    type=\"password\"\r\n                    placeholder=\"Confirm Password\"\r\n                /><br /><br />\r\n                <label className=\"small\">\r\n                    Show Passwords\r\n                    <input\r\n                        name=\"show pw\"\r\n                        type=\"checkbox\"\r\n                        onClick={this.showPW}\r\n                    /><br /><br />\r\n                </label>\r\n                \r\n                {/* Sign up as a <b>{signupmode}</b>\r\n                <br />\r\n                <br /> */}\r\n                {/* <label className=\"switch\">\r\n                    <input\r\n                        name=\"isAdmin\"\r\n                        type=\"checkbox\"\r\n                        checked={isAdmin}\r\n                        onChange={this.onChangeCheckbox}\r\n                    />\r\n                    <span class=\"slider round\"></span>\r\n                </label><br /><br /><br /> */}\r\n                <a href=\"https://docs.google.com/document/d/1mkkyxo1mZL-z0jMaKPsZKMTPgehtLYhtl4CYEIEg7-0/edit?usp=sharing\">By signing up, I agree to these terms.</a>\r\n                {/* <br />\r\n                <center>\r\n                    <Recaptcha\r\n                        sitekey = \"6LdUu6wZAAAAAGCg0wNdGWLwPJDV_MUmgaEBt-F_\"\r\n                        //6LfvB_IUAAAAADxPHcPo2P8I9wwZmSsHwmqH9cqZ   is the actual API key for production\r\n                        //6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI   is the testing API key\r\n                        render = \"explicit\"\r\n                        onloadCallback = {this.recaptchaLoaded}\r\n                        verifyCallback = {this.verifyCallback}\r\n                    />\r\n                </center> */}\r\n                <br />\r\n                <button id=\"passwordbutton\" disabled={!isValid} type=\"submit\">\r\n                    Sign Up\r\n                </button>\r\n                <br /><br />\r\n                {error && <p>{error.message}</p>}\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\nconst SignUpLink = () => (\r\n    <p>\r\n        Don't have an account? <Link to={ROUTES.SIGN_UP}>Sign Up</Link>\r\n    </p>\r\n);\r\n\r\nconst SignUpForm = withRouter(withFirebase(SignUpFormBase));\r\n\r\nexport default SignUpPage;\r\n\r\nexport { SignUpForm, SignUpLink };","export const ADMIN = 'ADMIN';\r\nexport const USER = 'USER';\r\nexport const KOIN = 'KOIN';","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { withFirebase } from '../Firebase';\r\nimport * as ROUTES from '../../constants/routes';\r\nconst PasswordForgetPage = () => (\r\n    <div className=\"dialogwallpaper\">\r\n        <div className=\"content\">\r\n            <h1><br /><br />Forgot Password</h1><br />\r\n            <PasswordForgetForm />\r\n        </div>\r\n    </div>\r\n);\r\nconst INITIAL_STATE = {\r\n    email: '',\r\n    error: null,\r\n};\r\nclass PasswordForgetFormBase extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { ...INITIAL_STATE };\r\n    }\r\n    onSubmit = event => {\r\n        const { email } = this.state;\r\n        this.props.firebase\r\n            .doPasswordReset(email)\r\n            .then(() => {\r\n                this.setState({ ...INITIAL_STATE });\r\n            })\r\n            .catch(error => {\r\n                this.setState({ error });\r\n            });\r\n        event.preventDefault();\r\n    };\r\n    onChange = event => {\r\n        this.setState({ [event.target.name]: event.target.value });\r\n    };\r\n    render() {\r\n        const { email, error } = this.state;\r\n        const isInvalid = email === '';\r\n        return (\r\n            <form onSubmit={this.onSubmit}>\r\n                <input\r\n                    name=\"email\"\r\n                    value={this.state.email}\r\n                    onChange={this.onChange}\r\n                    type=\"text\"\r\n                    placeholder=\"Email Address\"\r\n                /><br /><br /><br />\r\n                <button disabled={isInvalid} type=\"submit\">\r\n                    Reset My Password\r\n                </button>\r\n                {error && <p>{error.message}</p>}\r\n            </form>\r\n        );\r\n    }\r\n}\r\nconst PasswordForgetLink = () => (\r\n    <p>\r\n        <Link to={ROUTES.PASSWORD_FORGET}>Forgot Password?</Link>\r\n    </p>\r\n);\r\nexport default PasswordForgetPage;\r\nconst PasswordForgetForm = withFirebase(PasswordForgetFormBase);\r\nexport { PasswordForgetForm, PasswordForgetLink };","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'recompose';\r\nimport SecureStorage from 'secure-web-storage';\r\nimport { SignUpLink } from '../SignUp';\r\nimport { PasswordForgetLink } from '../PasswordForget';\r\nimport { withFirebase } from '../Firebase';\r\nimport * as ROUTES from '../../constants/routes';\r\n\r\nimport './signin.css';\r\nimport '../Navigation/nav.css'\r\nrequire('dotenv').config()\r\nvar CryptoJS = require(\"crypto-js\");\r\nvar SECRET_KEY = process.env.REACT_APP_KEY;\r\nvar secureStorage = new SecureStorage(localStorage, {\r\n    hash: function hash(key) {\r\n        key = CryptoJS.SHA256(key, SECRET_KEY);\r\n \r\n        return key.toString();\r\n    },\r\n    encrypt: function encrypt(data) {\r\n        data = CryptoJS.AES.encrypt(data, SECRET_KEY);\r\n \r\n        data = data.toString();\r\n \r\n        return data;\r\n    },\r\n    decrypt: function decrypt(data) {\r\n        data = CryptoJS.AES.decrypt(data, SECRET_KEY);\r\n \r\n        data = data.toString(CryptoJS.enc.Utf8);\r\n \r\n        return data;\r\n    }\r\n});\r\n\r\n\r\nconst SignInPage = () => (\r\n    <div class=\"dialogwallpaper\">\r\n        <div className=\"content\">\r\n            <br /><h1>Sign In</h1><br />\r\n            <SignInForm />\r\n            <PasswordForgetLink />\r\n            <SignUpLink />\r\n        </div>\r\n    </div>\r\n);\r\n\r\nconst INITIAL_STATE = {\r\n    email: '',\r\n    password: '',\r\n    error: null,\r\n};\r\n\r\nclass SignInFormBase extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = { ...INITIAL_STATE };\r\n    }\r\n\r\n    onSubmit = event => {\r\n        const { email, password } = this.state;\r\n\r\n        this.props.firebase\r\n            .doSignInWithEmailAndPassword(email, password)\r\n            .then(() => {\r\n                this.setState({ ...INITIAL_STATE });\r\n                this.props.history.push(ROUTES.HOME);\r\n            })\r\n            .catch(error => {\r\n                this.setState({ error });\r\n            });\r\n\r\n        event.preventDefault();\r\n    };\r\n\r\n    onChange = event => {\r\n        this.setState({ [event.target.name]: event.target.value });\r\n    };\r\n    componentDidMount() {\r\n        this.props.firebase.courses().on('value', snapshot => {\r\n            const coursesObject = snapshot.val();\r\n            const coursesList = Object.keys(coursesObject).map(key => ({\r\n                ...coursesObject[key],\r\n                appID: key,\r\n            }));\r\n            secureStorage.setItem('courses', coursesList);\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { email, password, error } = this.state;\r\n\r\n        const isInvalid = password === '' || email === '';\r\n\r\n        return (\r\n            <form onSubmit={this.onSubmit}>\r\n                <input\r\n                    name=\"email\"\r\n                    value={email}\r\n                    onChange={this.onChange}\r\n                    type=\"text\"\r\n                    placeholder=\"Email Address\"\r\n                /><br /><br />\r\n                <input\r\n                    name=\"password\"\r\n                    value={password}\r\n                    onChange={this.onChange}\r\n                    type=\"password\"\r\n                    placeholder=\"Password\"\r\n                /><br /><br /><br />\r\n                <button disabled={isInvalid} type=\"submit\">\r\n                    Sign  In\r\n                </button>\r\n\r\n                {error && <p>{error.message}</p>}\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\nconst SignInForm = compose(\r\n    withRouter,\r\n    withFirebase,\r\n)(SignInFormBase);\r\n\r\nexport default SignInPage;\r\n\r\nexport { SignInForm };","import React from 'react';\r\nimport './App.css';\r\nimport { withAuthorization } from '../Session';\r\nimport { Link } from 'react-router-dom';\r\n// import Paywall from '../Paywall';\r\nimport { Modal,ModalManager,Effect} from 'react-dynamic-modal';\r\nimport { PieChart } from 'react-minimal-pie-chart';\r\nimport * as ROUTES from '../../constants/routes';\r\nimport 'react-contexify/dist/ReactContexify.min.css';\r\nimport * as firebase from 'firebase'\r\nimport Helmet from 'react-helmet';\r\nimport { Resizable, ResizableBox } from 'react-resizable';\r\nimport {CopyToClipboard} from 'react-copy-to-clipboard';\r\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\r\nimport { Line, Circle } from 'rc-progress';\r\nimport FileViewer from 'react-file-viewer';\r\nimport Tour from 'reactour';\r\nimport ReactPixel from 'react-facebook-pixel';\r\nimport { loadStripe } from '@stripe/stripe-js';\r\nimport checkmarkicon from './checkmark.png';\r\nimport backarrow from './backarrow.png';\r\nimport menuicon from './menu.svg';\r\nimport deviceicon from './rotatedevice.png';\r\nimport xicon from './xicon.svg';\r\nimport newtabicon from './newtab.svg'\r\nimport ReactGA from 'react-ga';\r\nimport ytguide1 from './guides/ytguide1.png';\r\nimport ytguide2 from './guides/ytguide2.png';\r\nimport gdrivevid1 from './guides/gdrivevid1.png';\r\nimport gdrivevid2 from './guides/gdrivevid2.png';\r\nimport gdrivevid3 from './guides/gdrivevid3.png';\r\nimport gdrivedoc1 from './guides/gdrivedoc1.png';\r\nimport gdrivedoc2 from './guides/gdrivedoc2.png';\r\nimport gdrivedoc3 from './guides/gdrivedoc3.png';\r\nimport gdriveform1 from './guides/gdriveform1.png';\r\nimport gdriveform2 from './guides/gdriveform2.png';\r\nimport gdriveform3 from './guides/gdriveform3.png';\r\nimport twittericon from './twitter.png';\r\nimport completedicon from './complete.svg';\r\nimport incompleteicon from './incomplete.svg';\r\nimport SecureLS from 'secure-ls';\r\nimport SecureStorage from 'secure-web-storage';\r\n\r\nrequire('dotenv').config();\r\nrequire('@firebase/database');\r\n\r\n//NOTE\r\n//You need to create a .env file in the root directory before the code will work\r\n//It should be encoded in UTF-8\r\n//And only contain one line:\r\n//REACT_APP_KEY=fiursaghkuihersbkubaskygrcugvjusbgfrjsyu\r\n//The exact string of characters that follows doesn't actually matter\r\n//As long as it's cryptographically secure\r\n//When deploying, we need to make sure this env file gets carried over\r\nvar CryptoJS = require(\"crypto-js\");\r\nvar SECRET_KEY = process.env.REACT_APP_KEY;\r\nvar secureStorage = new SecureStorage(localStorage, {\r\n    hash: function hash(key) {\r\n        key = CryptoJS.SHA256(key, SECRET_KEY);\r\n \r\n        return key.toString();\r\n    },\r\n    encrypt: function encrypt(data) {\r\n        data = CryptoJS.AES.encrypt(data, SECRET_KEY);\r\n \r\n        data = data.toString();\r\n \r\n        return data;\r\n    },\r\n    decrypt: function decrypt(data) {\r\n        data = CryptoJS.AES.decrypt(data, SECRET_KEY);\r\n \r\n        data = data.toString(CryptoJS.enc.Utf8);\r\n \r\n        return data;\r\n    }\r\n});\r\n\r\n//DOC: Component: This component renders a single course button in the sidebar that, when clicked, changes the main panel to display that course.\r\n//Input: name, active, changeActiveCourse, id (optional)\r\n//Output: JSXElement\r\nfunction CourseListItem(props) {\r\n\r\n    var code = codeToName(props.name).substring(4);\r\n    var description = props.getCourseDescription(props.name);\r\n    if (code===\"DELETE THAT YOU HOT DOG\") return (null);\r\n    return ( \r\n        <div className={\"courselistitem\"} onClick={() => {props.changeActiveCourse(props.name); setTimeout(() => window.dispatchEvent(new Event('resize')), 250)}} >\r\n            <div className=\"verysmallbuffer\"><br /></div>\r\n            <span className=\"bufferedtext\"><b>{code}</b> - {(props.percentage+'').substring(0, 3)===\"100\" ? \"100\" : (props.percentage+'').substring(0, 2)}% complete</span>\r\n            <Line percent={props.percentage+''} strokeWidth=\"2\" strokeColor=\"#3DBB9F\" />\r\n            \r\n            <p className=\"coursedescr\">{description}</p>\r\n            \r\n        </div>\r\n    );\r\n}\r\n\r\n//DOC: Function: This function takes Converts the class code passed into the function into the actual English name of the course\r\n//Input: classcode\r\n//Output: String\r\nfunction codeToName(classcode) {\r\n\tconst allCourses = secureStorage.getItem('courses')\r\n        for (let i = 0, len = allCourses.length; i < len; ++i) {\r\n            var course = allCourses[i];\r\n            if (course.nclasscode === classcode) {\r\n                return course.CourseName;\r\n            }\r\n        }\r\n}\r\n\r\n//DOC: Component: Displays a single button in the sidebar, that, when clicked, changes the main panel to allow you to enroll in a course\r\n//Input: browseCourseMode\r\n//Output: JSXElement\r\nfunction BrowseCourseItem(props) {\r\n    return (\r\n        (<div className=\"addcourseitem\" onClick={props.browseCourseMode}>\r\n            Browse Courses\r\n        </div>)\r\n    );\r\n}\r\n\r\n\r\n//DOC: Component: Displays a single button in the sidebar, that, when clicked, changes the main panel to allow you to enroll in a course\r\n//Input: browseCourseMode\r\n//Output: JSXElement\r\nfunction InlineBrowseCourseItem(props) {\r\n    return (\r\n        (<div className=\"inlineaddcourseitem\" onClick={props.browseCourseMode}>\r\n            <div className=\"verysmallbuffer\"><br /></div>\r\n            <span className=\"bufferedtext\"><b>Add a course</b></span>\r\n            <Line percent={'100'} strokeWidth=\"2\" strokeColor=\"##D9D9D9\" />\r\n            <p className=\"largeplus\">+</p>\r\n        </div>)\r\n    );\r\n}\r\n\r\n//DOC: Component: Displays a single button in the sidebar, that, when clicked, changes the main panel to allow you to enroll in a course\r\n//Input: addCourseMode, isMobile\r\n//Output: JSXElement\r\nfunction AddCourseItem(props) {\r\n    return (\r\n        (<div className={props.isMobile==='large' ? \"addcourseitem\" : \"mobileaddcourseitem\"} onClick={props.addCourseMode}>\r\n            Enroll\r\n        </div>)\r\n    );\r\n}\r\n\r\n//DOC: Component: Displays a single button in the sidebar, that, when clicked, changes the main panel to allow you to create a course\r\n//Input: createCourseMode\r\n//Output: JSXElement\r\nfunction CreateCourseItem(props) {\r\n    return (\r\n        (<div className=\"addcourseitem\" onClick={props.createCourseMode}>\r\n            Create\r\n        </div>)\r\n    );\r\n}\r\n\r\n//DOC: Function: Determines whether the user is blocked from the activeCourse\r\n//Input: username, activeCourse\r\n//Output: boolean\r\nfunction isUserBlocked(username, activeCourse) {\r\n    // return false if the user is blocked from the course, and true if the user is not blocked\r\n    // This should simply be the value in the key-value pair in the database you set up in getListOfStudents()\r\n    const allCourses = secureStorage.getItem('courses')\r\n    var stulist;\r\n    for (let i = 0, len = allCourses.length; i < len; ++i) {\r\n        var course = allCourses[i];\r\n        if (course.nclasscode === activeCourse) {\r\n            stulist = course.ostudentList; // identifies current course child name to update\r\n            return stulist[username];\r\n        }\r\n    }\r\n    return \"true\"; //placeholder to remove\r\n}\r\n\r\n//DOC: Component: Displays a break for the sidebar that lets us put headers within it\r\n//Input: text\r\n//Output: JSXElement\r\nfunction ReallySmallBreak(props) {\r\n    return (\r\n        <div style={{fontSize: \"25px\"}}>\r\n            <br />\r\n            <p className=\"smallbreaktext\">{props.text}</p>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction getStudentProgress(studentEmail, firebase, activeCourse) {\r\n    // RETURN STUDENT PROGRESS AS 3D ARRAY\r\n    const allCourses = secureStorage.getItem('courses');\r\n    let students;\r\n    for (let i = 0, len = allCourses.length; i < len; ++i) {\r\n            var course = allCourses[i];\r\n            if (course.nclasscode === activeCourse) {\r\n                students = course.studentUID;\r\n            }\r\n    }\r\n    const newemail = studentEmail.replace(/\\./g,'EMAILDOT');\r\n    const uid = students[newemail];\r\n    let ret = [];\r\n    firebase.user(uid).child('vcourseprogress').child(activeCourse).on('value', snapshot => {\r\n        if (snapshot.val() == null ) console.log('No progress for this student'); // will return null if student has no progress\r\n        else {\r\n            for (let [key, value] of Object.entries(snapshot.val())) {\r\n                let moduleList = [];\r\n                for (let [key1, value1] of Object.entries(value)){\r\n                    moduleList[key1] = Object.values(value1);\r\n                }\r\n                ret[key] = moduleList;\r\n            }\r\n        }\r\n    });\r\n    \r\n    if (ret != null ) return ret;\r\n    else return 'wait for return';\r\n}\r\n//modules={this.props.modules} \r\n//firebase={this.props.firebase} \r\n//activeCourse={this.props.activeCourse} \r\n//studentEmail={student}\r\nfunction getStudentProgressPercentage(studentEmail, firebase, activeCourse, modules) {\r\n    var studentprogressarr = getStudentProgress(studentEmail, firebase, activeCourse);\r\n    console.log(modules);\r\n\r\n    let doneCnt = 0.0;\r\n    let totalCnt = 0.0;\r\n\r\n    let index;\r\n    for (index in modules) {\r\n        let index2;\r\n        for (index2 in modules[index].contents) {\r\n            if (modules[index].contents[index2]==='DELETE THAT YOU HOT DOG') {\r\n                continue;\r\n            } else {\r\n                totalCnt++;\r\n            }\r\n        }\r\n    }\r\n    \r\n    for (const [key, value] of Object.entries(studentprogressarr)) {\r\n\r\n        let coveredItems = [];\r\n\r\n        for (const [key2, value2] of Object.entries(value)) {// key2 is the item name, value2 is an array of size 1 that contians a boolean\r\n            if (key2==='DELETE THAT YOU HOT DOG') {\r\n                continue;\r\n            }\r\n            // totalCnt++;\r\n            coveredItems.push(key2);\r\n            if (value2[0]) { //if completed\r\n                doneCnt++;\r\n            }\r\n        }\r\n    }\r\n\r\n    console.log(activeCourse + \" : \" + totalCnt);\r\n\r\n    if (totalCnt===0) {\r\n        return 0;\r\n    }\r\n\r\n    let percentage = 100*doneCnt/totalCnt;\r\n\r\n    return percentage;\r\n}\r\n\r\n//DOC: Component: Displays a modal that lets the teacher view a student's progress\r\n//Input: modules, firebase, activeCourse, studentName, getStudentProgress, studentEmail, onRequestClose\r\n//Output: JSXElement\r\nclass ProgressModal extends React.Component{\r\n    render(){\r\n       const { onRequestClose } = this.props;\r\n       const bigModal = {\r\n            content: {\r\n                margin                  : '75px auto auto auto',\r\n                width                   : '75%',\r\n                height                  : '80%',\r\n                textAlign               : 'center',\r\n                borderRadius            : '10px',\r\n            }\r\n        };\r\n\r\n        var toRender = [];\r\n        var studentprogressarr = this.props.getStudentProgress(this.props.studentEmail, this.props.firebase, this.props.activeCourse);\r\n\r\n        let doneCnt = 0.0;\r\n        let totalCnt = 0.0;\r\n        \r\n        for (const [key, value] of Object.entries(studentprogressarr)) {\r\n            // console.log(key);\r\n            toRender.push(\r\n                <div className=\"modulerow\">\r\n                    {key}\r\n                </div>\r\n            );\r\n            // console.log(value);\r\n\r\n            let coveredItems = [];\r\n\r\n            for (const [key2, value2] of Object.entries(value)) {// key2 is the item name, value2 is an array of size 1 that contians a boolean\r\n                if (key2==='DELETE THAT YOU HOT DOG') {\r\n                    continue;\r\n                }\r\n                totalCnt++;\r\n                coveredItems.push(key2);\r\n                if (value2[0]) { //if completed\r\n                    doneCnt++;\r\n                    toRender.push(\r\n                        <div className=\"bisplit\">\r\n                            <img src={completedicon} height=\"40px\" />\r\n                            <div className=\"completeditemrow\">\r\n                                <div className=\"itemrowtext\">{key2}</div>\r\n                            </div>\r\n                        </div>\r\n                    );\r\n                } else {\r\n                    toRender.push(\r\n                        <div className=\"bisplit\">\r\n                            <img src={incompleteicon} height=\"40px\" />\r\n                            <div className=\"incompleteitemrow\">\r\n                                <div className=\"itemrowtext\">{key2}</div>\r\n                            </div>\r\n                        </div>\r\n                    );\r\n                }\r\n            }\r\n\r\n            let index;\r\n            for (index in this.props.modules) {\r\n                if (this.props.modules[index].title===key) { //if same module\r\n                    let index2;\r\n                    for (index2 in this.props.modules[index].contents) {\r\n                        if (this.props.modules[index].contents[index2]==='DELETE THAT YOU HOT DOG') {\r\n                            continue;\r\n                        }\r\n                        if (coveredItems.includes(this.props.modules[index].contents[index2])) {\r\n                            continue;\r\n                        } else {\r\n                            totalCnt++;\r\n                            toRender.push(\r\n                                <div className=\"bisplit\">\r\n                                    <img src={incompleteicon} height=\"40px\" />\r\n                                    <div className=\"incompleteitemrow\">\r\n                                        <div className=\"itemrowtext\">{this.props.modules[index].contents[index2]}</div>\r\n                                    </div>\r\n                                </div>\r\n                            );\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        let percentage = 100*doneCnt/totalCnt;\r\n\r\n        if (toRender.length===0) {\r\n            return (\r\n                <Modal\r\n                    onRequestClose={onRequestClose}\r\n                    style= {bigModal}\r\n                    effect={Effect.ScaleUp}\r\n                >\r\n                    <div className=\"modaltopbar\">\r\n                        <button id=\"topbarbutton\" onClick={ModalManager.close}><img src={xicon} alt=\"Return\" height=\"15px\" alt=\"Exit Dialog\"/></button>\r\n                        <h2 className=\"topbarheader\">{this.props.studentName}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</h2>\r\n                    </div>\r\n                    <div className=\"progresscontent\">\r\n                        <br />This student has nothing completed.                 \r\n                    </div>\r\n                </Modal>\r\n           );\r\n        }\r\n\r\n        \r\n        \r\n       return (\r\n            <Modal\r\n                onRequestClose={onRequestClose}\r\n                style= {bigModal}\r\n                effect={Effect.ScaleUp}\r\n            >\r\n                <div className=\"modaltopbar\">\r\n                    <button id=\"topbarbutton\" onClick={ModalManager.close}><img src={xicon} alt=\"Return\" height=\"15px\" alt=\"Exit Dialog\"/></button>\r\n                    <h2 className=\"topbarheader\">{this.props.studentName}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</h2>\r\n                </div>\r\n                <div className=\"progresscontent\">\r\n                    <h3 className=\"bluetext\">{(percentage+'').substring(0, 4)}% of the course has been completed.</h3>\r\n                    <br />\r\n                    {\r\n                        toRender.map(element => (\r\n                            element\r\n                        ))\r\n                    }                    \r\n                </div>\r\n            </Modal>\r\n       );\r\n    }\r\n }\r\n\r\n//DOC: Component: Displays a popup dialog.\r\n//Input: cancelFunc (optional), contentType, itemName, firebase, text, modules, activeCourse, moduleTitle, internal, vark, onRequestClose, teacherMode, addItemMode (optional), varkStatus\r\n//Output: JSXElement\r\nclass MyModal extends React.Component {     \r\n    constructor(props) {\r\n        super(props);\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleItemNameChange = this.handleItemNameChange.bind(this);\r\n        this.setInputType = this.setInputType.bind(this);\r\n        this.closePopup = this.closePopup.bind(this);\r\n        this.state = {\r\n            varkselection: (this.props.vark===\"V\" || this.props.vark===\"A\" || this.props.vark===\"R\" || this.props.vark===\"K\") ? (this.props.vark) : (null),\r\n            value: this.props.internal,\r\n            itemName: (this.props.itemName===\"add\") ? (\"\") : (this.props.itemName),\r\n            inputType: 0, //used to decide whether its a link, file, etc.\r\n            selectedFile: null,\r\n            error: '',\r\n        };\r\n    }\r\n\r\n    fileData = () => { \r\n     \r\n        if (this.state.selectedFile) {\r\n          return (\r\n            <div>\r\n              <p className=\"verysmallteachernotice\">File Name: {this.state.selectedFile.name}</p> \r\n              <p className=\"verysmallteachernotice\">File Type: {this.state.selectedFile.type}</p> \r\n            </div> \r\n          ); \r\n        } else { \r\n          return ( \r\n            null\r\n          ); \r\n        } \r\n\r\n      }; \r\n\r\n    onFileChange = event => { \r\n        // Update the state \r\n        if (event.target.files[0].size > 10000000) {\r\n            this.setState({\r\n                error: 'This file is too large!'\r\n            });\r\n        } else {\r\n            this.setState({ \r\n                selectedFile: event.target.files[0],\r\n                error: '',\r\n            }); \r\n        }\r\n    }; \r\n\r\n    setInputType(newType) {\r\n        this.setState({\r\n            inputType: newType,\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n        try {\r\n            if (!(document.getElementsByTagName(\"IFRAME\")[document.getElementsByTagName(\"IFRAME\").length-1].getAttribute('src').includes('youtube') || document.getElementsByTagName(\"IFRAME\")[document.getElementsByTagName(\"IFRAME\").length-1].getAttribute('src').includes('youtu.be'))) {\r\n                let newStr = window.screen.height + 'px';\r\n                document.getElementsByTagName(\"IFRAME\")[document.getElementsByTagName(\"IFRAME\").length-1].setAttribute('height', newStr);\r\n            }\r\n        } catch (error) {\r\n            console.log('No iframe to be found!');\r\n        }\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        try {\r\n            if (!(document.getElementsByTagName(\"IFRAME\")[document.getElementsByTagName(\"IFRAME\").length-1].getAttribute('src').includes('youtube') || document.getElementsByTagName(\"IFRAME\")[document.getElementsByTagName(\"IFRAME\").length-1].getAttribute('src').includes('youtu.be'))) {\r\n                let newStr = window.screen.height + 'px';\r\n                document.getElementsByTagName(\"IFRAME\")[document.getElementsByTagName(\"IFRAME\").length-1].setAttribute('height', newStr);\r\n            }\r\n        } catch (error) {\r\n            console.log('No iframe to be found!');\r\n        }\r\n    }\r\n\r\n    handleChange(event) {    this.setState({value: event.target.value});  }\r\n    handleItemNameChange(event) {    this.setState({itemName: event.target.value});  }\r\n\r\n    //typeCode indicates the embed directions. 1 means its a YT video, 2 means its a Google Drive link, 3 means its some other miscel link, and 4 means its a file upload\r\n    handleSubmit(event, typeCode) {\r\n        var itemname = (this.props.itemName===\"add\") ? (\"\") : (this.props.itemName);\r\n\r\n        event.preventDefault();\r\n        if (typeCode===4) {\r\n            if (this.state.selectedFile==null) {\r\n                alert('No valid file selected!');\r\n                return;\r\n            }\r\n            \r\n            const uploadTask = this.props.firebase.storage.ref(`userfiles/${this.state.selectedFile.name}`).put(this.state.selectedFile); // uploads image to firebase\r\n            uploadTask.on('state_changed',\r\n            (snapshot) => { // stores\r\n                //const progress = Math.floor((snapshot.bytesTransferred / snapshot.totalBytes) * 100); // should give indication of finished upload\r\n                //this.setState({progress}); // gives a number between 1-100 for percent done uploading\r\n            },\r\n            (error) => {\r\n                alert(error);\r\n            },\r\n            () => {\r\n                const urljob = this.props.firebase.storage.ref(`userfiles/${this.state.selectedFile.name}`).getDownloadURL().then(url => {\r\n                    if (this.props.addItemMode) {\r\n                        const allCourses = secureStorage.getItem('courses');\r\n                        var courseID;\r\n                        for (let i = 0, len = allCourses.length; i < len; ++i) {\r\n                            var course = allCourses[i];\r\n                            if (course.nclasscode === this.props.activeCourse) {\r\n                                courseID = course.appID; // identifies current course child name to update\r\n                                break;\r\n                            }\r\n                        }\r\n                        const arrModules = this.props.modules;\r\n                        const curModule = this.props.moduleTitle;\r\n                        for ( let i = 0; i < arrModules.length; ++i) {\r\n                            var neededModule;\r\n                            if ( arrModules[i].title === curModule) {\r\n                                neededModule = arrModules[i]; break; // finds needed module to edit\r\n                            }\r\n                        }\r\n            \r\n                        const contents = neededModule.contents; // add your new items\r\n                        const internals = neededModule.internals;\r\n                        const vark = neededModule.vark;\r\n\r\n                        var itemname = (this.props.itemName===\"add\") ? (\"\") : (this.props.itemName);\r\n            \r\n                        //double check we don't already have an item with that name\r\n                        let iteration;\r\n                        for (iteration in contents) {\r\n                            if (contents[iteration]===itemname) {\r\n                                alert('You already have an item with that name!');\r\n                                event.preventDefault();\r\n                                return;\r\n                            }\r\n                        }\r\n            \r\n                        contents.push(itemname);\r\n                        \r\n                        internals.push(url);\r\n                        vark.push(this.state.varkselection);\r\n            \r\n            \r\n                        const newPush = this.props.modules;\r\n            \r\n            \r\n                        this.props.firebase.courses().child(courseID).update({\r\n                            modules: newPush.slice(),\r\n                        });\r\n                    }\r\n                    else {\r\n                \r\n                        const allCourses = secureStorage.getItem('courses');\r\n                        var courseID;\r\n                        for (let i = 0, len = allCourses.length; i < len; ++i) {\r\n                            var course = allCourses[i];\r\n                            if (course.nclasscode === this.props.activeCourse) {\r\n                                courseID = course.appID; // identifies current course child name to update\r\n                                break;\r\n                            }\r\n                        }\r\n                        const arrModules = this.props.modules;\r\n                        const curModule = this.props.moduleTitle;\r\n                        for ( let i = 0; i < arrModules.length; ++i) {\r\n                            var neededModule;\r\n                            if ( arrModules[i].title === curModule) {\r\n                                neededModule = arrModules[i]; break; // finds needed module to edit\r\n                            }\r\n                        }\r\n            \r\n                        const contents = neededModule.contents;  // modify the corresponding item\r\n                        const internals = neededModule.internals;\r\n                        const vark = neededModule.vark;\r\n                        for ( let i = 0; i < contents.length; ++i) {\r\n                            let itemTemp = contents[i];\r\n                            if ( itemTemp === this.props.itemName && vark[i] === this.props.vark) {\r\n                               \r\n                                internals[i] = url;\r\n                            }\r\n                        }\r\n            \r\n                        const newPush = this.props.modules; // record to database\r\n                        \r\n            \r\n                        this.props.firebase.courses().child(courseID).update({\r\n                            modules: newPush.slice(),\r\n                        });\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        else {\r\n            if (this.props.addItemMode) {\r\n                const allCourses = secureStorage.getItem('courses');\r\n                var courseID;\r\n                for (let i = 0, len = allCourses.length; i < len; ++i) {\r\n                    var course = allCourses[i];\r\n                    if (course.nclasscode === this.props.activeCourse) {\r\n                        courseID = course.appID; // identifies current course child name to update\r\n                        break;\r\n                    }\r\n                }\r\n                const arrModules = this.props.modules;\r\n                const curModule = this.props.moduleTitle;\r\n                for ( let i = 0; i < arrModules.length; ++i) {\r\n                    var neededModule;\r\n                    if ( arrModules[i].title === curModule) {\r\n                        neededModule = arrModules[i]; break; // finds needed module to edit\r\n                    }\r\n                }\r\n\r\n                const contents = neededModule.contents; // add your new items\r\n                const internals = neededModule.internals;\r\n                const vark = neededModule.vark;\r\n\r\n                //double check we don't already have an item with that name\r\n                let iteration;\r\n                for (iteration in contents) {\r\n                    if (contents[iteration]===itemname) {\r\n                        alert('You already have an item with that name!');\r\n                        event.preventDefault();\r\n                        return;\r\n                    }\r\n                }\r\n\r\n                contents.push(itemname);\r\n                \r\n                internals.push(this.state.value);\r\n                \r\n                vark.push(this.state.varkselection);\r\n\r\n\r\n                const newPush = this.props.modules;\r\n\r\n\r\n                this.props.firebase.courses().child(courseID).update({\r\n                    modules: newPush.slice(),\r\n                });\r\n            }\r\n            else {\r\n        \r\n                const allCourses = secureStorage.getItem('courses');\r\n                var courseID;\r\n                for (let i = 0, len = allCourses.length; i < len; ++i) {\r\n                    var course = allCourses[i];\r\n                    if (course.nclasscode === this.props.activeCourse) {\r\n                        courseID = course.appID; // identifies current course child name to update\r\n                        break;\r\n                    }\r\n                }\r\n                const arrModules = this.props.modules;\r\n                const curModule = this.props.moduleTitle;\r\n                for ( let i = 0; i < arrModules.length; ++i) {\r\n                    var neededModule;\r\n                    if ( arrModules[i].title === curModule) {\r\n                        neededModule = arrModules[i]; break; // finds needed module to edit\r\n                    }\r\n                }\r\n\r\n                const contents = neededModule.contents;  // modify the corresponding item\r\n                const internals = neededModule.internals;\r\n                const vark = neededModule.vark;\r\n                for ( let i = 0; i < contents.length; ++i) {\r\n                    let itemTemp = contents[i];\r\n                    if ( itemTemp === this.props.itemName && vark[i] === this.props.vark) {\r\n                    \r\n                        internals[i] = this.state.value;\r\n                    }\r\n                }\r\n\r\n\r\n                const newPush = this.props.modules; // record to database\r\n                \r\n\r\n                this.props.firebase.courses().child(courseID).update({\r\n                    modules: newPush.slice(),\r\n                });\r\n            }\r\n        }\r\n\r\n        this.closePopup();\r\n    }\r\n\r\n    // handleFilter(theState) { //handles selection of the dropdown VARK by the teacher\r\n    //     this.setState({varkselection: theState}, () => this.filterCallback());\r\n    // }\r\n\r\n    // filterCallback() { //callback from handleFilter\r\n    //     const allCourses = secureStorage.getItem('courses');\r\n    //         var courseID;\r\n    //         for (let i = 0, len = allCourses.length; i < len; ++i) {\r\n    //             var course = allCourses[i];\r\n    //             if (course.nclasscode === this.props.activeCourse) {\r\n    //                 courseID = course.appID; // identifies current course child name to update\r\n    //                 break;\r\n    //             }\r\n    //         }\r\n    //         const arrModules = this.props.modules;\r\n    //         const curModule = this.props.moduleTitle;\r\n    //         for ( let i = 0; i < arrModules.length; ++i) {\r\n    //             var neededModule;\r\n    //             if ( arrModules[i].title === curModule) {\r\n    //                 neededModule = arrModules[i]; break; // finds needed module to edit\r\n    //             }\r\n    //         }\r\n\r\n    //         const contents = neededModule.contents;  // modify the corresponding item\r\n    //         const vark = neededModule.vark;\r\n    //         for ( let i = 0; i < contents.length; ++i) {\r\n    //             let itemTemp = contents[i];\r\n    //             if ( itemTemp === this.props.itemName) {\r\n    //                 vark[i] = this.state.varkselection;\r\n    //             }\r\n    //         }\r\n\r\n    //         const newPush = this.props.modules; // record to database\r\n            \r\n    //         this.props.firebase.courses().child(courseID).update({\r\n    //             modules: newPush.slice(),\r\n    //         });\r\n    //     this.render();\r\n    // }\r\n\r\n    closePopup() {\r\n        if (this.props.cancelFunc) {\r\n            this.props.cancelFunc();\r\n        }\r\n        ModalManager.close();\r\n    }\r\n\r\n    render(){\r\n        var itemname = (this.props.itemName===\"add\") ? (\"\") : (this.props.itemName);\r\n       var internalDisplay = \"\";\r\n       var link = this.props.internal;\r\n       const bigModal = {\r\n            content: {\r\n                margin                  : '0 auto auto auto',\r\n                width                   : '100%',\r\n                height                  : '100%',\r\n                textAlign               : 'center',\r\n                overflow                : 'hidden',\r\n            }\r\n        };\r\n\r\n       if (this.props.teacherMode) { //If we're in edit mode\r\n        //    if (this.props.addItemMode) { //If we need to add a new item\r\n                var topBar = (\r\n                    <div className=\"modaltopbar\">\r\n                        <button id=\"topbarbutton\" onClick={this.closePopup}><img src={xicon} alt=\"Return\" height=\"15px\" alt=\"Exit Dialog\"/></button>\r\n                        <h2 className=\"topbarheader\">{itemname}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</h2>\r\n                        \r\n                    </div>\r\n                );\r\n                var headerBar = (\r\n                    null\r\n                );\r\n\r\n                //GUIDES\r\n\r\n                var ytguide = (\r\n                    <>\r\n                        <br /><br />\r\n                        <hr />\r\n                        <br /><br />\r\n                        <div className=\"instructionguide\">\r\n                            <h3>How to get a YouTube Video link</h3>\r\n                            <br /><br />\r\n                            <h2>Step 1</h2>\r\n                            <img src={ytguide1} alt=\"Instructions\"/><br />\r\n                            <p>From the default YouTube video page, click \"Share.\"</p>\r\n                            <br /><br />\r\n                            <h2>Step 2</h2>\r\n                            <img src={ytguide2} alt=\"Instructions\"/><br />\r\n                            <p>Hit \"Copy\" in the popup that appears.<br />\r\n                            If you want to change the timestamp at which the video begins to play, check the checkbox underneath the link, and type in the desired timestamp.</p>\r\n                            <br /><br />\r\n                        </div>\r\n                    </>\r\n                );\r\n\r\n                var gdrivevid = (\r\n                    <>\r\n                        <br /><br />\r\n                        <hr />\r\n                        <br /><br />\r\n                        <div className=\"instructionguide\">\r\n                            <h3>How to get a Google Drive Video/Audio link</h3>\r\n                            <br /><br />\r\n                            <h2>Step 1</h2>\r\n                            <img src={gdrivevid1} alt=\"Instructions\"/><br />\r\n                            <p>From the file preview in Google Drive, click the Menu icon in the top right, and then click \"Share.\"</p>\r\n                            <br /><br />\r\n                            <h2>Step 2</h2>\r\n                            <img src={gdrivevid2} alt=\"Instructions\"/><br />\r\n                            <p>In the popup that appears, hit \"Change\" in the bottom left.</p>\r\n                            <h2>Step 3</h2>\r\n                            <img src={gdrivevid3} alt=\"Instructions\"/><br />\r\n                            <p>If you want the students to be able to edit the file directly, make sure the dropdown reads \"Editor.\" However, if you only want them to be able to comment on the file, select \"Commenter,\" or if you only want them to be able to view the file, select \"Viewer.\" Then click \"Copy Link.\" </p>\r\n                            <br /><br />\r\n                        </div>\r\n                    </>\r\n                );\r\n\r\n                var gdrivedoc = (\r\n                    <>\r\n                        <br /><br />\r\n                        <hr />\r\n                        <br /><br />\r\n                        <div className=\"instructionguide\">\r\n                            <h3>How to get a Google Drive Document link</h3>\r\n                            <br /><br />\r\n                            <h2>Step 1</h2>\r\n                            <img src={gdrivedoc1} alt=\"Instructions\"/><br />\r\n                            <p>From the file, open in Google Docs, Slides, or some other editor, click the Share button in the top right.</p>\r\n                            <br /><br />\r\n                            <h2>Step 2</h2>\r\n                            <img src={gdrivedoc2} alt=\"Instructions\"/><br />\r\n                            <p>In the popup that appears, hit \"Change\" in the bottom left.</p>\r\n                            <h2>Step 3</h2>\r\n                            <img src={gdrivedoc3} alt=\"Instructions\"/><br />\r\n                            <p>If you want the students to be able to edit the file directly, make sure the dropdown reads \"Editor.\" However, if you only want them to be able to comment on the file, select \"Commenter,\" or if you only want them to be able to view the file, select \"Viewer.\" Then click \"Copy Link.\" </p>\r\n                            <br /><br />\r\n                        </div>\r\n                    </>\r\n                );\r\n\r\n                var gdriveform = (\r\n                    <>\r\n                        <br /><br />\r\n                        <hr />\r\n                        <br /><br />\r\n                        <div className=\"instructionguide\">\r\n                            <h3>How to use Google Forms for Assessments</h3>\r\n                            <br /><br />\r\n                            <h2>Step 1</h2>\r\n                            <img src={gdriveform1} alt=\"Instructions\"/><br />\r\n                            <p>Open a Google Form. In the top right, click the settings icon to open the settings dialog.</p>\r\n                            <br /><br />\r\n                            <h2>Step 2</h2>\r\n                            <img src={gdriveform2} alt=\"Instructions\"/><br />\r\n                            <p>In the popup that appears, hit \"Quizzes,\" and then hit the switch so that it's on. Modify the settings if you want, and then hit \"Save.\"<br />\r\n                            You should now be able to assign point values and correct answers to questions, and automatically view and grade student responses.</p>\r\n                            <h2>Step 3</h2>\r\n                            <img src={gdriveform3} alt=\"Instructions\"/><br />\r\n                            <p>Once your quiz is ready, hit \"Send\" in the top right, click the link icon, and then hit \"Copy\" to get the link.</p>\r\n                            <br /><br />\r\n                        </div>\r\n                    </>\r\n                );\r\n\r\n                //FORM OPTIONS\r\n\r\n                var youtubelink = (\r\n                    <>\r\n                        <form onSubmit={(event) => this.handleSubmit(event, 1)}>\r\n                            <label>\r\n                                <p className=\"teachernotice\">Enter the YouTube video link:</p>\r\n                                <input type=\"text\" value={this.state.value} onChange={this.handleChange}/></label>\r\n                                <br /><br />\r\n                            <input type=\"submit\" value=\"Submit\" />\r\n                        </form>\r\n                        {ytguide}\r\n                    </>\r\n                )\r\n\r\n                var googledrivelink = (\r\n                    <>\r\n                        <form onSubmit={(event) => this.handleSubmit(event, 2)}>\r\n                            <label>\r\n                                <p className=\"teachernotice\">Enter the Google Drive view link:</p>\r\n                                <input type=\"text\" value={this.state.value} onChange={this.handleChange}/></label>\r\n                                <br /><br />\r\n                            <input type=\"submit\" value=\"Submit\" />\r\n                        </form>\r\n                        {gdrivevid}\r\n                    </>\r\n                );\r\n\r\n                var googledriveformlink = (\r\n                    <>\r\n                        <form onSubmit={(event) => this.handleSubmit(event, 2)}>\r\n                            <label>\r\n                                <p className=\"teachernotice\">Enter the Google Form link:</p>\r\n                                <input type=\"text\" value={this.state.value} onChange={this.handleChange}/></label>\r\n                                <br /><br />\r\n                            <input type=\"submit\" value=\"Submit\" />\r\n                        </form>\r\n                        {gdriveform}\r\n                    </>\r\n                );\r\n\r\n                var googledrivedoclink = (\r\n                    <>\r\n                        <form onSubmit={(event) => this.handleSubmit(event, 2)}>\r\n                            <label>\r\n                                <p className=\"teachernotice\">Enter the Google Drive view link:</p>\r\n                                <input type=\"text\" value={this.state.value} onChange={this.handleChange}/></label>\r\n                                <br /><br />\r\n                            <input type=\"submit\" value=\"Submit\" />\r\n                        </form>\r\n                        {gdrivedoc}\r\n                    </>\r\n                );\r\n\r\n                var otherlink = (\r\n                    <>\r\n                        <form onSubmit={(event) => this.handleSubmit(event, 3)}>\r\n                            <label>\r\n                                <p className=\"teachernotice\">Enter the link:</p>\r\n                                <input type=\"text\" value={this.state.value} onChange={this.handleChange}/></label>\r\n                                <br /><br />\r\n                            <input type=\"submit\" value=\"Submit\" />\r\n                        </form>\r\n                    </>\r\n                );\r\n\r\n                var fileuploadlink = ( //FILE UPLOAD. input type is 4. Specify mb max size, as well as accepted file formats. Check for max size before allowing upload - plug submit into the handler\r\n                    <>\r\n                        <div> \r\n                            <p className=\"teachernotice\">Select a file to upload.</p>\r\n                            <p className=\"smallteachernotice\">Maximum file size: 10 MB.</p>\r\n                            <br /><br />\r\n                            <div className=\"upload-btn-wrapper\">\r\n                                <button className=\"btn\">Select a file</button>\r\n                                <input className=\"custom-file-input\" type=\"file\" onChange={this.onFileChange} /> \r\n                            </div>\r\n                            {this.fileData()} \r\n                            {this.state.error}\r\n                            {(this.fileData()!==null) ? (\r\n                            <button className=\"uploadfilebutton\" onClick={(event) => this.handleSubmit(event, 4)}>\r\n                                Upload file\r\n                            </button>) : (null)}\r\n                            <br /><br />\r\n                        </div> \r\n                    </>\r\n                );\r\n                \r\n                if (this.props.contentType==='Video' || this.props.contentType==='Audio') { //if its video or audio\r\n                    headerBar = (\r\n                        <>\r\n                            <h2>How do you wish to enter this item?</h2>\r\n                            <br />\r\n                            <button className=\"inputtypebutton\" onClick={() => this.setInputType(1)}>\r\n                                Youtube Video\r\n                            </button>\r\n                            {/* <button className=\"inputtypebutton\" onClick={() => this.setInputType(2)}>\r\n                                Google Drive\r\n                            </button> */}\r\n                            <button className=\"inputtypebutton\" onClick={() => this.setInputType(3)}>\r\n                                Other Link\r\n                            </button>\r\n                        </>\r\n                    );\r\n\r\n                    if (this.state.inputType===0) {\r\n                        internalDisplay = (null);\r\n                    } else if (this.state.inputType===1) { //if youtube video\r\n                        internalDisplay = (\r\n                            youtubelink\r\n                        );\r\n                    } else if (this.state.inputType===2) {\r\n                        internalDisplay = (\r\n                            googledrivelink\r\n                        );\r\n                    } else if (this.state.inputType===3) {\r\n                        internalDisplay = (\r\n                            otherlink\r\n                        );\r\n                    } \r\n                }\r\n                if (this.props.contentType==='Document') { //if its document\r\n                    headerBar = (\r\n                        <>\r\n                            <h2>How do you wish to enter this item?</h2>\r\n                            <br />\r\n                            <button className=\"inputtypebutton\" onClick={() => this.setInputType(1)}>\r\n                                File Upload\r\n                            </button>\r\n                            <button className=\"inputtypebutton\" onClick={() => this.setInputType(2)}>\r\n                                Google Drive\r\n                            </button>\r\n                            <button className=\"inputtypebutton\" onClick={() => this.setInputType(3)}>\r\n                                Other Link\r\n                            </button>\r\n                        </>\r\n                    );\r\n\r\n                    if (this.state.inputType===0) {\r\n                        internalDisplay = (null);\r\n                    } else if (this.state.inputType===1) { //if file upload\r\n                        internalDisplay = ( //FILE UPLOAD. input type is 4. Specify mb max size, as well as accepted file formats\r\n                            fileuploadlink\r\n                        );\r\n                    } else if (this.state.inputType===2) {\r\n                        internalDisplay = (\r\n                            googledrivedoclink\r\n                        );\r\n                    } else if (this.state.inputType===3) {\r\n                        internalDisplay = (\r\n                            otherlink\r\n                        );\r\n                    } \r\n                }\r\n                if (this.props.contentType==='Assessment') { //if its assessment\r\n                    headerBar = (\r\n                        <>\r\n                            <h2>How do you wish to enter this item?</h2>\r\n                            <br />\r\n                            <button className=\"inputtypebutton\" onClick={() => this.setInputType(1)}>\r\n                                Google Form (recommended)\r\n                            </button>\r\n                            <button className=\"inputtypebutton\" onClick={() => this.setInputType(4)}>\r\n                                Google Drive Document\r\n                            </button>\r\n                            <button className=\"inputtypebutton\" onClick={() => this.setInputType(2)}>\r\n                                File Upload\r\n                            </button>\r\n                            <button className=\"inputtypebutton\" onClick={() => this.setInputType(3)}>\r\n                                Other Link\r\n                            </button>\r\n                        </>\r\n                    );\r\n\r\n                    if (this.state.inputType===0) {\r\n                        internalDisplay = (null);\r\n                    } \r\n                    else if (this.state.inputType===2) { //if file upload\r\n                        internalDisplay = ( \r\n                            fileuploadlink\r\n                        );\r\n                    } \r\n                    else if (this.state.inputType===1) {\r\n                        internalDisplay = (\r\n                            googledriveformlink\r\n                        );\r\n                    } \r\n                    else if (this.state.inputType===3) {\r\n                        internalDisplay = (\r\n                           otherlink\r\n                        );\r\n                    } else if (this.state.inputType===4) {\r\n                        internalDisplay = (\r\n                            googledrivedoclink\r\n                        );\r\n                    }\r\n                }\r\n\r\n                return ( //big modal\r\n                    <Modal\r\n                        style = {bigModal}\r\n                        onRequestClose={this.props.onRequestClose}\r\n                        effect={Effect.ScaleUp}\r\n                    >\r\n                        {topBar}\r\n                        <br /><br />\r\n                        {headerBar}\r\n                        <br /><br /><br />\r\n                        <hr />\r\n                        <br /><br />\r\n                        {internalDisplay}\r\n                    </Modal>\r\n                );\r\n        //    } \r\n        //    else { //If we need to edit an existing item // THIS IS NEXT\r\n        //         internalDisplay = (\r\n        //             <div>\r\n        //                 <center>\r\n        //                     <h1 style={{fontSize: \"xx-large\"}}>Edit this item</h1>\r\n        //                     <Select passState={this.handleFilter} default={\"Choose a content type\"}/>\r\n        //                     <form onSubmit={this.handleSubmit}>\r\n        //                         <label>\r\n        //                             <p className=\"teachernotice\">Enter the link to the item:</p>\r\n        //                             <input type=\"text\" value={this.state.value} onChange={this.handleChange}/></label>\r\n        //                             <br /><br />\r\n        //                         <input type=\"submit\" value=\"Submit\" />\r\n        //                     </form>\r\n        //                 </center>\r\n        //             </div>\r\n        //         );\r\n\r\n        //         return ( //small modal\r\n        //             <Modal\r\n        //                 className=\"modaldialog\"\r\n        //                 onRequestClose={this.props.onRequestClose}\r\n        //                 effect={Effect.ScaleUp}>\r\n        //                 <h1 className=\"modaldialog\">\r\n        //                     {internalDisplay}\r\n        //                 </h1>\r\n        //             </Modal>\r\n        //         );\r\n        //     }\r\n       }\r\n       else { //if we're in student view mode\r\n            var topBar = (\r\n                <div className=\"modaltopbar\">\r\n                    <button id=\"topbarbutton\" onClick={this.closePopup}><img alt=\"Exit dialog\" src={xicon} alt=\"Return\" height=\"15px\" /></button>\r\n                    <div className=\"centeredtopbaritem\">                  \r\n                        <button id=\"topbarbutton\" onClick={() => this.props.goBack(itemname)}>&#9664; &nbsp; Back &nbsp; </button>      \r\n                        <h2 className=\"topbarheader\">{itemname}</h2>                        \r\n                        <button id=\"topbarbutton\" onClick={() => this.props.goNext(itemname)}>&nbsp; Next &nbsp; &#9654;</button>\r\n                    </div>\r\n                    <button id=\"topbarbutton\" onClick={() => window.open(this.props.internal, \"_blank\")}><img alt=\"Open in new tab\" src={newtabicon} alt=\"Return\" height=\"15px\" /></button>\r\n                </div>\r\n            );\r\n            var bottomBar = (\r\n                null\r\n                // <div className=\"modalbottombar\">\r\n                    \r\n                    \r\n                // </div>\r\n            );\r\n            if (typeof link === 'undefined') { //if the link is undefined, we want to ignore it (it's probably an old or deleted item)\r\n                // alert('Not available');\r\n                return;\r\n            }\r\n            if(\"VARK\".includes(this.props.vark) && link.includes(\"google\")){ //if it's a Google Drive file\r\n                // if (link.includes(\"/edit?usp=sharing\")) { //standardize link view\r\n                //     link = link.substring(0, link.indexOf(\"/edit?usp=sharing\")) + \"/view?usp=sharing\";\r\n                // }\r\n                // if (link.includes(\"/view?usp=sharing\")) { //if its a google drive shared file\r\n                //     link = link.substring(0, link.indexOf(\"/view?usp=sharing\")) + \"/preview\"; //make it an embeddable preview\r\n                // }\r\n                if (link.includes(\"/viewform\")) { //if its a google form/quiz, make it embedded\r\n                    link += \"?embedded=true\";\r\n                }\r\n\r\n                //embed it\r\n                var beforeCode = \"<iframe src=\\\"\";\r\n                var afterCode = \"\\\" width=\\\"100%\\\" height=\\\"100%\\\" />\";\r\n                var code = beforeCode + link + afterCode;\r\n\r\n                internalDisplay = (<div dangerouslySetInnerHTML={{__html: code}}></div>);\r\n\r\n                return ( //big modal\r\n                    <Modal\r\n                        style= {bigModal}\r\n                        onRequestClose={this.props.onRequestClose}\r\n                        effect={Effect.ScaleUp}\r\n                    >\r\n                        <div className=\"noscroll\">\r\n                            {topBar}\r\n                            <div className=\"scroll\">\r\n                                {internalDisplay}\r\n                            </div>\r\n                            {bottomBar}\r\n                        </div>\r\n                    </Modal>\r\n                );\r\n            } else if (link.includes(\"youtube\") || link.includes(\"youtu.be\")) { //if it's a Youtube video\r\n                if (link.includes(\"youtu.be\"))\r\n                    link = link.substring(0, link.indexOf(\"youtu.be\")) + \"youtube.com/watch?v=\" + link.substring(link.indexOf(\"be/\") + 3, link.length);\r\n                if (link.includes(\"youtube\"))\r\n                    link = link.substring(0, link.indexOf(\"/watch?v=\")) + \"/embed/\" + link.substring(link.indexOf(\"v=\") + 2, link.length);\r\n                var beforeCode = \"<iframe width=\\\"1008\\\" height=\\\"567\\\" src=\\\"\";\r\n                var afterCode = \"\\\" frameBorder=\\\"0\\\"\\n\" +\r\n                    \"allow=\\\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\\\"\\n\" +\r\n                    \"allowFullScreen></iframe>\";\r\n                var code = beforeCode + link + afterCode;\r\n\r\n                internalDisplay = (<div dangerouslySetInnerHTML={{__html: code}}></div>);\r\n\r\n                return ( //big modal\r\n                    <Modal\r\n                        style= {bigModal}\r\n                        onRequestClose={this.props.onRequestClose}\r\n                        effect={Effect.ScaleUp}\r\n                    >\r\n                        <div className=\"noscroll\">\r\n                            {topBar}\r\n                            <div className=\"scroll\">\r\n                                {internalDisplay}\r\n                            </div>\r\n                            {bottomBar}\r\n                        </div>\r\n                    </Modal>\r\n                );\r\n\r\n            } else if (link.includes('firebasestorage.googleapis.com')) { //The link is a firebase file\r\n                let file = link;\r\n                let type = link.substring(link.lastIndexOf('.'));\r\n\r\n                internalDisplay = (\r\n                    <FileViewer\r\n                        fileType={type}\r\n                        filePath={file}\r\n                    />\r\n                );\r\n\r\n                return ( //big modal\r\n                    <Modal\r\n                        style= {bigModal}\r\n                        onRequestClose={this.props.onRequestClose}\r\n                        effect={Effect.ScaleUp}\r\n                    >\r\n                        <div className=\"noscroll\">\r\n                            {topBar}\r\n                            <div className=\"scroll\">\r\n                                {internalDisplay}\r\n                            </div>\r\n                            {bottomBar}\r\n                        </div>\r\n                    </Modal>\r\n                );\r\n            }\r\n            else { //The link cannot be embedded as either Google Drive or normal File. We'll simply link to it in a new tab.\r\n                var beforeCode = \"<a class=\\\"linkbutton\\\" target=\\\"_blank\\\" href=\\\"\";\r\n                var afterCode = \"\\\">Click here to open content in new tab</a>\";\r\n                var code = beforeCode + link + afterCode;\r\n\r\n                internalDisplay = (<div dangerouslySetInnerHTML={{__html: code}}></div>);\r\n\r\n                return ( //small modal\r\n                    <Modal\r\n                        className=\"modaldialog\"\r\n                        onRequestClose={this.props.onRequestClose}\r\n                        effect={Effect.ScaleUp}>\r\n                        <h1 className=\"modaldialog\">\r\n                            <table style={{maxHeight: \"50px\"}}>\r\n                                <tr>\r\n                                    <td>\r\n                                        <button id=\"backbutton\" onClick={this.closePopup}><img alt=\"Exit dialog\" src={xicon} alt=\"Return\" height=\"15px\"/></button>\r\n                                    </td>\r\n                                    <td>\r\n                                        {internalDisplay}\r\n                                    </td>\r\n                                </tr>\r\n                            </table>\r\n                        </h1>\r\n                    </Modal>\r\n                );\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n//DOC: Component: Inline button that, when clicked, allows the user to rename a module.\r\n//Input: internal, moduleTitle, modules, firebase, activeCourse\r\n//Output: JSXElement\r\nclass RenameModule extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.onClick = this.onClick.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.clearField = this.clearField.bind(this);\r\n        this.cancel = this.cancel.bind(this);\r\n        this.state = {\r\n            value: this.props.internal,\r\n            active: false,\r\n            newVal: \"Enter new module name\",\r\n        };\r\n    }\r\n\r\n    cancel() {\r\n        this.setState({\r\n            active: false,\r\n        });\r\n    }\r\n\r\n    clearField() {\r\n        if (this.state.newVal===\"Enter new module name\") {\r\n            this.setState({\r\n                newVal: \"\",\r\n            });\r\n        }\r\n    }\r\n\r\n    onClick() {\r\n        this.setState({\r\n            active: true,\r\n        });\r\n    }\r\n\r\n    handleChange(event) {    this.setState({newVal: event.target.value});  }\r\n\r\n    handleSubmit(event) {\r\n        this.setState({\r\n            value: this.state.newVal,\r\n            active: false,\r\n        });\r\n\r\n        // this will rename the current module\r\n        const allCourses = secureStorage.getItem('courses');\r\n        var courseID;\r\n        for (let i = 0, len = allCourses.length; i < len; ++i) {\r\n            var course = allCourses[i];\r\n            if (course.nclasscode === this.props.activeCourse) {\r\n                courseID = course.appID; // identifies current course child name to update\r\n                break;\r\n            }\r\n        }\r\n        const arrModules = this.props.modules;\r\n\r\n        //check if we already have a module with that name\r\n        let iteration;\r\n        for (iteration in arrModules) {\r\n            if (arrModules[iteration].title===this.state.newVal) {\r\n                alert('You already have a module with that name!');\r\n                return;\r\n            }\r\n        }\r\n\r\n        const curModule = this.props.moduleTitle;\r\n        for ( let i = 0; i < arrModules.length; ++i) {\r\n            if ( arrModules[i].title === curModule) {\r\n                arrModules[i].title = this.state.newVal; // sets the new name\r\n            }\r\n        }\r\n        const newPush = this.props.modules; // push to firebase\r\n        this.props.firebase.courses().child(courseID).update({\r\n            modules: newPush.slice(),\r\n        });\r\n\r\n        event.preventDefault();\r\n    }\r\n\r\n    render() {\r\n        var inside = (\r\n            <input className=\"internaldeletion\" type=\"submit\" value=\"Rename\" />\r\n        );\r\n        if (this.state.active) {\r\n            inside = (\r\n            <div className=\"bisplitwrap\">\r\n                <form onSubmit={this.cancel}>\r\n                    <input className=\"whiteinternal\" type=\"submit\" value=\"Cancel\" />\r\n                </form>\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <label>\r\n                        <input className=\"whiteinternal\" type=\"text\" value={this.state.newVal} onChange={this.handleChange} onClick={this.clearField}/>\r\n                    </label>\r\n                    <input className=\"whiteinternal\" type=\"submit\" value=\"Submit\" />\r\n                </form>\r\n            </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div className={this.state.active ? \"activerenameitem\" : \"renameitem\"} onClick={() => this.onClick()}>\r\n                {inside}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n//DOC: Component: Inline button that, when clicked, allows the user to delete a module.\r\n//Input: internal, moduleTitle, modules, firebase, activeCourse\r\n//Output: JSXElement\r\nclass DeleteModule extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.onClick = this.onClick.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.cancel = this.cancel.bind(this);\r\n        this.state = {\r\n            value: this.props.internal,\r\n            active: false,\r\n            newVal: this.props.internal,\r\n        };\r\n    }\r\n\r\n    cancel() {\r\n        this.setState({\r\n            active: false,\r\n        });\r\n    }\r\n\r\n    onClick() {\r\n        this.setState({\r\n            active: true,\r\n        });\r\n    }\r\n\r\n    handleChange(event) {    this.setState({newVal: event.target.value});  }\r\n\r\n    handleSubmit(event) {\r\n        this.setState({\r\n            value: this.state.newVal,\r\n            active: false,\r\n        });\r\n\r\n        // this will rename the current module\r\n        const allCourses = secureStorage.getItem('courses');\r\n        var courseID;\r\n        for (let i = 0, len = allCourses.length; i < len; ++i) {\r\n            var course = allCourses[i];\r\n            if (course.nclasscode === this.props.activeCourse) {\r\n                courseID = course.appID; // identifies current course child name to update\r\n                break;\r\n            }\r\n        }\r\n        const arrModules = this.props.modules;\r\n\r\n        const curModule = this.props.moduleTitle;\r\n        for ( let i = 0; i < arrModules.length; ++i) {\r\n            if ( arrModules[i].title === curModule) {\r\n                arrModules[i].title = \"DELETE THAT YOU HOT DOG\"; // sets the new name to delete ot\r\n            }\r\n        }\r\n        const newPush = this.props.modules; // push to firebase\r\n        this.props.firebase.courses().child(courseID).update({\r\n            modules: newPush.slice(),\r\n        });\r\n\r\n        event.preventDefault();\r\n    }\r\n\r\n    render() {\r\n        var inside = (\r\n            <input className=\"internaldeletion\" type=\"submit\" value=\"Delete\" />\r\n        );\r\n        if (this.state.active) {\r\n            inside = (\r\n                <div className=\"bisplitwrap\">\r\n                    <form onSubmit={this.cancel}>\r\n                        <input className=\"internaldeletion\" type=\"submit\" value=\"Cancel\" />\r\n                    </form>\r\n                    <form onSubmit={this.handleSubmit}>\r\n                        <input className=\"internaldeletion\" type=\"submit\" value=\"Confirm Deletion\" />\r\n                    </form>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div className={this.state.active ? \"activerenameitem\" : \"renameitem\"} onClick={() => this.onClick()}>\r\n                {inside}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n//DOC: Component: Inline button that, when clicked, allows the user to rename an item.\r\n//Input: internal, moduleTitle, activeCourse, modules, itemName, vark, firebase\r\n//Output: JSXElement\r\nclass RenameItem extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.onClick = this.onClick.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.clearField = this.clearField.bind(this);\r\n        this.cancel = this.cancel.bind(this);\r\n        this.state = {\r\n            value: this.props.internal,\r\n            active: false,\r\n            newVal: \"Enter new item name\",\r\n        };\r\n    }\r\n\r\n    cancel() {\r\n        this.setState({\r\n            active: false,\r\n        });\r\n    }\r\n\r\n    clearField() {\r\n        if (this.state.newVal===\"Enter new item name\")\r\n            this.setState({newVal: \"\"});\r\n    }\r\n\r\n    onClick() {\r\n        this.setState({\r\n            active: true,\r\n        });\r\n    }\r\n\r\n    handleChange(event) {    this.setState({newVal: event.target.value});  }\r\n\r\n    handleSubmit(event) {\r\n\r\n        this.setState({\r\n            value: this.state.newVal,\r\n            active: false,\r\n        });\r\n\r\n        const allCourses = secureStorage.getItem('courses');\r\n        var courseID;\r\n        for (let i = 0, len = allCourses.length; i < len; ++i) {\r\n            var course = allCourses[i];\r\n            if (course.nclasscode === this.props.activeCourse) {\r\n                courseID = course.appID; // identifies current course child name to update\r\n                break;\r\n            }\r\n        }\r\n        const arrModules = this.props.modules;\r\n        const curModule = this.props.moduleTitle;\r\n        \r\n        for ( let i = 0; i < arrModules.length; ++i) {\r\n            var neededModule2;\r\n            if ( arrModules[i].title === curModule) {\r\n                neededModule2 = arrModules[i]; break; // finds needed module to edit\r\n            }\r\n        }\r\n\r\n        const contents = neededModule2.contents;  // renames the corresponding item\r\n        const vark = neededModule2.vark;\r\n\r\n        let count = 0;\r\n        for ( let i = 0; i < contents.length; ++i) { //check we're not duplicating item names\r\n            let itemTemp = contents[i];\r\n            \r\n            if ( (itemTemp === this.state.newVal) /*&& (vark[i] === this.props.vark)*/) {\r\n                alert('You already have an item with that name!');\r\n                event.preventDefault();\r\n                return;\r\n            }\r\n        }\r\n\r\n        for ( let i = 0; i < contents.length; ++i) { //good, actually rename it now\r\n            let itemTemp = contents[i];\r\n            if ( (itemTemp === this.props.itemName) /*&& (vark[i] === this.props.vark)*/) {\r\n                contents[i] = this.state.newVal;\r\n            }\r\n        }\r\n\r\n        const newPush = this.props.modules; // record to database\r\n        \r\n\r\n        this.props.firebase.courses().child(courseID).update({\r\n            modules: newPush.slice(),\r\n        });\r\n\r\n        event.preventDefault();\r\n    }\r\n\r\n    render() {\r\n        var inside = (\r\n            <input className=\"whiteinternaldeletion\" type=\"submit\" value=\"Rename\" />\r\n        );\r\n        if (this.state.active) {\r\n            inside = (\r\n                <div className=\"bisplitwrap\">\r\n                    <form onSubmit={this.cancel}>\r\n                        <input className=\"internal\" type=\"submit\" value=\"Cancel\" />\r\n                    </form>\r\n                    <form onSubmit={this.handleSubmit}>\r\n                        <label>\r\n                            <input className=\"whiteinternal\" type=\"text\" value={this.state.newVal} onChange={this.handleChange} onClick={this.clearField}/>\r\n                        </label>\r\n                        <input className=\"internal\" type=\"submit\" value=\"Submit\" />\r\n                    </form>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div className={this.state.active ? \"activerenameitemblue\" : \"renameitemblue\"} onClick={() => this.onClick()}>\r\n                {inside}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n//DOC: Component: Inline button that, when clicked, allows the user to delete an item.\r\n//Input: internal, moduleTitle, activeCourse, modules, itemName, vark, firebase\r\n//Output: JSXElement\r\nclass DeleteItem extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.onClick = this.onClick.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.cancel = this.cancel.bind(this);\r\n        this.state = {\r\n            value: this.props.internal,\r\n            active: false,\r\n            newVal: this.props.internal,\r\n        };\r\n    }\r\n\r\n    cancel() {\r\n        this.setState({\r\n            active: false,\r\n        });\r\n    }\r\n\r\n    onClick() {\r\n        this.setState({\r\n            active: true,\r\n        });\r\n    }\r\n\r\n    handleChange(event) {    this.setState({newVal: event.target.value});  }\r\n\r\n    handleSubmit(event) {\r\n        this.setState({\r\n            value: this.state.newVal,\r\n            active: false,\r\n        });\r\n\r\n        const allCourses = secureStorage.getItem('courses');\r\n        var courseID;\r\n        for (let i = 0, len = allCourses.length; i < len; ++i) {\r\n            var course = allCourses[i];\r\n            if (course.nclasscode === this.props.activeCourse) {\r\n                courseID = course.appID; // identifies current course child name to update\r\n                break;\r\n            }\r\n        }\r\n        const arrModules = this.props.modules;\r\n        const curModule = this.props.moduleTitle;\r\n        \r\n        for ( let i = 0; i < arrModules.length; ++i) {\r\n            var neededModule2;\r\n            if ( arrModules[i].title === curModule) {\r\n                neededModule2 = arrModules[i]; break; // finds needed module to edit\r\n            }\r\n        }\r\n\r\n        const contents = neededModule2.contents;  // renames the corresponding item\r\n        const vark = neededModule2.vark;\r\n\r\n        for ( let i = 0; i < contents.length; ++i) { //good, actually rename it now\r\n            let itemTemp = contents[i];\r\n            if ( (itemTemp === this.props.itemName) /*&& (vark[i] === this.props.vark)*/) {\r\n                contents[i] = \"DELETE THAT YOU HOT DOG\";\r\n            }\r\n        }\r\n\r\n        const newPush = this.props.modules; // record to database\r\n\r\n        this.props.firebase.courses().child(courseID).update({\r\n            modules: newPush.slice(),\r\n        });\r\n\r\n        event.preventDefault();\r\n    }\r\n\r\n    render() {\r\n        var inside = (\r\n            <input className=\"whiteinternaldeletion\" type=\"submit\" value=\"Delete\" />\r\n        );\r\n        if (this.state.active) {\r\n            inside = (\r\n                <div className=\"bisplitwrap\">\r\n                    <form onSubmit={this.cancel}>\r\n                        <input className=\"whiteinternaldeletion\" type=\"submit\" value=\"Cancel\" />\r\n                    </form>\r\n                    <form onSubmit={this.handleSubmit}>\r\n                        <input className=\"whiteinternaldeletion\" type=\"submit\" value=\"Confirm Deletion\" />\r\n                    </form>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div className={this.state.active ? \"activerenameitemblue\" : \"renameitemblue\"} onClick={() => this.onClick()}>\r\n                {inside}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n//DOC: Component: Inline button that, when clicked, allows the user to edit an item.\r\n//Input: openModal\r\n//Output: JSXElement\r\nclass EditItem extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.onClick = this.onClick.bind(this);\r\n        this.cancel = this.cancel.bind(this);\r\n        this.openModal = this.openModal.bind(this);\r\n        this.state = {\r\n            active: false,\r\n        };\r\n    }\r\n\r\n    cancel() {\r\n        this.setState({\r\n            active: false,\r\n        });\r\n    }\r\n\r\n    onClick() {\r\n        this.setState({\r\n            active: true,\r\n        });\r\n    }\r\n\r\n    shouldComponentUpdate(newProps, newState) {\r\n        return (newState.active!==this.state.active);\r\n    }\r\n\r\n    openModal(name) {\r\n        this.props.openModal(name, this.cancel); \r\n    }\r\n\r\n    render() {\r\n        var inside;\r\n        \r\n        if (this.state.active) {\r\n            inside = (\r\n                <div className=\"bisplitwrap\">\r\n                    <form onSubmit={this.cancel}>\r\n                        <input className=\"whiteinternaldeletion\" type=\"submit\" value=\"Cancel\" />\r\n                    </form>\r\n\r\n                    <button className=\"dropdownbuttons\" onClick={() => {this.openModal('Video');}}>Video</button>\r\n                    \r\n                    <button className=\"dropdownbuttons\" onClick={() => {this.openModal('Audio');}}>Audio</button>\r\n                    \r\n                    <button className=\"dropdownbuttons\" onClick={() => {this.openModal('Document');}}>Document</button>\r\n                    \r\n                    <button className=\"dropdownbuttons\" onClick={() => {this.openModal('Assessment')}}>Assessment</button>\r\n                </div>\r\n            );\r\n        } else {\r\n            inside = (\r\n                <input className=\"whiteinternaldeletion\" type=\"submit\" value=\"Edit Item\" />\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div className={this.state.active ? \"activerenameitemblue\" : \"renameitemblue\"} onClick={() => this.onClick()}>\r\n                {inside}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n//DOC: Component: A course item, that, when clicked, displays one of the course contents.\r\n//Input: updateMap, varkStatus, instantOpen, name, vark, internal, addVarkClicks, teacherMode, moduleTitle, activeCourse, modules, firebase, evenodd, isMobile\r\n//Output: JSXElement\r\nclass ModuleContentItem extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.openModal = this.openModal.bind(this);\r\n        this.getProgress = this.getProgress.bind(this);\r\n        this.state = {\r\n            progressMark: this.getProgress()\r\n        }\r\n    }\r\n\r\n    getProgress() {\r\n        //this.props.moduleTitle has the title of the current module\r\n        //this.props.name has the name of the current item\r\n        try{\r\n            const usr = secureStorage.getItem('authUser');\r\n            const listofstuff = Object.values(usr).slice()[5];\r\n            const listofmodules = listofstuff[this.props.activeCourse];\r\n            const listofitems = listofmodules[this.props.moduleTitle];\r\n            const status = listofitems[this.props.name]\r\n            const temp = status[\"status\"];\r\n            return temp;\r\n        } catch (e){return false;}\r\n    }\r\n\r\n    markProgress = checked => {\r\n        this.setState({\r\n            progressMark: !(this.state.progressMark)\r\n        });\r\n        \r\n        //this.props.moduleTitle has the title of the current module\r\n        //this.props.name has the name of the current item\r\n        const usr = secureStorage.getItem('authUser');\r\n        this.props.firebase.user(Object.values(usr).slice()[0]).child('vcourseprogress')\r\n        .child(this.props.activeCourse)\r\n        .child(this.props.moduleTitle)\r\n        .child(this.props.name).update({\r\n            status: checked,\r\n        });\r\n\r\n        this.props.updateMap(this.props.name, checked);\r\n\r\n        this.props.firebase.onAuthUserListener(\r\n            authUser => {\r\n                secureStorage.setItem('authUser', authUser);\r\n            },\r\n            () => { // callback\r\n            },\r\n        );\r\n    }\r\n\r\n    openModal(contentType, cancelFunc) { //this registers the click\r\n        let teacherMode = !(contentType===\"studentmode\");\r\n        if (this.props.varkStatus) {\r\n            this.props.addVarkClicks(this.props.vark);\r\n        }\r\n        if (this.props.instantOpen) {\r\n            window.open(this.props.internal, '_blank');\r\n        }\r\n        else {\r\n            const header = this.props.name;\r\n            ModalManager.open(<MyModal goNext={this.props.goNext} goBack={this.props.goBack} cancelFunc={cancelFunc} contentType={contentType} addItemMode={false} varkStatus={this.props.varkStatus} itemName={this.props.name} firebase={this.props.firebase} text={header} modules={this.props.modules} activeCourse={this.props.activeCourse} moduleTitle={this.props.moduleTitle} internal={this.props.internal} vark={this.props.vark} onRequestClose={() => true} teacherMode={teacherMode} />);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let precede = this.props.vark;\r\n        // var attribute = precede+\"modulecontentitem\"\r\n        var attribute = (this.props.evenodd) ? (\"lightmodulecontentitem\") : (\"darkmodulecontentitem\");\r\n        if (this.props.isMobile==='medium') {\r\n            attribute = \"mobile\"+attribute;\r\n        } else {\r\n            attribute = \"lightmodulecontentitem\";\r\n        }\r\n\r\n        var teacherMode = this.props.teacherMode;\r\n        var renameDisplay = (\r\n            <RenameItem\r\n                internal={this.props.name}\r\n                moduleTitle={this.props.moduleTitle}\r\n                activeCourse={this.props.activeCourse}\r\n                modules={this.props.modules}\r\n                vark={this.props.vark}\r\n                itemName={this.props.name}\r\n                firebase={this.props.firebase}\r\n            />\r\n        );\r\n        var deleteDisplay = (\r\n            <DeleteItem\r\n                internal={this.props.name}\r\n                moduleTitle={this.props.moduleTitle}\r\n                activeCourse={this.props.activeCourse}\r\n                modules={this.props.modules}\r\n                vark={this.props.vark}\r\n                itemName={this.props.name}\r\n                firebase={this.props.firebase}\r\n            />\r\n        );\r\n        var editDisplay = (\r\n            <EditItem\r\n                openModal={this.openModal}\r\n            />\r\n        );\r\n\r\n        var formatText=(this.state.progressMark) ? (\"strikethrough\") : (\"normal\");\r\n        var formatText=(\"normal\");\r\n\r\n        var datacells = (\r\n            <div className={attribute}>\r\n                <div className=\"showflex\" >\r\n                    {this.props.isMobile==='medium' ? null : <label className={(this.state.progressMark) ? ('activeswitchcheck') : ('switchcheck')} onClick={() => this.markProgress(!(this.state.progressMark))} />}\r\n                    <div className=\"showtext\" onClick={() => {this.openModal('studentmode')}}>\r\n                        <div className={formatText}>\r\n                            {this.props.name}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n        //insert 5 lines below: onClick={() => {this.openModal('studentmode')}}\r\n        if (teacherMode) {\r\n            datacells = (\r\n                <div className={\"unresponsive\"+attribute} >\r\n                    <div className=\"editflex\" >\r\n                        <div className=\"editflextext\">\r\n                            {editDisplay}\r\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                            <div className={formatText}>\r\n                                {this.props.name}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"editflexicon\">\r\n                            {renameDisplay}\r\n                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                            {deleteDisplay}\r\n                        </div>\r\n                    </div>\r\n                    \r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                {datacells}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n//DOC: Component: A button that allows the user (assumedly a teacher) to add an item to the module.\r\n//Input: moduleTitle, activeCourse, modules, firebase, varkStatus\r\n//Output: JSXElement\r\nclass AddModuleContentItemItem extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.openModal = this.openModal.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.clearField = this.clearField.bind(this);\r\n        this.deactivate = this.deactivate.bind(this);\r\n        this.activate = this.activate.bind(this);\r\n        this.state = {\r\n            active: 0,\r\n            newVal: 'Enter item name',\r\n        }\r\n    }\r\n\r\n    handleChange(event) {\r\n        this.setState({\r\n            newVal: event.target.value,\r\n        });\r\n    }\r\n\r\n    clearField() {\r\n        if (this.state.newVal===\"Enter item name\") {\r\n            this.setState({\r\n                newVal: \"\",\r\n            });\r\n        }\r\n    }\r\n\r\n    deactivate() {\r\n        this.setState({\r\n            active: 0,\r\n        });\r\n    }\r\n\r\n    activate(step) {\r\n        this.setState({\r\n            active: step,\r\n        });\r\n    }\r\n\r\n    openModal(contentType) { //this registers the click\r\n        let vark = \"\";\r\n        if (contentType==='Video') {\r\n            vark = 'V';\r\n        }\r\n        if (contentType===\"Audio\") {\r\n            vark = 'A';\r\n        }\r\n        if (contentType==='Document') {\r\n            vark = 'R';\r\n        }\r\n        if (contentType==='Assessment') {\r\n            vark = 'K';\r\n        }\r\n        \r\n        ModalManager.open(<MyModal vark={vark} contentType={contentType} varkStatus={this.props.varkStatus} itemName={this.state.newVal} firebase={this.props.firebase} moduleTitle={this.props.moduleTitle} activeCourse={this.props.activeCourse} modules={this.props.modules} onRequestClose={() => true} teacherMode={true} addItemMode={true}/>);\r\n    }\r\n\r\n    render() {\r\n        var dropdown = (this.state.active===2) ? (\r\n            <>\r\n                <br />\r\n                <button className=\"dropdownbuttons\" onClick={() => {this.deactivate(); this.openModal('Video');}}>Video</button>\r\n                <br />\r\n                <button className=\"dropdownbuttons\" onClick={() => {this.deactivate(); this.openModal('Audio');}}>Audio</button>\r\n                <br />\r\n                <button className=\"dropdownbuttons\" onClick={() => {this.deactivate(); this.openModal('Document');}}>Document</button>\r\n                <br />\r\n                <button className=\"dropdownbuttons\" onClick={() => {this.deactivate(); this.openModal('Assessment')}}>Assessment</button>\r\n            </>\r\n        ) : (null);\r\n\r\n        var form = (this.state.active===1) ? (\r\n            <>\r\n                <form onSubmit={() => this.activate(2)}>\r\n                    <label>\r\n                        <input id=\"darkinternal\" type=\"text\" value={this.state.newVal} onChange={this.handleChange} onClick={this.clearField}/>\r\n                    </label>\r\n                    <input className=\"darkinternaladd\" type=\"submit\" value=\"Submit\" />\r\n                </form>                \r\n            </>\r\n        ) : (null);\r\n\r\n        return (\r\n            <div className={\"addmodulecontentitem\"} >\r\n                {(this.state.active!==0) ? (<><button className=\"dropdownbutton\" onClick={() => this.deactivate()}>Cancel</button></>) : (<button className=\"dropdownbutton\" onClick={() => this.activate(1)}>Add an Item</button>)}\r\n                {form}\r\n                {dropdown}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n//DOC: Component: A button that allows the user (assumedly a teacher) to add a module to the course.\r\n//Input: internal, activeCourse, modules, firebase, changeActiveCourse\r\n//Output: JSXElement\r\nclass AddModuleItem extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.clearField = this.clearField.bind(this);\r\n        this.state = {\r\n            value: this.props.internal,\r\n            active: false,\r\n            newVal: \"Enter Module Name\",\r\n        };\r\n    }\r\n\r\n    clearField() {\r\n        if (this.state.newVal===\"Enter Module Name\") {\r\n            this.setState({\r\n                newVal: \"\",\r\n            });\r\n        }\r\n    }\r\n\r\n    handleChange(event) {    this.setState({newVal: event.target.value});  }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n\r\n        const allCourses = secureStorage.getItem('courses');\r\n        var courseID;\r\n        for (let i = 0, len = allCourses.length; i < len; ++i) {\r\n            var course = allCourses[i];\r\n            if (course.nclasscode === this.props.activeCourse) {\r\n                courseID = course.appID; // identifies current course child name to update, courseID != classcode\r\n                break;\r\n            }\r\n        }\r\n        const arrModules = this.props.modules;\r\n        const moduleTitle = this.state.newVal;\r\n\r\n        //check if we already have a module with that name\r\n        let iteration;\r\n        for (iteration in arrModules) {\r\n            if (arrModules[iteration].title===moduleTitle) {\r\n                alert('You already have a module with that name!');\r\n                return;\r\n            }\r\n        }\r\n        \r\n        const blankModule =  \r\n        {\r\n            title: moduleTitle,\r\n            contents: [\"DELETE THAT YOU HOT DOG\",],\r\n            vark: ['A',],\r\n            internals: [\"https://youtu.be/uWJtJYXtTKo\",]\r\n        } // creates example blank module using module title\r\n\r\n        arrModules.push(blankModule);\r\n            \r\n        const newPush = arrModules.slice();\r\n\r\n        this.props.firebase.courses().child(courseID).update({\r\n            modules: newPush.slice(),\r\n        });\r\n    }\r\n    \r\n    render() {\r\n        var inside = (null);\r\n        if (this.state.active) {\r\n            inside = (\r\n                <div>\r\n                    <form onSubmit={this.handleSubmit}>\r\n                        <label>\r\n                            <input id=\"lightinternal\" type=\"text\" value={this.state.newVal} onChange={this.handleChange} onClick={this.clearField}/>\r\n                        </label>\r\n                        <input className=\"internaladd\" type=\"submit\" value=\"Submit\" />\r\n                    </form>\r\n                </div>\r\n            ) \r\n        }\r\n\r\n        var button = (this.state.active) ? \r\n        (<button className=\"internaladd\" onClick={() => this.setState({active: false})}>Cancel</button>) : \r\n        (<button className=\"darkdropdownbutton\" onClick={() => this.setState({active: true})}>Add a Module</button>);\r\n\r\n        return (\r\n            <div className=\"addmoduleitem\">\r\n                <div className=\"renameitem\">\r\n                    <div className=\"bisplit\">\r\n                        {button}\r\n                        {inside}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction checkStrings(string_1, string_2) {\r\n    let valid = true;\r\n    for (var c=0; c<string_1.length; c++) {\r\n        if (string_1.charCodeAt(c) != string_2.charCodeAt(c)) {\r\n            // alert('c:'+c+' '+string_1.charCodeAt(c)+'!='+string_2.charCodeAt(c));\r\n            valid = false;\r\n        }\r\n    }\r\n    return valid;\r\n}\r\n\r\n//DOC: Component: Displays an entire module, including all of its content items.\r\n//Input: isMobile, instantOpen, name, contents, vark, internals, active, username, addVarkClicks, varkMode, teacherMode, activeCourse, modules, firebase, showVark, varkStatus\r\n//Output: JSXElement\r\nfunction ModuleItem(props) {\r\n    // let skippedIndices = [];\r\n    // let cnt1 = 0;\r\n    // for (cnt1 in props.contents) {\r\n    //     if (props.contents[cnt1] === 'DELETE THAT YOU HOT DOG') {\r\n    //         skippedIndices.push(cnt1);\r\n    //     }\r\n    // }\r\n    // let i = 0;\r\n    var localcontents = props.contents.slice();\r\n    var localvark = props.vark.slice();\r\n    var localinternals = props.internals.slice();\r\n    // console.log(localinternals);\r\n    // for (i in skippedIndices) {\r\n    //     localcontents.splice(skippedIndices[i], 1);\r\n    //     localvark.splice(skippedIndices[i], 1);\r\n    //     localinternals.splice(skippedIndices[i], 1);\r\n    // }\r\n    // console.log(localvark);\r\n\r\n    function openModal(newindex, localcontents, localinternals) { //this registers the click to skip to the next or prev item\r\n        // console.log(newindex);\r\n        let teacherMode = props.teacherMode; //should be false\r\n        if (props.instantOpen) {\r\n            window.open(localinternals[newindex], '_blank');\r\n        }\r\n        else {\r\n            const header = localcontents[newindex];\r\n            // ModalManager.close();\r\n            ModalManager.open(<MyModal goNext={goNext} goBack={goBack} contentType={localvark[newindex]} addItemMode={false} varkStatus={props.varkStatus} itemName={props.contents[newindex]} firebase={props.firebase} text={header} modules={props.modules} activeCourse={props.activeCourse} moduleTitle={props.name} internal={localinternals[newindex]} vark={localvark[newindex]} onRequestClose={() => true} teacherMode={teacherMode} />);\r\n        }\r\n    }\r\n\r\n    function getProgress(contentname) {\r\n        //this.props.moduleTitle has the title of the current module\r\n        //this.props.name has the name of the current item\r\n        try{\r\n            const usr = secureStorage.getItem('authUser');\r\n            const listofstuff = Object.values(usr).slice()[5];\r\n            const listofmodules = listofstuff[props.activeCourse];\r\n            const listofitems = listofmodules[props.name];\r\n            const status = listofitems[contentname]\r\n            const temp = status[\"status\"];\r\n            return temp;\r\n        } catch (e){return false;}\r\n    }\r\n\r\n    function goBack(currentItemName) {\r\n        // console.log('I reached the goBack function!');\r\n        // console.log(localcontents.length);\r\n        // console.log(localinternals.length);\r\n        // let index;\r\n        // for (index in localcontents) {\r\n\r\n        //     console.log(index);\r\n        //     if (localcontents[index]===currentItemName) {\r\n        //         console.log('I found the correct item and index in goBack! The index is ' + index);\r\n        //         if (index==1) {\r\n        //             console.log('Hey there');\r\n        //             alert('This is the first item in the module.');\r\n        //             return;\r\n        //         }\r\n        //         else {\r\n        //             //open the modal with the new item whose name is listofitems[index-1]\r\n        //             openModal(parseInt(index, 10)-1, localcontents, localinternals);\r\n        //         }\r\n        //     }\r\n        // }\r\n        var i;\r\n        let stopBool = false;\r\n        for (i = localcontents.indexOf(currentItemName); i >= 0; i--) {\r\n            // console.log(localcontents[i]+'');\r\n            var current = (localcontents[i].trim()).normalize(\"NFKC\");\r\n            // console.log(typeof current);\r\n            if (stopBool) {\r\n                // console.log(current);\r\n                openModal(i, localcontents, localinternals);\r\n                return;\r\n            }\r\n            if (i==0) {\r\n                alert('This is the first item in the module.');\r\n                return;\r\n            }\r\n            // console.log('I reached the thing');\r\n            if (checkStrings(((localcontents[i-1].trim()).normalize(\"NFKC\")),(('DELETE THAT YOU HOT DOG').normalize(\"NFKC\")))) {\r\n                // console.log('I recognized the thing');\r\n                if (i==1) {\r\n                    alert('This is the first item in the module.');\r\n                    return;\r\n                }\r\n                else {\r\n                    continue;\r\n                }\r\n            } else {\r\n                // console.log('I failed to recognize the thing');\r\n                stopBool = true;\r\n                continue;\r\n            }\r\n        }\r\n    }\r\n    \r\n    function goNext(currentItemName) {\r\n        // console.log('I reached the goNext function!');\r\n        // console.log(localcontents.length);\r\n        // console.log(localinternals.length);\r\n        // let index;\r\n        // for (index in localcontents) {\r\n        //     console.log(index);\r\n        //     if (localcontents[index]===currentItemName) {\r\n        //         console.log('I found the correct item and index in goNext! The index is ' + index);\r\n        //         if (index==localcontents.length-1) {\r\n        //             alert('This is the last item in the module.');\r\n        //             return;\r\n        //         }\r\n        //         if (localcontents[index]==='DELETE THAT YOU HOT DOG') {\r\n\r\n        //         }\r\n        //         else {\r\n        //             //open the modal with the new item whose name is listofitems[index+1]\r\n        //             openModal(parseInt(index, 10)+1, localcontents, localinternals);\r\n        //         }\r\n        //     }\r\n        // }\r\n        var i;\r\n        let stopBool = false;\r\n        for (i = localcontents.indexOf(currentItemName); i < localcontents.length; i++) {\r\n            // console.log(localcontents[i]+'');\r\n            var current = (localcontents[i].trim()).normalize(\"NFKC\");\r\n            // console.log(typeof current);\r\n            if (stopBool) {\r\n                // console.log(current);\r\n                openModal(i, localcontents, localinternals);\r\n                return;\r\n            }\r\n            if (i==localcontents.length-1) {\r\n                alert('This is the last item in the module.');\r\n                return;\r\n            }\r\n            // console.log('I reached the thing');\r\n            if (checkStrings(((localcontents[i+1].trim()).normalize(\"NFKC\")),(('DELETE THAT YOU HOT DOG').normalize(\"NFKC\")))) {\r\n                // console.log('I recognized the thing');\r\n                if (i==localcontents.length-1) {\r\n                    alert('This is the last item in the module.');\r\n                    return;\r\n                }\r\n                else {\r\n                    continue;\r\n                }\r\n            } else {\r\n                // console.log('I failed to recognize the thing');\r\n                stopBool = true;\r\n                continue;\r\n            }\r\n        }\r\n    }\r\n\r\n    // const active = 'active';\r\n\r\n    const [active, setActive] = React.useState('active');\r\n\r\n    const [showExpl, setShowExpl] = React.useState(false);\r\n\r\n    let beginMap = new Map();\r\n    props.contents.map(contentitem =>(\r\n        beginMap.set(contentitem, getProgress(contentitem))\r\n    ));\r\n\r\n    const [map, setMap] = React.useState(beginMap);\r\n\r\n    var attribute = 'active'+\"moduleitem\";\r\n\r\n    if (props.isMobile==='medium') {\r\n        attribute = \"mobile\"+attribute;\r\n    }\r\n\r\n    var teacherMode = props.teacherMode;\r\n\r\n    function updateMap(key, value) {\r\n        var newMap = new Map(map);\r\n        newMap.set(key, value);\r\n        setMap(newMap);\r\n    }\r\n\r\n    function areItemsAllComplete() {\r\n        for (const v of map.values()) {\r\n            if (!v) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    if (teacherMode) {\r\n        attribute+=\"teacher\";\r\n    }\r\n\r\n    var addCourseItemItem = (<div />);\r\n    if (teacherMode) {\r\n        addCourseItemItem = (\r\n            <AddModuleContentItemItem\r\n                varkStatus={props.varkStatus}\r\n                moduleTitle={props.name}\r\n                activeCourse={props.activeCourse}\r\n                modules={props.modules}\r\n                firebase={props.firebase}\r\n            />\r\n        );\r\n    }\r\n\r\n    var renameDisplay = (<div />);\r\n    if (teacherMode) {\r\n        renameDisplay = (\r\n            <RenameModule\r\n                internal={props.name}\r\n                moduleTitle={props.name}\r\n                activeCourse={props.activeCourse}\r\n                modules={props.modules}\r\n                firebase = {props.firebase}\r\n            />\r\n        );\r\n    }\r\n\r\n    var deleteDisplay = (<div />);\r\n    if (teacherMode) {\r\n        deleteDisplay = (\r\n            <DeleteModule\r\n                internal={props.name}\r\n                moduleTitle={props.name}\r\n                activeCourse={props.activeCourse}\r\n                modules={props.modules}\r\n                firebase = {props.firebase}\r\n            />\r\n        );\r\n    }\r\n\r\n    var topbar = (\r\n        <div className=\"moduletitle\" >\r\n            <div className={(\"normal\")}>\r\n                <div className=\"bisplitbetween\">\r\n                    <div>\r\n                        {props.name} \r\n                        {props.isMobile==='medium' ? null : <span class=\"collapsetext\" onClick={active==='active' ? () => setActive('inactive') : () => setActive('active')}>{active==='active' ? \"(collapse)\" : \"(expand)\"}</span>}\r\n                        {props.isMobile==='medium' ? null : (active==='active' ? <div className=\"tinyorangebreak\" /> : null)}\r\n                    </div>\r\n                    <div className=\"bisplitbetweenright\">\r\n                        {/* <div className=\"expltext\" onMouseOver={() => setShowExpl(true)} onMouseOut={() => setShowExpl(false)}>{(showExpl) ? ('Mark as Complete') : ('( ? )')}</div> */}\r\n                        {/* <Line percent={progresspercentage+''} strokeWidth=\"4\" strokeColor=\"#3DBB9F\" /> */}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n    if (teacherMode) {\r\n        topbar = (\r\n            <div className=\"titlemodulecontentitem\" >\r\n                <div className=\"editflex\" >\r\n                    <div className=\"editflextext\">\r\n                        {props.name}\r\n                    </div>\r\n                    <div className=\"editflexicon\">\r\n                        {renameDisplay}\r\n                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                        {deleteDisplay}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    let evenodd = [];\r\n    let cnt;\r\n    let boolVal = false;\r\n    for (cnt in props.contents) {\r\n        if (props.contents[cnt]==='DELETE THAT YOU HOT DOG') {\r\n            evenodd.push(boolVal);\r\n            continue;\r\n        }\r\n        evenodd.push(boolVal);\r\n        boolVal = !boolVal;\r\n    }\r\n\r\n    //evenodd[props.contents.indexOf(contentitem)]\r\n    return (\r\n        <div>\r\n            <div className={attribute} >\r\n                {topbar}\r\n                <div className=\"modulecontents\">\r\n                    {(active===\"active\") ? (props.contents.map(\r\n                        contentitem =>\r\n                        (props.varkMode===\"All\" || props.varkMode===props.vark[props.contents.indexOf(contentitem)])\r\n                        ? (\r\n                            (contentitem!==\"DELETE THAT YOU HOT DOG\") ?\r\n                            (<ModuleContentItem\r\n                                goNext={goNext}\r\n                                goBack={goBack}\r\n                                updateMap={updateMap}\r\n                                varkStatus={props.varkStatus}\r\n                                instantOpen={props.instantOpen}\r\n                                name={contentitem}\r\n                                vark={(props.showVark) ? (props.vark[props.contents.indexOf(contentitem)]) : (\"\")}\r\n                                internal={props.internals[props.contents.indexOf(contentitem)]}\r\n                                addVarkClicks={props.addVarkClicks}\r\n                                teacherMode={props.teacherMode}\r\n                                moduleTitle={props.name}\r\n                                activeCourse={props.activeCourse}\r\n                                modules={props.modules}\r\n                                firebase={props.firebase}\r\n                                evenodd={evenodd[props.contents.indexOf(contentitem)]}\r\n                                isMobile={props.isMobile}                         \r\n                            />) : (null)\r\n                        )\r\n                        :\r\n                        (<div />)\r\n                    )) : (null)}\r\n                    {(active===\"active\") ? (addCourseItemItem) : (null)}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n//DOC: Component: Renders an edit course panel inside the course tab for teachers\r\n//Input: activeCourse, handleSubmit, courseDescription\r\n//Output: JSXElement\r\nfunction EditCourseDescription(props) {\r\n    function handleChangeArea(event) {\r\n        setareavalue(event.target.value);\r\n    }\r\n\r\n    function handleSubmit(event) {\r\n        event.preventDefault();\r\n        props.handleSubmit(areavalue, props.activeCourse);\r\n    }\r\n\r\n    const [areavalue, setareavalue] = React.useState(props.courseDescription);\r\n    let areacharCount = 300-areavalue.length;\r\n\r\n    return (\r\n        <div className=\"linearmanagecontent\">\r\n            <br />\r\n            <p className=\"infosectionheader\">\r\n                <b>Edit Course Description</b>\r\n            </p>\r\n            <div>\r\n                <label>\r\n                    <br />\r\n                    <textarea className=\"textarea\" type=\"text\" value={areavalue} onChange={handleChangeArea} rows=\"5\" cols=\"70\"/>\r\n                </label>\r\n                <p className=\"reallysmallparagraph\">{areacharCount} characters remaining</p>\r\n                \r\n                <form onSubmit={handleSubmit}>             \r\n                    <input type=\"submit\" value={(\"Submit\")} />\r\n                </form>\r\n                <br />\r\n            </div>            \r\n        </div>\r\n    );\r\n}\r\n\r\n//DOC: Component: Displays the entire VARK Profile.\r\n//Input: Vcnt, Acnt, Rcnt, Kcnt\r\n//Output: JSXElement\r\nfunction VarkProfile(props) {\r\n    const lineWidth = 60;\r\n    return (\r\n        <div className=\"varkprofile\">\r\n            <PieChart\r\n                style={{\r\n                    fontFamily:\r\n                    '\"Nunito Sans\", -apple-system, Helvetica, Arial, sans-serif',\r\n                    fontSize: '8px',\r\n                    height: \"150px\",\r\n                }}\r\n                data={[\r\n                    {\r\n                        color: 'red',\r\n                        title: 'Video',\r\n                        value: props.Vcnt,\r\n                    },\r\n                    {\r\n                        color: 'blue',\r\n                        title: 'Audio',\r\n                        value: props.Acnt,\r\n                    },\r\n                    {\r\n                        color: 'green',\r\n                        title: 'Document',\r\n                        value: props.Rcnt,\r\n                    },\r\n                    {\r\n                        color: 'purple',\r\n                        title: 'Assessment',\r\n                        value: props.Kcnt,\r\n                    },\r\n                ]}\r\n                radius={PieChart.defaultProps.radius - 6}\r\n                lineWidth={60}\r\n                segmentsStyle={{ transition: 'stroke .3s', cursor: 'pointer' }}\r\n                animate\r\n                label={({ dataEntry }) => Math.round(dataEntry.percentage) + '%'}\r\n                labelPosition={100 - lineWidth / 2}\r\n                labelStyle={{\r\n                    fill: '#fff',\r\n                    opacity: 0.75,\r\n                    pointerEvents: 'none',\r\n                }}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\n//DOC: Component: Allows the user to filter which VARK-type of items to display.\r\n//Input: passState, default\r\n//Output: JSXElement\r\nclass Select extends React.PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    state = {\r\n      options: [\r\n        {\r\n            name: this.props.default,\r\n            value: \"All\",\r\n        },\r\n        {\r\n            name: 'Video',\r\n            value: 'V',\r\n        },\r\n        {\r\n            name: 'Audio',\r\n            value: 'A',\r\n        },\r\n        {\r\n            name: 'Document',\r\n            value: 'R',\r\n        },\r\n        {\r\n            name: 'Assessment',\r\n            value: 'K',\r\n        },\r\n      ],\r\n      value: '?',\r\n    };\r\n\r\n    handleChange = (event) => {\r\n      this.props.passState(event.target.value);\r\n      this.setState({ value: event.target.value });\r\n    };\r\n\r\n    render() {\r\n      const { options, value } = this.state;\r\n\r\n      return (\r\n          <div className=\"varkfilter\">\r\n            <React.Fragment>\r\n                <select name=\"search_categories\" id=\"search_categories\" onChange={this.handleChange} value={value}>\r\n                    {options.map(item => (\r\n                    <option className=\"option\" key={item.value} value={item.value}>\r\n                        &nbsp;&nbsp;&nbsp;{item.name}\r\n                    </option>\r\n                    ))}\r\n                </select>\r\n            </React.Fragment>\r\n          </div>\r\n      );\r\n    }\r\n}\r\n\r\n\r\n//DOC: Component: Allows the user to select a subject for their course\r\n//Input: passState\r\n//Output: JSXElement\r\nclass SelectSubject extends React.PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    state = {\r\n        options: [\r\n            {\r\n                name: \"Select a Subject\",\r\n                value: \"None\",\r\n            },\r\n            {\r\n                name: 'Anthropology',\r\n                value: 'Anthropology',\r\n            },\r\n            {\r\n                name: 'Astronomy',\r\n                value: 'Astronomy',\r\n            },\r\n            {\r\n                name: 'Biology',\r\n                value: 'Biology',\r\n            },\r\n            {\r\n                name: 'Chemistry',\r\n                value: 'Chemistry',\r\n            },\r\n            {\r\n                name: 'Computer Science',\r\n                value: 'Computer Science'\r\n            },\r\n            {\r\n                name: 'English',\r\n                value: 'English',\r\n            },\r\n            {\r\n                name: 'Economics',\r\n                value: 'Economics',\r\n            },\r\n            {\r\n                name: 'Earth Sciences',\r\n                value: 'Earth Sciences',\r\n            },\r\n            {\r\n                name: 'Environmental Sciences',\r\n                value: 'Environmental Sciences',\r\n            },\r\n            {\r\n                name: 'Government',\r\n                value: 'Government',\r\n            },\r\n            {\r\n                name: 'History',\r\n                value: 'History'\r\n            },\r\n            {\r\n                name: 'Language Other Than English',\r\n                value: 'Language Other Than English',\r\n            },\r\n            {\r\n                name: 'Linguistics',\r\n                value: 'Linguistics',\r\n            },\r\n            {\r\n                name: 'Mathematics',\r\n                value: 'Mathematics',\r\n            },\r\n            {\r\n                name: 'Music',\r\n                value: 'Music',\r\n            },\r\n            {\r\n                name: 'Philosophy',\r\n                value: 'Philosophy',\r\n            },\r\n            {\r\n                name: 'Physics',\r\n                value: 'Physics',\r\n            },\r\n            {\r\n                name: 'Performing Arts',\r\n                value: 'Performing Arts',\r\n            },\r\n            {\r\n                name: 'Psychology',\r\n                value: 'Psychology',\r\n            },\r\n            {\r\n                name: 'Sociology',\r\n                value: 'Sociology',\r\n            },\r\n            {\r\n                name: 'Statistics',\r\n                value: 'Statistics',\r\n            },\r\n            {\r\n                name: 'Other',\r\n                value: 'Other',\r\n            }\r\n          ],\r\n      value: '?',\r\n    };\r\n\r\n    handleChange = (event) => {\r\n      this.props.passState(event.target.value);\r\n      this.setState({ value: event.target.value });\r\n      event.preventDefault();\r\n    };\r\n\r\n    render() {\r\n      const { options, value } = this.state;\r\n\r\n      return (\r\n          <div className=\"varkfilter\">\r\n            <React.Fragment>\r\n                <select name=\"search_categories\" id=\"search_categories\" onChange={this.handleChange} value={value}>\r\n                    {options.map(item => (\r\n                    <option className=\"option\" key={item.value} value={item.value}>\r\n                        &nbsp;&nbsp;&nbsp;{item.name}\r\n                    </option>\r\n                    ))}\r\n                </select>\r\n            </React.Fragment>\r\n          </div>\r\n      );\r\n    }\r\n}\r\n\r\n//DOC: Component: A simple element that renders a break across the Mainpanel page\r\n//Input: None\r\n//Output: JSXElement\r\nfunction SectionBreak() {\r\n    return (\r\n        <div className=\"maxwidth\">\r\n            <hr />\r\n        </div>\r\n    );\r\n}\r\n\r\n//DOC: Component: The entire right half of the screen, which can change its display depending on whether we want to show the contents of the course, with all the modules; or the screen that lets us enroll in a course; or the screen that lets us create a course.\r\n//Input: firebase, activeCourse, modules, removeCourse, addVarkClicks, email, instantOpen, isMobile, changeActiveCourse, showTour, description, instantOpen\r\n//Output: JSXElement\r\nclass MainPanel extends React.Component {\r\n    constructor (props){\r\n        super(props);\r\n        \r\n        this.handleRemove = this.handleRemove.bind(this);\r\n        this.handleFilter = this.handleFilter.bind(this);\r\n        this.filterCallback = this.filterCallback.bind(this);\r\n        this.getCurrentUserEmail = this.getCurrentUserEmail.bind(this);\r\n        this.getTeacherEmail = this.getTeacherEmail.bind(this);\r\n        this.getTeacherName = this.getTeacherName.bind(this);\r\n        this.codeToName = this.codeToName.bind(this);\r\n        this.isVarkEnabled = this.isVarkEnabled.bind(this);\r\n        this.getStudentNameFromEmail = this.getStudentNameFromEmail.bind(this);\r\n        this.toggleVisibility = this.toggleVisibility.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleDeletion = this.handleDeletion.bind(this);\r\n        this.isVisible = this.isVisible.bind(this);\r\n        this.updateVisibility = this.updateVisibility.bind(this);\r\n        this.showTour = this.showTour.bind(this);\r\n        this.actuallyDelete = this.actuallyDelete.bind(this);\r\n        this.getListOfTeacherEmails = this.getListOfTeacherEmails.bind(this);\r\n        this.getListOfTeacherNames = this.getListOfTeacherNames.bind(this);\r\n        this.addTeacher = this.addTeacher.bind(this);\r\n        this.removeTeacher = this.removeTeacher.bind(this);\r\n        this.handleteacheruidchange = this.handleteacheruidchange.bind(this);\r\n        this.handlestudentuidchange = this.handlestudentuidchange.bind(this);\r\n        this.enrollTeacher = this.enrollTeacher.bind(this);\r\n\r\n        this.state = {\r\n            varkselection: \"All\",\r\n            copied: false,\r\n            showVark: this.isVarkEnabled(),\r\n            visible: this.isVisible(),\r\n            teacheruid: '',\r\n            studentuid: '',\r\n            displayexpl: false,\r\n            displayPayButton: true,\r\n        };\r\n    }\r\n\r\n    onStripeUpdate(e) {\r\n        this.stripeHandler.open({\r\n            name: 'Koin Premium',\r\n            description: 'Unlimited calling and course creation',\r\n            panelLabel: 'Subscribe Now',\r\n        });\r\n        e.preventDefault();\r\n    }\r\n\r\n    showTour() {\r\n        this.props.showTour();\r\n    }\r\n\r\n    updateVisibility() {\r\n        if (this.state.visible !== this.isVisible()) {\r\n            this.setState({\r\n                visible: this.isVisible(),\r\n            });\r\n        }\r\n    }\r\n\r\n    isVisible() {\r\n        let publicCourses = (getPublicCourses(this.props.firebase));\r\n        let cnt = 0;\r\n        for (cnt in publicCourses) {\r\n            let course = publicCourses[cnt];\r\n            if (course.joinCode===this.props.activeCourse) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    handleSubmit(newDescription, activeCourse) { \r\n        var courseID;\r\n        const allCourses = secureStorage.getItem('courses');\r\n            for (let i = 0, len = allCourses.length; i < len; ++i) {\r\n                var course = allCourses[i];\r\n                if (course.nclasscode === activeCourse) {\r\n                    courseID = course.appID;\r\n                }\r\n            }\r\n        this.props.firebase.course(courseID).update({\r\n            courseDescription: newDescription,\r\n        })\r\n        this.setState({\r\n            description: newDescription,\r\n        }); \r\n    \r\n    }\r\n\r\n    getSubject() {\r\n        //the currently active course is this.props.activeCourse\r\n        const allCourses = secureStorage.getItem('courses');\r\n            for (let i = 0, len = allCourses.length; i < len; ++i) {\r\n                var course = allCourses[i];\r\n                if (course.nclasscode === this.props.activeCourse) {\r\n                    return course.osubject;\r\n                }\r\n            }\r\n        \r\n        return \"Yeeted Course Type\";\r\n    }\r\n\r\n    handleRemove(event) {\r\n        ModalManager.open(\r\n            <Modal\r\n                className=\"modaldialog\"\r\n                effect={Effect.ScaleUp}\r\n                style= {{\r\n                    content: {\r\n                        width: '20.5em',\r\n                        height: 'fit-content',\r\n                        borderRadius: '25px',\r\n                    }\r\n                }}\r\n            >\r\n                <div className=\"centerbuttons\">\r\n                    <center>\r\n                    <div className=\"bisplit\">\r\n                        <button className=\"cancelremovecoursebutton\" onClick={() => {ModalManager.close();}}>\r\n                            Cancel\r\n                        </button>\r\n                        <button className=\"removecoursebutton\" onClick={() => {ModalManager.close(); this.props.removeCourse(this.props.activeCourse);}}>\r\n                            Confirm Unenroll\r\n                        </button>\r\n                    </div>\r\n                    </center>\r\n                </div>\r\n            </Modal>\r\n        );\r\n    }\r\n\r\n    handleFilter(theState) {\r\n        this.setState({varkselection: theState}, () => this.filterCallback());\r\n    }\r\n\r\n    filterCallback() {\r\n        this.render();\r\n    }\r\n\r\n    getTeacherEmail(nameOfCourse) { // use code here instead\r\n        const allCourses = secureStorage.getItem('courses');\r\n        var teacher;\r\n        for (let i = 0, len = allCourses.length; i < len; ++i) {\r\n            var course = allCourses[i];\r\n            if (course.nclasscode === nameOfCourse) {\r\n                teacher = course.nteacher;\r\n            }\r\n        }\r\n        return teacher;\r\n    }\r\n\r\n    getTeacherName(teacherEmail) {\r\n        const allCourses = secureStorage.getItem('courses');\r\n        for (let i = 0, len = allCourses.length; i < len; ++i) {\r\n            var course = allCourses[i];\r\n            if (course.nclasscode === this.props.activeCourse) {\r\n                return course.nteacherName;\r\n            }\r\n        }\r\n        return \"Example Teacher Name\";\r\n    }\r\n\r\n    getCurrentUserEmail() {\r\n        const usr = secureStorage.getItem('authUser');\r\n        const curEmail = Object.values(usr).slice()[1]; // returns string of current user's email\r\n        return curEmail;\r\n    }\r\n\r\n    codeToName(code) {\r\n        const allCourses = secureStorage.getItem('courses');\r\n        for (let i = 0, len = allCourses.length; i < len; ++i) {\r\n            var course = allCourses[i];\r\n            if (course.nclasscode === code) {\r\n                return course.CourseName;\r\n            }\r\n        }\r\n    }\r\n\r\n    getListOfStudents() {\r\n        // This will return the list of students emails\r\n        const allCourses = secureStorage.getItem('courses');\r\n        var stulist;\r\n        for (let i = 0, len = allCourses.length; i < len; ++i) {\r\n            var course = allCourses[i];\r\n            if (course.nclasscode === this.props.activeCourse) {\r\n                stulist = course.ostudentList; // identifies current course child name to update\r\n                break;\r\n            }\r\n        }\r\n        var stukeys = [];\r\n        if ( stulist != undefined) {\r\n            for (let [key, value] of Object.entries(stulist)) {\r\n                if (key !== \"exampleStudentEmail\") {\r\n                    if (value !== '') {\r\n                        key = key.replace(/EMAILDOT/g, \".\");\r\n                        stukeys.push(key);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        \r\n        return stukeys; \r\n    }\r\n\r\n    getListOfStudentKicks() {\r\n        \r\n        // This function needs to return an array of all the values (all the true/false strings)\r\n        const allCourses = secureStorage.getItem('courses');\r\n        var stulist;\r\n        for (let i = 0, len = allCourses.length; i < len; ++i) {\r\n            var course = allCourses[i];\r\n            if (course.nclasscode === this.props.activeCourse) {\r\n                stulist = course.ostudentList; // identifies current course child name to update\r\n                break;\r\n            }\r\n        }\r\n        var stu = [];\r\n        if ( stulist != undefined) {\r\n            for (let [key, value] of Object.entries(stulist)) {\r\n                if (key !== \"exampleStudentEmail\")\r\n                    if (value !== '') stu.push(JSON.stringify(value));\r\n                    \r\n            }\r\n        }\r\n        \r\n        return stu; \r\n    }\r\n\r\n    setStudentKick(studentEmail, kickStatus) { //kickStatus is a string, studentEmail is a string\r\n        studentEmail = studentEmail.replace(/\\./g,'EMAILDOT');\r\n        // Continuation of the in getListOfStudents:\r\n        // This function needs to set the kickStatus(value) of the studentEmail(key) to what's been passed into this function\r\n        const allCourses = secureStorage.getItem('courses');\r\n        var stulist;\r\n        var courseID;\r\n        for (let i = 0, len = allCourses.length; i < len; ++i) {\r\n            var course = allCourses[i];\r\n            if (course.nclasscode === this.props.activeCourse) {\r\n                stulist = course.ostudentList; // identifies current course child name to update\r\n                courseID = course.appID;\r\n                break;\r\n            }\r\n        }\r\n        if ( stulist != undefined) {\r\n            for (let key in stulist) {\r\n                \r\n                if (JSON.stringify(key).replace(/\\\"/g, '') == studentEmail){ \r\n                    \r\n                    var newkick;\r\n                    if (kickStatus === \"false\") \r\n                        newkick = false;\r\n                    else\r\n                        newkick = true;\r\n                    stulist[studentEmail] = newkick;\r\n                    \r\n                    this.props.firebase.courses().child(courseID).update({\r\n                        ostudentList: stulist,\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    handleDeletion() { \r\n        ModalManager.open(\r\n            <Modal\r\n                className=\"modaldialog\"\r\n                effect={Effect.ScaleUp}\r\n                style= {{\r\n                    content: {\r\n                        width: 'fit-content',\r\n                        height: 'fit-content',\r\n                        borderRadius: '10px',\r\n                    }\r\n                }}\r\n            >\r\n                <div className=\"centerbuttons\">\r\n                    <h3>You cannot undo this action!</h3>\r\n                    <p className=\"dividertext\"><br /><br /></p>\r\n                    <div className=\"bisplit\">\r\n                        <button className=\"cancelremovecoursebutton\" onClick={() => {ModalManager.close();}}>\r\n                            Cancel\r\n                        </button>\r\n                        <button className=\"removecoursebutton\" onClick={() => {ModalManager.close(); this.actuallyDelete();}}>\r\n                            Confirm Course Deletion\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </Modal>\r\n        );\r\n    }\r\n\r\n    actuallyDelete() {\r\n        var courseID;\r\n        const allCourses = secureStorage.getItem('courses');\r\n            for (let i = 0, len = allCourses.length; i < len; ++i) {\r\n                var course = allCourses[i];\r\n                if (course.nclasscode === this.props.activeCourse) {\r\n                    courseID = course.appID;\r\n                }\r\n            }\r\n        this.props.firebase.course(courseID).update({\r\n            CourseName: \"DELETE THAT YOU HOT DOG\",\r\n        });\r\n        this.props.changeActiveCourse(\"none\");\r\n    }\r\n\r\n    toggleVisibility() {\r\n        var courseID;\r\n        const allCourses = secureStorage.getItem('courses');\r\n            for (let i = 0, len = allCourses.length; i < len; ++i) {\r\n                var course = allCourses[i];\r\n                if (course.nclasscode === this.props.activeCourse) {\r\n                    courseID = course.appID;\r\n                }\r\n            }\r\n        var w;\r\n        if ( !this.state.visible) w = \"public\";\r\n        else w = \"private\";\r\n        this.props.firebase.course(courseID).update({\r\n            visibility: w,\r\n        });\r\n        this.setState({\r\n            visible: !this.state.visible,\r\n        });\r\n    }\r\n\r\n    getStudentNameFromEmail(email) { \r\n        const allCourses = secureStorage.getItem('courses');\r\n            for (let i = 0, len = allCourses.length; i < len; ++i) {\r\n                var course = allCourses[i];\r\n                var uids;\r\n                if (course.nclasscode === this.props.activeCourse) {\r\n                    uids = course.studentUID;\r\n                    break;\r\n                }\r\n            }\r\n            const newemail = email.replace(/\\./g,'EMAILDOT');\r\n            const id = uids[newemail];\r\n            var stuname;\r\n            this.props.firebase.user(id).on('value', snapshot => {\r\n                stuname = snapshot.val().username;\r\n            })\r\n            if ( stuname != null) return stuname;\r\n        return \"Name Unavailable\";\r\n    }\r\n\r\n    isVarkEnabled() {\r\n        const allCourses = secureStorage.getItem('courses');\r\n        for (let i = 0, len = allCourses.length; i < len; ++i) {\r\n            var course = allCourses[i];\r\n            if (course.nclasscode === this.props.activeCourse) {\r\n                return course.varkEnabled;\r\n            }\r\n        }\r\n    }\r\n\r\n    onChangeCheckbox(varkStatus) {\r\n        // changes whether the course shows VARK or no\r\n        const allCourses = secureStorage.getItem('courses');\r\n        var courseID;\r\n        for (let i = 0, len = allCourses.length; i < len; ++i) {\r\n            var course = allCourses[i];\r\n            if (course.nclasscode === this.props.activeCourse) {\r\n                courseID = course.appID; // identifies current course child name to update\r\n                break;\r\n            }\r\n        }\r\n        this.props.firebase.courses().child(courseID).update({\r\n            varkEnabled: varkStatus,\r\n        });\r\n\r\n        //this.setState({ [event.target.name]: event.target.checked }); //Keep this line of code\r\n    };\r\n\r\n    // getListOfTeacherNames() {\r\n    //     // RETURN AN ARRAY OF TEACHER NAMES FROM DB\r\n    //     //in firebase, the teachers are stored in one attribute as a comma separated string. for instance: nteacher: \"dominum15@outlook.com, bob@gmail.com, joe@gmail.com\"\r\n    //     //just return an array version of this list\r\n    //     //this.props.firebase contains firebase if you need that (but you can probably just rely on localstorage)\r\n    //     return [\"Daniel Wei\", \"Ryan Ma\"];\r\n    // }\r\n\r\n    getListOfTeacherNames() {\r\n        const allCourses = secureStorage.getItem('courses');\r\n        var teacher;\r\n        if (this.props.activeCourse=='none') return [];\r\n        for (let i = 0, len = allCourses.length; i < len; ++i) {\r\n            var course = allCourses[i];\r\n            if (course.nclasscode === this.props.activeCourse) {\r\n                teacher = course.nteacherName;\r\n            }\r\n        }\r\n        if ((teacher.charAt(teacher.length-1)+'')===',') {\r\n            teacher = teacher.substring(0, teacher.length);\r\n        }\r\n        let tlist = teacher.split(',').filter(x => x);\r\n        return tlist;\r\n    }\r\n\r\n    // getListOfTeacherEmails() {\r\n    //     // RETURN AN ARRAY OF TEACHER EMAILS FROM DB\r\n    //     //in firebase, the teachers are stored in one attribute as a comma separated string. for instance: nteacher: \"dominum15@outlook.com, bob@gmail.com, joe@gmail.com\"\r\n    //     //just return an array version of this list\r\n    //     //this.props.firebase contains firebase if you need that (but you can probably just rely on localstorage)\r\n    //     return [\"dominum15@outlook.com\", \"goblinrum@gmail.com\"];\r\n    // }\r\n\r\n    getListOfTeacherEmails() {\r\n        const allCourses = secureStorage.getItem('courses');\r\n        var teacher;\r\n        if (this.props.activeCourse=='none') return [];\r\n        for (let i = 0, len = allCourses.length; i < len; ++i) {\r\n            var course = allCourses[i];\r\n            if (course.nclasscode === this.props.activeCourse) {\r\n                teacher = course.nteacher;\r\n            }\r\n        }\r\n        let tlist = teacher.split(',').filter(x => x);\r\n\t    return tlist;\r\n    }\r\n    // addTeacher(uid) {\r\n    //     // TURN THE UID INTO AN EMAIL USING getTeacherEmailFromUID, AND THEN ADD THE EMAIL TO THE END OF THE FIREBASE STRING, SEPARATED BY COMMAS\r\n    //     //this.props.firebase contains firebase if you need that\r\n    //     //if no teacher found, display an alert\r\n    //     alert('Added teacher ' + uid);\r\n    // }\r\n\r\n    // enrollTeacher(userUID, courseToEnroll) {\r\n    //     // ENROLL THE TEACHER WITH THAT USERUID IN THE COURSETOENROLL (THATS THE COURSE CODE)\r\n    //     //To help: this.props.firebase contains firebase\r\n    // }\r\n\r\n    enrollTeacher(uid, courseCode) {\r\n\t\r\n        this.props.firebase.user(uid).on('value', snapshot => {\r\n                    let courses = snapshot.val().courses;\r\n            let email = snapshot.val().email;\r\n            if (!courses.includes(courseCode)) courses.push(courseCode);\r\n            this.props.firebase.user(uid).update({ courses: courses,});\r\n            const allCourses = secureStorage.getItem('courses');\r\n                    var courseID;\r\n                    for (let i = 0, len = allCourses.length; i < len; ++i) {\r\n                        var course = allCourses[i];\r\n                        var stuemails;\r\n                        var stuIDs;\r\n                        if (course.nclasscode === courseCode) {\r\n                            courseID = course.appID; // identifies current course child name to update\r\n                            stuemails = course.ostudentList;\r\n                            stuIDs = course.studentUID;\r\n                            const newemail = email.replace(/\\./g,'EMAILDOT');\r\n                            stuemails[newemail] = true;\r\n                            stuIDs[newemail] = uid;\r\n                            this.props.firebase.courses().child(courseID).update({\r\n                                ostudentList: stuemails,\r\n                                studentUID: stuIDs,\r\n                            });\r\n                            break;\r\n                        }\r\n                    }\r\n            });\r\n    \r\n            \r\n    \r\n        this.props.firebase.onAuthUserListener(\r\n                authUser => {\r\n                    secureStorage.setItem('authUser', authUser);\r\n                },\r\n                () => { // callback\r\n                },\r\n            );\t\r\n    }\r\n\r\n    addTeacher(uid) {\r\n        this.setState({\r\n            teacheruid: '',\r\n        })\r\n\r\n        const allCourses = secureStorage.getItem('courses');\r\n        let teacher;\r\n\t    let tname;\r\n\t    let courseID;\r\n        for (let i = 0, len = allCourses.length; i < len; ++i) {\r\n            var course = allCourses[i];\r\n            if (course.nclasscode === this.props.activeCourse) {\r\n                    teacher = course.nteacher;\r\n\t\t            tname = course.nteacherName;\r\n\t\t            courseID = course.appID;\r\n            }\r\n        }\r\n\t\r\n\t\r\n\t\tthis.props.firebase.user(uid).on('value', snapshot => {\r\n            if (snapshot.val() == null) alert (\"User does not exist!\")\r\n            else this.props.firebase.sub(uid).on('value', snapshot2 => {\r\n                if (snapshot2.val().time === 1000000) alert('This user is not a Premium user yet!')\r\n                else {\r\n                    let name = snapshot.val().username;\r\n\t\t\t        let email = snapshot.val().email;\r\n                    if (!teacher.includes(email)){\r\n                        teacher += (\",\" + email);\r\n                        tname += (\",\" + name);\r\n                    }\r\n                \r\n                    \r\n\t\t\t        this.props.firebase.course(courseID).update({\r\n\t\t\t\t        nteacher: teacher,\r\n\t\t\t\t        nteacherName: tname,\r\n                    });\r\n                    this.enrollTeacher(uid, this.props.activeCourse);\r\n                }\r\n            })\r\n\r\n        });\r\n        \r\n            \r\n\t}\r\n\r\n    // addTeacher(uid) {\r\n    //     const allCourses = secureStorage.getItem('courses');\r\n    //     let teacher;\r\n    //     let tname;\r\n    //     let courseID;\r\n    //         for (let i = 0, len = allCourses.length; i < len; ++i) {\r\n    //             var course = allCourses[i];\r\n    //             if (course.nclasscode === this.props.activeCourse) {\r\n    //                 teacher = course.nteacher;\r\n    //         tname = course.nteacherName;\r\n    //         courseID = course.appID;\r\n    //             }\r\n    //         }\r\n    //     this.props.firebase.user(uid).on('value', snapshot => {\r\n    //                 let name = snapshot.val().username;\r\n    //         let email = snapshot.val().email;\r\n    //         teacher += (\",\" + email);\r\n    //         tname += (\",\" + name);\r\n    //         this.props.firebase.course(courseID).update({\r\n    //             nteacher: teacher,\r\n    //             nteacherName: tname,\r\n    //         });\r\n    //             });\r\n\r\n    //     this.enrollTeacher(uid, this.props.activeCourse);\r\n\t  \r\n    // }\r\n\r\n    forceAddStudent(uid) {\r\n        this.setState({\r\n            studentuid: '',\r\n        })\r\n        this.enrollTeacher(uid, this.props.activeCourse);\r\n    }\r\n\r\n    removeTeacher(email) {\r\n          // REMOVE THIS EMAIL FROM THE FIREBASE STRING, AS WELL AS THE APPROPRIATE COMMA\r\n        //this.props.firebase contains firebase if you need that\r\n        const allCourses = secureStorage.getItem('courses');\r\n        let names = this.getListOfTeacherNames();\r\n        let emails = this.getListOfTeacherEmails();\r\n        let resEmail = '';\r\n        let resName = '';\r\n        for (let i = 0; i < names.length; i++) {\r\n            if (email !== emails[i]) {\r\n                    resEmail += emails[i] + \",\";\r\n                    resName += names[i] + \",\";\r\n            }\r\n        }\r\n        \r\n        let courseID;\r\n        for (let i = 0, len = allCourses.length; i < len; ++i) {\r\n                var course = allCourses[i];\r\n                if (course.nclasscode === this.props.activeCourse) {\r\n                    courseID = course.appID;\r\n                }\r\n            }\r\n\r\n        this.props.firebase.course(courseID).update({\r\n            nteacher: resEmail,\r\n            nteacherName: resName,\r\n        });\t\t\r\n    }\r\n\r\n    handleteacheruidchange(event) {\r\n        let newString = event.target.value;\r\n        this.setState({teacheruid: newString});  \r\n    }\r\n\r\n    handlestudentuidchange(event) {\r\n        let newString = event.target.value;\r\n        this.setState({studentuid: newString}); \r\n    }\r\n\r\n    getStudentProgress(studentEmail, firebase, activeCourse) {\r\n        // RETURN STUDENT PROGRESS AS 3D ARRAY\r\n        const allCourses = secureStorage.getItem('courses');\r\n        let students;\r\n        for (let i = 0, len = allCourses.length; i < len; ++i) {\r\n                var course = allCourses[i];\r\n                if (course.nclasscode === activeCourse) {\r\n                    students = course.studentUID;\r\n                }\r\n        }\r\n        const newemail = studentEmail.replace(/\\./g,'EMAILDOT');\r\n        const uid = students[newemail];\r\n        let ret = [];\r\n        firebase.user(uid).child('vcourseprogress').child(activeCourse).on('value', snapshot => {\r\n            if (snapshot.val() == null ) console.log('No progress for this student'); // will return null if student has no progress\r\n            else {\r\n                for (let [key, value] of Object.entries(snapshot.val())) {\r\n                    let moduleList = [];\r\n                    for (let [key1, value1] of Object.entries(value)){\r\n                        moduleList[key1] = Object.values(value1);\r\n                    }\r\n                    ret[key] = moduleList;\r\n                }\r\n            }\r\n        });\r\n        \r\n        if (ret != null ) return ret;\r\n        else return 'wait for return';\r\n    }\r\n\r\n    render() { //active: \"\" means the module is minimized, \"active\" means its expanded\r\n        const { stripeLoading, loading } = this.state;\r\n        var showModules = true;\r\n        if (typeof this.props.modules === 'undefined') {\r\n            showModules = false;\r\n        }\r\n        var showVarkProfile = true;\r\n\r\n        var listOfStudents = this.getListOfStudents();\r\n        var listOfStudentKicks = this.getListOfStudentKicks();\r\n\r\n        var listOfTeacherEmails = this.getListOfTeacherEmails();\r\n        var listOfTeacherNames = this.getListOfTeacherNames();\r\n\r\n        var varkStatus = this.isVarkEnabled();\r\n\r\n        var courseid = (this.props.activeCourse);\r\n\r\n        var teacherMode = (this.getTeacherEmail(this.props.activeCourse)+'').includes(this.getCurrentUserEmail());\r\n\r\n        var welcomeMsg;\r\n        var unenroll;\r\n        var joinCode;\r\n        var filter;\r\n        var teacherReveal;\r\n        var subjectTag;\r\n        var showRest = true;\r\n        var teacherEmail = this.getTeacherEmail(this.props.activeCourse);\r\n        if (this.props.activeCourse===\"none\") {\r\n            welcomeMsg=\"No course selected.\";\r\n            // welcomeMsg = (\r\n            //     <>\r\n            //         No course selected.\r\n            //         <br /><br />\r\n            //         {/* <br /><br /><br />\r\n            //         <p className=\"sharetext\">Enjoying Modulus?\r\n            //         Consider sharing!</p>\r\n            //         <div className=\"bisplit\">\r\n            //             <div className=\"facebookicon\"><iframe src=\"https://www.facebook.com/plugins/share_button.php?href=https%3A%2F%2Fwww.modulusedu.com%2F&layout=button&size=large&width=77&height=28&appId\" width=\"77\" height=\"28\" style={{overflow:\"hidden\"}} scrolling=\"no\" frameborder=\"0\" allowTransparency=\"true\" allow=\"encrypted-media\"></iframe></div>\r\n            //             <a href=\"https://twitter.com/share?ref_src=twsrc%5Etfw\" class=\"twitter-share-button\" data-size=\"large\" data-text=\"I found this really cool course sharing platform! Check it out!\" data-url=\"https://www.modulusedu.com/\" data-show-count=\"false\"><img height=\"38px\" src={twittericon} className=\"twittericon\" /></a><script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script>\r\n            //         </div> */}\r\n            //     </>\r\n            // );\r\n            teacherReveal = \"\";\r\n            joinCode = (\r\n                null\r\n            );\r\n            unenroll = (\r\n                null\r\n            );\r\n            showVarkProfile = false;\r\n            filter = (\r\n                null\r\n            );\r\n            showRest = false;\r\n        }\r\n        else {\r\n            welcomeMsg = this.codeToName(this.props.activeCourse).substring(4); //CodeToName\r\n            let subjectName=this.getSubject();\r\n            subjectTag = (\r\n                <div className=\"subjecttag\">\r\n                    {subjectName}\r\n                </div>\r\n            );\r\n            let teachermsg = this.getTeacherName(this.getTeacherEmail(this.props.activeCourse));\r\n            teacherReveal = teachermsg;\r\n            unenroll = (\r\n                <div className=\"linearmanagecontent\">\r\n                    <div className=\"removecoursebutton\" onClick={this.handleRemove}>\r\n                        Unenroll\r\n                    </div>\r\n                </div>\r\n            );\r\n            filter = (varkStatus) ? (<Select passState={this.handleFilter} default={\"Show all content types\"}/>) : (null);\r\n            if (teacherMode) {\r\n                joinCode = (\r\n                    <div className=\"teachernotice\">\r\n                        <p><b>Join Course ID:&nbsp;&nbsp;&nbsp;</b> {courseid}</p>\r\n                    </div>\r\n                );\r\n                unenroll = (\r\n                    null\r\n                );\r\n            }\r\n            if (welcomeMsg === \"Welcome to Welcome\") {\r\n                welcomeMsg = \"Select or add a course on the left to get started.\"\r\n                showModules = false;\r\n                unenroll = (\r\n                    null\r\n                );\r\n                joinCode = (\r\n                    null\r\n                );\r\n                showVarkProfile = false;\r\n                showRest = false;\r\n            }\r\n        }\r\n\r\n        var addModuleItem = (null);\r\n        if (teacherMode) {\r\n            addModuleItem = (\r\n                <AddModuleItem\r\n                    internal=\"\"\r\n                    activeCourse={this.props.activeCourse}\r\n                    modules={this.props.modules}\r\n                    firebase={this.props.firebase}\r\n                    changeActiveCourse={this.props.changeActiveCourse}\r\n                />\r\n            );\r\n        }\r\n\r\n        var viewModuleList = (null);\r\n        var editModuleList = (null);\r\n        if (showModules) {\r\n            viewModuleList = (\r\n                <div className=\"modulelist\">\r\n                    <br/>\r\n                    {\r\n                        Object.values(this.props.modules).map(module =>\r\n                            (module.title!==\"DELETE THAT YOU HOT DOG\") ? \r\n                            (<><ModuleItem\r\n                                isMobile={this.props.isMobile}\r\n                                varkStatus={varkStatus}\r\n                                instantOpen={this.props.instantOpen}\r\n                                name={module.title}\r\n                                contents={module.contents}\r\n                                vark={module.vark}\r\n                                internals={module.internals}\r\n                                active=\"\"\r\n                                addVarkClicks={this.props.addVarkClicks}\r\n                                varkMode={this.state.varkselection}\r\n                                teacherMode={false}\r\n                                activeCourse={this.props.activeCourse}\r\n                                modules={this.props.modules}\r\n                                firebase={this.props.firebase}\r\n                                showVark={varkStatus}\r\n                            /></>) : (null)\r\n                        )\r\n                    }\r\n                </div>\r\n            );\r\n            editModuleList = (\r\n                <div className=\"modulelist\">\r\n                    {\r\n                        Object.values(this.props.modules).map(module =>\r\n                            (module.title!==\"DELETE THAT YOU HOT DOG\") ? \r\n                            (<ModuleItem\r\n                                isMobile={this.props.isMobile}\r\n                                varkStatus={varkStatus}\r\n                                instantOpen={this.props.instantOpen}\r\n                                name={module.title}\r\n                                contents={module.contents}\r\n                                vark={module.vark}\r\n                                internals={module.internals}\r\n                                active=\"\"\r\n                                addVarkClicks={this.props.addVarkClicks}\r\n                                varkMode={this.state.varkselection}\r\n                                teacherMode={true}\r\n                                activeCourse={this.props.activeCourse}\r\n                                modules={this.props.modules}\r\n                                firebase={this.props.firebase}\r\n                                showVark={varkStatus}\r\n                            />) : (null)\r\n                        )\r\n                    }\r\n                    {addModuleItem}\r\n                </div>\r\n            );\r\n        }\r\n\r\n        //counts the number of each vark item in modules\r\n        // var Vcnt = 0;\r\n        // var Acnt = 0;\r\n        // var Rcnt = 0;\r\n        // var Kcnt = 0;\r\n        // var module;\r\n        // var varkLetter;\r\n        // for (module of this.props.modules) {\r\n        //     for (varkLetter of module.vark) {\r\n        //         if (varkLetter===\"V\") {\r\n        //             Vcnt++;\r\n        //         }\r\n        //         if (varkLetter===\"A\") {\r\n        //             Acnt++;\r\n        //         }\r\n        //         if (varkLetter===\"R\") {\r\n        //             Rcnt++;\r\n        //         }\r\n        //         if (varkLetter===\"K\") {\r\n        //             Kcnt++;\r\n        //         }\r\n        //     }\r\n        // }\r\n\r\n        // var varkProfile = (<div />);\r\n        // if (showVarkProfile) {\r\n        //     varkProfile = (\r\n        //         <VarkProfile\r\n        //             Vcnt={Vcnt}\r\n        //             Acnt={Acnt}\r\n        //             Rcnt={Rcnt}\r\n        //             Kcnt={Kcnt}\r\n        //         />\r\n        //     );\r\n        // }\r\n\r\n        var mailtostring = \"mailto:\" + teacherEmail;\r\n\r\n\r\n\r\n        var contactTeacher = (teacherMode) ? (null) : (\r\n            <div className=\"linearmanagecontent\">\r\n                <p className=\"infosectionheader\">\r\n                    <b>Course Owner(s):</b> &nbsp;&nbsp; {teacherReveal}\r\n                </p>\r\n                <p className=\"smallparagraph\">\r\n                    <b>Email(s):</b> &nbsp;&nbsp;{teacherEmail}<br /><br />\r\n                </p>\r\n                {/* <a className=\"smalllinkbutton\" href={mailtostring}>Contact</a> */}\r\n            </div>\r\n        );\r\n\r\n        var viewClassCode = (teacherMode) ? (\r\n            <div className=\"linearmanagecontent\">\r\n                    <br />\r\n                    <p className=\"infosectionheader\">\r\n                        <b>Course Join Code</b>\r\n                    </p>\r\n                    <p className=\"mono\">\r\n                        {this.props.activeCourse}\r\n                    </p>\r\n            </div>\r\n        ) : (null);\r\n\r\n        var joinClassCode = (teacherMode) ? (\r\n            <>\r\n            <div className=\"linearmanagecontent\">\r\n                    <br />\r\n                    <p className=\"infosectionheader\">\r\n                        <b>Share your Course Join Code</b>\r\n                    </p>\r\n                    <p className=\"smallparagraph\">\r\n                        Share your course's join code with your intended students.<br />\r\n                        They can enroll in your course with this code.\r\n                        <br /><br /><br />\r\n                        The code for this course is:\r\n                    </p>\r\n                    <p className=\"mono\">\r\n                        {this.props.activeCourse}\r\n                    </p>\r\n                    <CopyToClipboard text={this.props.activeCourse} onCopy={() => this.setState({copied: true})}>\r\n                        <a className=\"smalllinkbutton\">{(this.state.copied) ? (\"Copied!\") : (\"Copy to Clipboard\")}</a>\r\n                    </CopyToClipboard>\r\n                    <br />\r\n            </div>\r\n            <br />\r\n            <SectionBreak />\r\n            <br />\r\n            <div className=\"linearmanagecontent\">\r\n                <br />\r\n                <p className=\"infosectionheader\">\r\n                    <b>Or, directly enroll a Student</b>\r\n                </p>\r\n                <p className=\"smallparagraph\">Enter the student's UID (Unique Identifier) below.<br />The UID can be found in each user's account page.</p><br />\r\n                <label>\r\n                    <input type=\"text\" value={this.state.studentuid} onChange={this.handlestudentuidchange} />   \r\n                    <br /><br />\r\n                    <form onSubmit={(event) => {event.preventDefault(); this.forceAddStudent(this.state.studentuid);}}>   \r\n                        <input id=\"teachersubmitbutton\" type=\"submit\" value={'Add Student'} />\r\n                    </form>\r\n                </label> \r\n                <br /><br />\r\n            </div>\r\n            </>\r\n        ) : (null);\r\n\r\n        let theBool = false;\r\n        let shade = [];\r\n        let counter;\r\n        for (counter in listOfStudents) {\r\n            shade.push((theBool) ? (\"shadedstudentrow\") : (\"studentrow\"));\r\n            theBool = !theBool;\r\n        }\r\n\r\n        var manageStudents = (teacherMode) ? (\r\n            <div className=\"linearmanagecontent\">\r\n                <h3>Manage Students</h3>\r\n                <p className=\"smallparagraph\">By default, all enrolled students can view your course.<br />\r\n                You can block individuals by flipping their switch off.<br /><br />Clicking on a student's name will allow you to see their progress in the course.</p><br />\r\n                <div className=\"masterstudentrow\">\r\n                    <div className=\"studentcell\"><p className=\"studentsmallparagraph\"><b>Name</b></p></div>\r\n                    <div className=\"studentcell\"><p className=\"studentsmallparagraph\"><b>Email</b></p></div>\r\n                    <div className=\"studentcell\"><p className=\"studentsmallparagraph\"><b>Allowed</b></p></div>\r\n                </div>\r\n                {(listOfStudents.length<=1) ? (\r\n                    <p className=\"smallparagraph\">You don't have any students yet.</p>\r\n                ) : listOfStudents.map(\r\n                    student => (student===this.props.email) ? (null) : (\r\n                        (listOfStudentKicks[listOfStudents.indexOf(student)]===\"false\") ? (\r\n                            <div className={shade[listOfStudents.indexOf(student)]}>\r\n                                <div className=\"studentcell\" onMouseOver={() => this.setState({displayexpl: true})} onMouseOut={() => this.setState({displayexpl: false})} onClick={() => ModalManager.open(<ProgressModal modules={this.props.modules} firebase={this.props.firebase} activeCourse={this.props.activeCourse} studentName={this.getStudentNameFromEmail(student)} getStudentProgress={this.getStudentProgress} studentEmail={student} onRequestClose={() => true}/>)}>\r\n                                    <p className=\"studentsmallparagraph\">\r\n                                        {/* {(this.state.displayexpl) ? ('Click to see my progress') : (this.getStudentNameFromEmail(student))} */}\r\n                                        {(this.getStudentNameFromEmail(student))}\r\n                                    </p>\r\n                                </div>\r\n                                <div className=\"studentcell\">\r\n                                    <p className=\"studentsmallparagraph\">{student}</p>\r\n                                </div>\r\n                                <div className=\"studentcell\">\r\n                                    <label className=\"switch\">\r\n                                        <input\r\n                                            name=\"studentswitch\"\r\n                                            type=\"checkbox\"\r\n                                            checked={false}\r\n                                            onChange={() => this.setStudentKick(student, \"true\")}\r\n                                        />\r\n                                        <span class=\"slider round\"></span>\r\n                                    </label>\r\n                                </div>\r\n                            </div>\r\n                        ) : (\r\n                            <div className={shade[listOfStudents.indexOf(student)]}>\r\n                                <div className=\"studentcell\" onMouseOver={() => this.setState({displayexpl: true})} onMouseOut={() => this.setState({displayexpl: false})}  onClick={() => ModalManager.open(<ProgressModal modules={this.props.modules} firebase={this.props.firebase} activeCourse={this.props.activeCourse} studentName={this.getStudentNameFromEmail(student)} getStudentProgress={this.getStudentProgress} studentEmail={student} onRequestClose={() => true}/>)}>\r\n                                    <p className=\"studentsmallparagraph\">\r\n                                        {/* {(this.state.displayexpl) ? ('Click to see my progress') : (this.getStudentNameFromEmail(student))} */}\r\n                                        {(this.getStudentNameFromEmail(student))}\r\n                                    </p>\r\n                                </div>\r\n                                <div className=\"studentcell\">\r\n                                    <p className=\"studentsmallparagraph\">{student}</p>\r\n                                </div>\r\n                                <div className=\"studentcell\">\r\n                                    \r\n                                    <label className=\"switch\">\r\n                                        <input\r\n                                            name=\"studentswitch\"\r\n                                            type=\"checkbox\"\r\n                                            checked={true}\r\n                                            onChange={() => this.setStudentKick(student, \"false\")}\r\n                                        />\r\n                                        <span class=\"slider round\"></span>\r\n                                    </label>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    )\r\n                )}\r\n                <br /><br /><br />\r\n            </div>\r\n        ) : (null);\r\n\r\n\r\n        var ModulesTab = (teacherMode) ? (<Tab><p className=\"tabtext\">Preview as Student</p></Tab>) : (<Tab><p className=\"tabtext\">Modules</p></Tab>);\r\n        var EditModulesTab = (teacherMode) ? (<Tab><p className=\"tabtext\">Edit Modules</p></Tab>) : (null);\r\n        var OtherTab = (teacherMode) ? (<Tab onClick={() => window.dispatchEvent(new Event('resize'))}><p className=\"tabtext\">Manage Students</p></Tab>) : (<Tab><p className=\"tabtext\">Other</p></Tab>);\r\n        var CourseInfoTab = (teacherMode) ? (<Tab onClick={this.updateVisibility}><p className=\"tabtext\">Manage Teachers</p></Tab>) : (null);\r\n        var TeacherInfoTab = (teacherMode) ? (<Tab><p className=\"tabtext\">Other</p></Tab>) : (null);\r\n\r\n        var ViewModulesPanel = (\r\n            <div className=\"viewmodules\">\r\n                    {viewModuleList}\r\n            </div>\r\n        );\r\n\r\n        var EditModulesPanel = (teacherMode) ? (\r\n            <TabPanel>\r\n                {filter}\r\n                {editModuleList}\r\n            </TabPanel>\r\n        ) : (null);\r\n\r\n        var CourseRosterPanel = (teacherMode) ? (\r\n            <TabPanel>\r\n                {joinClassCode}\r\n                <br />\r\n                <SectionBreak />\r\n                <br />\r\n                {manageStudents}\r\n            </TabPanel>\r\n        ) : (null);\r\n\r\n        // var varkContent = null;\r\n        // if (varkStatus && teacherMode) {\r\n        //     varkContent = (\r\n        //         <div className=\"varkcontent\">\r\n        //             <h3><br /> <br />Content Type Profile</h3> \r\n        //             <div>\r\n        //                 <p>VARK is <b>Enabled</b></p>\r\n        //                 <label className=\"switch\">\r\n        //                     <input\r\n        //                         name=\"showVark\"\r\n        //                         type=\"checkbox\"\r\n        //                         checked={varkStatus}\r\n        //                         onChange={(event) => this.onChangeCheckbox(event.target.checked)}\r\n        //                     />\r\n        //                     <span class=\"slider round\"></span>\r\n        //                 </label>\r\n        //                 <br /><br /><br />\r\n        //                 <hr />\r\n        //             </div>\r\n        //             <br /><br />\r\n        //             <table className=\"offsetleft\">\r\n        //                 <tr>\r\n        //                     <td>\r\n        //                         {varkProfile}\r\n        //                     </td>\r\n        //                     <td>\r\n        //                         <p className=\"smallparagraph\" style={{color: \"red\"}}>Visual</p>\r\n        //                         <p className=\"smallparagraph\" style={{color: \"blue\"}}>Auditory</p>\r\n        //                         <p className=\"smallparagraph\" style={{color: \"green\"}}>Reading/Writing</p>\r\n        //                         <p className=\"smallparagraph\" style={{color: \"purple\"}}>Kinesthetic</p>\r\n        //                     </td>\r\n        //                 </tr>\r\n        //             </table>\r\n        //             <br /><br /><br />\r\n        //         </div>\r\n        //     );\r\n        // } else if (!varkStatus && teacherMode) {\r\n        //     varkContent = (\r\n        //         <div className=\"varkcontent\">\r\n        //             <div className=\"managecontent\">\r\n        //                 <div>\r\n        //                     <p>VARK is <b>Disabled</b></p>\r\n        //                 </div>\r\n        //                 <label className=\"switch\">\r\n        //                     <input\r\n        //                         name=\"showVark\"\r\n        //                         type=\"checkbox\"\r\n        //                         checked={varkStatus}\r\n        //                         onChange={(event) => this.onChangeCheckbox(event.target.checked)}\r\n        //                     />\r\n        //                     <span class=\"slider round\"></span>\r\n        //                 </label>\r\n        //             </div>\r\n        //             <br /><br /><br /><br />\r\n        //         </div>\r\n        //     );\r\n        // } else if (varkStatus && !teacherMode) {\r\n        //     varkContent = (\r\n        //         <div className=\"managecontent\">\r\n        //             <center>\r\n        //                 <h3><br /> <br />Course Content Type Profile</h3> \r\n        //                 <br /><br />\r\n        //                 <table className=\"offsetleft\">\r\n        //                     <tr>\r\n        //                         <td>\r\n        //                             {varkProfile}\r\n        //                         </td>\r\n        //                         <td>\r\n        //                             <p className=\"smallparagraph\" style={{color: \"red\"}}>Video</p>\r\n        //                             <p className=\"smallparagraph\" style={{color: \"blue\"}}>Audio</p>\r\n        //                             <p className=\"smallparagraph\" style={{color: \"green\"}}>Document</p>\r\n        //                             <p className=\"smallparagraph\" style={{color: \"purple\"}}>Assessment</p>\r\n        //                         </td>\r\n        //                     </tr>\r\n        //                 </table>\r\n        //                 <br /><br /><br />\r\n        //             </center>\r\n        //         </div>\r\n        //     );\r\n        // } else if (!varkStatus && !teacherMode) {\r\n        //     varkContent = null;\r\n        // }\r\n        let subjectName=this.getSubject();\r\n        let courseDescription = (\r\n            <div className=\"linearmanagecontent\">\r\n                <br />\r\n                <p className=\"infosectionheader\">\r\n                    <b>Course Description</b>\r\n                </p>\r\n                <p className=\"smallparagraph\">\r\n                    {this.props.description}\r\n                    <br />\r\n                </p>\r\n            </div>\r\n        );\r\n\r\n        let theBool2 = false;\r\n        let shade2 = [];\r\n        let counter2;\r\n        for (counter2 in listOfTeacherEmails) {\r\n            shade2.push((theBool2) ? (\"shadedstudentrow\") : (\"studentrow\"));\r\n            theBool2 = !theBool2;\r\n        }\r\n        // console.log(listOfTeacherEmails);\r\n        // console.log(listOfTeacherNames);\r\n        let manageTeachers = (\r\n            <div className=\"linearmanagecontent\">\r\n                <br />\r\n                <h3>Add a Teacher</h3>\r\n                <br />\r\n                <p className=\"smallparagraph\">Enter the teacher's UID (Unique Identifier) below.<br />The UID can be found in each user's account page.</p><br />\r\n                <label>\r\n                    <input type=\"text\" value={this.state.teacheruid} onChange={this.handleteacheruidchange} />   \r\n                    <br /><br />\r\n                    <form onSubmit={(event) => {event.preventDefault(); this.addTeacher(this.state.teacheruid);}}>   \r\n                        <input id=\"teachersubmitbutton\" type=\"submit\" value={'Add Teacher'} />\r\n                    </form>\r\n                </label> \r\n                <br /><br /><br />\r\n                <SectionBreak />\r\n                <br /><br />\r\n                <h3>Manage Teachers</h3>\r\n                <br />\r\n                <div className=\"masterstudentrow\">\r\n                    <div className=\"studentcell\"><p className=\"studentsmallparagraph\"><b>Name</b></p></div>\r\n                    <div className=\"studentcell\"><p className=\"studentsmallparagraph\"><b>Email</b></p></div>\r\n                    <div className=\"studentcell\"><p className=\"studentsmallparagraph\"><b>Remove</b></p></div>\r\n                </div>      \r\n                {(listOfTeacherEmails.length<=1) ? (\r\n                    <p className=\"smallparagraph\">You don't have any other teachers yet.</p>\r\n                ) : listOfTeacherEmails.map(\r\n                    teacheremail => (teacheremail===this.props.email) ? (null) : (\r\n                        <div className={shade2[listOfTeacherEmails.indexOf(teacheremail)]}>\r\n                            <div className=\"studentcell\">\r\n                                <p className=\"studentsmallparagraph\">{listOfTeacherNames[listOfTeacherEmails.indexOf(teacheremail)]}</p>\r\n                            </div>\r\n                            <div className=\"studentcell\">\r\n                                <p className=\"studentsmallparagraph\">{teacheremail}</p>\r\n                            </div>\r\n                            <div className=\"studentcell\">\r\n                                <button className=\"removeteacherbutton\" onClick={() => this.removeTeacher(teacheremail)}>\r\n                                    &#x2715;\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                )}\r\n                <br /><br /><br />\r\n            </div>\r\n        )\r\n\r\n        let viewCourseVisibility = (\r\n            <div className=\"linearmanagecontent\">\r\n                <p className=\"infosectionheader\">\r\n                    <b>Course Visibility</b>\r\n                </p>\r\n                <p className=\"smallparagraph\">\r\n                    Public courses are free for anyone to join, and are published on our open library of courses.<br />\r\n                    Students can only join private courses via the course code that you share with them.\r\n                    <br />\r\n                </p>\r\n                <p className=\"smallparagraph\">This course is <b>{(this.state.visible) ? (\"public\") : (\"private\")}</b></p>\r\n                {/* <label className=\"switch\">\r\n                    <input\r\n                        name=\"studentswitch\"\r\n                        type=\"checkbox\"\r\n                        checked={this.state.visible}\r\n                        onChange={() => this.toggleVisibility()}\r\n                    />\r\n                    <span class=\"slider round\"></span>\r\n                </label>         \r\n                <br />       */}\r\n                <br /> \r\n            </div>\r\n        );\r\n\r\n        let deleteCourse = (\r\n            <div className=\"linearmanagecontent\">\r\n                <div className=\"removecoursebutton\" onClick={this.handleDeletion}>\r\n                    Delete this Course\r\n                </div>\r\n            </div>            \r\n        );\r\n\r\n        var CourseInfoPanel = (teacherMode) ? (\r\n            <TabPanel>\r\n                {/* {viewClassCode}\r\n                <br />\r\n                <SectionBreak /> */}\r\n                {/* <EditCourseDescription activeCourse={this.props.activeCourse} handleSubmit={this.handleSubmit} courseDescription={this.state.description} /> */}\r\n                {/* {courseDescription}\r\n                <br />\r\n                <SectionBreak />\r\n                <br />\r\n                {viewCourseVisibility} */}\r\n                {manageTeachers}\r\n            </TabPanel>\r\n        ) : (null);\r\n\r\n        var TeacherInfoPanel = (teacherMode) ? (\r\n            <TabPanel>\r\n                <br />\r\n                <p className=\"infosectionheader\">\r\n                    <b>Course Description</b>\r\n                </p>\r\n                <p className=\"smallparagraph\">\r\n                    {this.props.description}\r\n                    <br />\r\n                </p>\r\n                <br />\r\n                <SectionBreak />\r\n                <br />\r\n                {deleteCourse}\r\n                <br /><br />\r\n            </TabPanel>\r\n        ) : (null);\r\n\r\n        var ManagePanel = (!teacherMode) ? (\r\n            <TabPanel>\r\n                {courseDescription}\r\n                <br />\r\n                <SectionBreak />\r\n                <br />\r\n                {unenroll}\r\n                <br /><br />\r\n            </TabPanel>\r\n        ) : (null);\r\n\r\n        var restOfPage = (showRest) ? (\r\n            <>\r\n                {ViewModulesPanel}\r\n            </>\r\n        ) : (<div><br /><br /><br /><br /><br /></div>);\r\n\r\n        if (this.props.isMobile==='medium') {\r\n            restOfPage= (\r\n                <>\r\n                    {ViewModulesPanel}\r\n                </>\r\n            );\r\n        }\r\n\r\n        let atmainpanel = (this.props.isMobile===\"medium\") ? (\"mobile-mainpanel\") : (\"mainpanel\");\r\n        let atcourseheader = (this.props.isMobile===\"medium\") ? (\"mobile-courseheader\") : (\"courseheader\");\r\n\r\n        if (listOfStudentKicks[listOfStudents.indexOf(this.props.email)]===\"false\") {\r\n            welcomeMsg=(\"You've been removed from this course.\");\r\n            restOfPage=(null);\r\n        }\r\n\r\n        // if (this.props.isTimeUp()===0) { //if paywalled as a teacher\r\n                      \r\n        //     return (\r\n        //         <Paywall />\r\n        //     );\r\n\r\n        // } else {\r\n            return (\r\n                <div>\r\n                    <Helmet>\r\n                        <script src=\"https://checkout.stripe.com/checkout.js\" />\r\n                    </Helmet>\r\n                    <div className=\"paybackgroundstrip\">\r\n                        <div className=\"overviewheader\">\r\n                            <div className=\"parallelshift\">\r\n                                <br />\r\n                                <p style={{cursor: \"pointer\"}} onClick={this.props.toggleHidden}>&#8249; Return to Dashboard</p>\r\n                                {/* <br /> */}\r\n                                <h1>{welcomeMsg}</h1>\r\n                                {/* <br /> */}\r\n                                {welcomeMsg==='No course selected.' ? (null) : <button onClick={this.handleRemove} className=\"roundunenrollbutton\">Unenroll</button>}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"parallelshift\">\r\n                        {restOfPage}\r\n                    </div>\r\n                    <br /> <br /> <br /> <br /> <br /> <br /> <br /> <br /> <br /> <br />\r\n                </div>\r\n            );\r\n        // }\r\n    }\r\n}\r\n\r\n//DOC: Component: The form that allows you to create a class.\r\n//Input: passState, courses, createCourse\r\n//Output: JSXElement\r\nclass CreateForm extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        if (props.isTimeUp()===1000000) { //if the user is only a student\r\n            this.state = {\r\n                value: '',\r\n                areavalue: '',\r\n                subjectVal: \"None\",\r\n                visible: false,\r\n                stage: -1, //display the page that tells them they're beginning a free trial\r\n            };\r\n        } else {\r\n            this.state = {\r\n                value: '',\r\n                areavalue: '',\r\n                subjectVal: \"None\",\r\n                visible: false,\r\n                stage: 0,\r\n            };\r\n        }\r\n        \r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleChangeArea = this.handleChangeArea.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.passState = this.passState.bind(this);\r\n        this.toggleVisibility = this.toggleVisibility.bind(this);\r\n        this.goBack = this.goBack.bind(this);\r\n        this.startFreeTrial = this.startFreeTrial.bind(this);\r\n    }\r\n\r\n    toggleVisibility() {\r\n        this.setState({\r\n            visible: !this.state.visible,\r\n        });\r\n    }\r\n\r\n    passState(subject) {\r\n        this.setState({\r\n            subjectVal: subject,\r\n        });\r\n        this.props.passState(subject);\r\n    }\r\n\r\n    handleChange(event) {    \r\n        let newString = event.target.value.substring(0, 40);\r\n        this.setState({value: newString});  \r\n    }\r\n\r\n    handleChangeArea(event) {\r\n        let newString = event.target.value.substring(0, 300);\r\n        this.setState({areavalue: newString});  \r\n    }\r\n\r\n    goBack(event) {\r\n        event.preventDefault();\r\n        this.setState({\r\n            stage: this.state.stage-1,\r\n        }, () => this.render());\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n        if (this.state.stage===0 || this.state.stage===1 || this.state.stage===2) {\r\n            this.setState({\r\n                stage: this.state.stage+1.\r\n            });\r\n        } else {\r\n            if (this.state.subjectVal===\"None\") {\r\n                alert('You need to select a subject!');\r\n                return;\r\n            }\r\n            this.props.createCourse(this.state.value, this.state.visible, this.state.areavalue);\r\n        }\r\n    }\r\n\r\n    startFreeTrial(event) {\r\n        event.preventDefault(); \r\n        this.setState({\r\n            stage: 0\r\n        }, () => this.render());\r\n    }\r\n\r\n    render() {\r\n        if (this.state.stage===-1) { //student only wall\r\n            return (\r\n                <div className=\"studentonlywall\">\r\n                    <h1>Creating a course is a Premium feature.</h1>\r\n                    <h2>To proceed, you'll enter a Free Trial of Premium.</h2>\r\n                    <h3>This unlocks all of our Premium features for 30 days.</h3>\r\n                    <h3>After your Free Trial ends, each additional month will cost only $4.99.</h3>\r\n                    <br /><br />\r\n                    <h2><b>Ready to begin?</b></h2>\r\n                    <br />\r\n                    <form onSubmit={this.startFreeTrial}>             \r\n                        <input type=\"submit\" value=\"Start Free Trial\" />\r\n                    </form>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        let charCount = 40-this.state.value.length;\r\n        let areacharCount = 300-this.state.areavalue.length;\r\n\r\n        let stage0 = (this.state.stage===0) ? (\r\n            <div>\r\n                <label>\r\n                    Enter the name for your new course below\r\n                    <br /><br />\r\n                    <input type=\"text\" value={this.state.value} onChange={this.handleChange} />\r\n                </label>\r\n                <p className=\"reallysmallparagraph\">{charCount} characters remaining</p>\r\n            </div>\r\n        ) : (null);\r\n\r\n        let stage1 = (this.state.stage===1) ? (\r\n            <div>\r\n                <label>\r\n                    Briefly describe the course below\r\n                    <br /><br />\r\n                    <textarea className=\"textarea\" type=\"text\" value={this.state.areavalue} onChange={this.handleChangeArea} rows=\"4\" cols=\"50\"/>\r\n                </label>\r\n                <p className=\"reallysmallparagraph\">{areacharCount} characters remaining</p>\r\n            </div>\r\n        ) : (null);\r\n\r\n        let stage2 = (this.state.stage===2) ? (\r\n            <div>\r\n                Select Course Visibility \r\n                <br /><br />\r\n                <p className=\"smallparagraph\">Courses are private by default, which means only you can share the class code to join.<br />\r\n                If you want, you can make it public. This will post your course on our open library of free, online courses.</p>\r\n                <br /><br />\r\n                <p className=\"smallparagraph\">This course will be <b>{(this.state.visible) ? (\"public\") : (\"private\")}</b></p>\r\n                <label className=\"switch\">\r\n                    <input\r\n                        name=\"studentswitch\"\r\n                        type=\"checkbox\"\r\n                        checked={this.state.visible}\r\n                        onChange={() => this.toggleVisibility()}\r\n                    />\r\n                    <span class=\"slider round\"></span>\r\n                </label>\r\n            </div>\r\n        ) : (null);\r\n\r\n        let stage3 = (this.state.stage===3) ? (\r\n            <div>\r\n                Select a course subject\r\n                <br /><br />\r\n                {/* <p className=\"smallparagraph\">This helps public courses gain visibility and lets students focus in on the correct field of study.</p> */}\r\n                {/* <br /> */}\r\n                <SelectSubject passState={this.passState} />\r\n                <br /><br />\r\n                <p className=\"smallparagraph\">Once you click <i>Create Course</i>, you will be unable to modify any of these fields!</p>\r\n            </div>\r\n        ) : (null);\r\n\r\n        return (\r\n            <>\r\n                {stage0}\r\n                {stage1}\r\n                {stage2}\r\n                {stage3}\r\n                {(this.state.stage===3) ? (null) : (<><br /><br /></>)}\r\n                <div className=\"bisplit\">\r\n                    <form onSubmit={this.goBack}>\r\n                        {(this.state.stage===0) ? (null) : (\r\n                            <input className=\"backarrowbutton\" type=\"submit\" value=\"Back\" />\r\n                        )}\r\n                    </form>\r\n                    <form onSubmit={this.handleSubmit}>             \r\n                        <input type=\"submit\" value={(this.state.stage===3) ? (\"Create Course\") : (\"Next\")} />\r\n                    </form>\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\n//DOC: Component: The form that allows you to enroll in a class.\r\n//Input: courses, addCourse\r\n//Output: JSXElement\r\nclass NameForm extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {value: ''};\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    handleChange(event) {    this.setState({value: event.target.value});  }\r\n\r\n    handleSubmit(event) { //plugs into the backend to add the course, and passes the function on up for the main container to do the re-rendering\r\n        let shouldAddCourse = false;\r\n\r\n        //check that the course is available on the database. If not, throw an error to the user\r\n        const allCourses = secureStorage.getItem('courses');\r\n        var needed;\r\n        for (let i = 0, len = allCourses.length; i < len; ++i) {\r\n            var course = allCourses[i];\r\n            if (course.nclasscode === this.state.value) {\r\n                shouldAddCourse = true;\r\n                needed = course.nclasscode;\r\n            }\r\n        }\r\n\r\n        if (shouldAddCourse) {\r\n            this.props.addCourse(needed);\r\n        } else {\r\n            alert('Sorry, class not found');\r\n        }\r\n        event.preventDefault();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <form onSubmit={this.handleSubmit}>\r\n                <label>\r\n                    Enter the course code below<br /><br />\r\n                    <input type=\"text\" value={this.state.value} onChange={this.handleChange} /></label>\r\n                <br /><br />\r\n                <input type=\"submit\" value=\"Submit\" />\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\n//DOC: Component: A dropdown component that allows the user to search by a certain filter while browsing public courses\r\n//Input: passState\r\n//Output: JSXElement\r\nclass SearchSelect extends React.PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    state = {\r\n      options: [\r\n        {\r\n            name: \"Search All\",\r\n            value: \"all\",\r\n        },\r\n        {\r\n            name: 'Course Name',\r\n            value: 'name',\r\n        },\r\n        {\r\n            name: 'Teacher',\r\n            value: 'teacher',\r\n        },\r\n        {\r\n            name: 'Subject',\r\n            value: 'subject',\r\n        },\r\n      ],\r\n      value: '?',\r\n    };\r\n\r\n    handleChange = (event) => {\r\n      this.props.passState(event.target.value);\r\n      this.setState({ value: event.target.value });\r\n    };\r\n\r\n    render() {\r\n      const { options, value } = this.state;\r\n\r\n      return (\r\n          <div className=\"searchthing\">\r\n            <React.Fragment>\r\n                <select className=\"searchfilter\" name=\"search_categories\" id=\"search_categories\" onChange={this.handleChange} value={value}>\r\n                    {options.map(item => (\r\n                    <option className=\"option\" key={item.value} value={item.value}>\r\n                        &nbsp;&nbsp;&nbsp;{item.name}\r\n                    </option>\r\n                    ))}\r\n                </select>\r\n            </React.Fragment>\r\n          </div>\r\n      );\r\n    }\r\n}\r\n\r\n//DOC: Function: Gets all the current public courses from Firebase\r\n//Input: firebase\r\n//Output: Array of JSON Objects, each one being a Course\r\nfunction getPublicCourses(firebase) {\r\n    \r\n    firebase.courses().on('value', snapshot => {\r\n        const coursesObject = snapshot.val();\r\n        const coursesList = Object.keys(coursesObject).map(key => ({\r\n            ...coursesObject[key],\r\n            appID: key,\r\n        }));\r\n        secureStorage.setItem('courses', coursesList);\r\n    });\r\n    var publicItems = [];\r\n    const allCourses = secureStorage.getItem('courses');\r\n\r\n    for (let i = 0, len = allCourses.length; i < len; ++i) {\r\n        var course = allCourses[i];\r\n        if (course.CourseName.substring(0, 4)===('KOIN')) {\r\n            publicItems.push({\r\n                name: course.CourseName,\r\n                teacher: course.nteacherName,\r\n                joinCode: course.nclasscode,\r\n                subject: course.osubject,\r\n                courseDescription: course.courseDescription,\r\n            });\r\n        }\r\n    }\r\n\r\n    return publicItems;\r\n}\r\n\r\n//DOC: Component: The entire view for browsing public courses\r\n//Input: addCourse, firebase\r\n//Output: JSXElement\r\nfunction PublicCourse(props) {\r\n    let defaultPlaceholder = \"Click to search\";\r\n\r\n    const [value, setValue] = React.useState(defaultPlaceholder);\r\n    const [publicCourses, setPublicCourses] = React.useState(getPublicCourses(props.firebase));\r\n    const [filter, setFilter] = React.useState('all');\r\n\r\n    function handleClick(event) {\r\n        if (event.target.value===defaultPlaceholder) {\r\n            setValue(\"\");\r\n        }\r\n    }\r\n\r\n    function filterFunction(course, usertext) {\r\n        usertext = usertext.toLowerCase();\r\n\r\n        if (filter===\"all\") {\r\n            return (( String(course.name.toLowerCase()).includes(usertext) ) || ( String(course.teacher.toLowerCase()).includes(usertext) ) || ( String(course.subject.toLowerCase()).includes(usertext) ));\r\n        }\r\n        if (filter==='name') {\r\n            let courseString = String(course.name.toLowerCase());\r\n            return courseString.includes(usertext);\r\n        }\r\n        if (filter==='teacher') {\r\n            let courseString = String(course.teacher.toLowerCase());\r\n            return courseString.includes(usertext);\r\n        }\r\n        if (filter==='subject') {\r\n            let courseString = String(course.subject.toLowerCase());\r\n            return courseString.includes(usertext);\r\n        }\r\n    }\r\n\r\n    function handleChange(event) {\r\n        setValue(event.target.value);\r\n\r\n        var output = [];\r\n        var usertext =  event.target.value;\r\n        var allcourses = getPublicCourses(props.firebase);\r\n        var cnt;\r\n        for (cnt in allcourses) {\r\n            if (filterFunction(allcourses[cnt], usertext)) {\r\n                output.push(allcourses[cnt]);\r\n            }\r\n        }\r\n        setPublicCourses(output);\r\n    }\r\n\r\n    function passState(value) {\r\n        setFilter(value);\r\n    }\r\n\r\n    var bigModal = {\r\n        content: {\r\n            margin                  : '100px auto auto auto',\r\n            width                   : '52em',\r\n            height                  : '85%',\r\n            textAlign               : 'center',\r\n            borderRadius            : '0',\r\n            overflowX               : 'hidden',\r\n            // overflowY               : 'hidden',\r\n        }\r\n    };\r\n    var returnToDashboard = null;\r\n    if (props.isMobile==='medium') {\r\n        bigModal = {\r\n            content: {\r\n                margin                  : '0 0 0 0',\r\n                width                   : '100%',\r\n                height                  : '100%',\r\n                textAlign               : 'center',\r\n                borderRadius            : '0',\r\n                overflowX               : 'hidden',\r\n                // overflowY               : 'hidden',\r\n            }\r\n        };\r\n        returnToDashboard = <p style={{cursor: 'pointer', fontSize: 'large'}} onClick={props.closeCourseModal}>&#8249; Return to Dashboard</p>;\r\n    }\r\n\r\n    return (\r\n        <Modal\r\n            style= {bigModal}\r\n            onRequestClose={props.closeCourseModal}\r\n            effect={Effect.ScaleUp}\r\n        >\r\n        <div className={props.isMobile==='medium' ? \"mobilemainpaneldialog\" : \"mainpaneldialog\"}>\r\n            <div className=\"addcourseview\">\r\n                {returnToDashboard}\r\n                <div className=\"searchstrip\">\r\n                    <div className=\"searchflexsplit\">\r\n                        <label className={\"searchbox\"} >\r\n                            <input id=\"rounded\" type=\"text\" value={value} onChange={handleChange} onClick={handleClick} />\r\n                        </label>\r\n                        {/* {props.isMobile==='medium' ? null : <SearchSelect passState={passState}/>} */}\r\n                        <button className=\"clearfieldbutton\" onClick={() => setValue('')}>Clear</button>\r\n                    </div>\r\n                </div>\r\n                {\r\n                    publicCourses.map(course => (course.name===\"DELETE THAT YOU HOT DOG\") ? (null) : (\r\n                        props.isMobile==='medium' ? (\r\n                            <div className=\"mobilestreamlinedlargecontent\">\r\n                                <br />\r\n                                <h2>{(course.name+'').substring(4)}</h2>\r\n                                <p>{course.courseDescription}</p>\r\n                                <center>\r\n                                    <br />\r\n                                    <button onClick={() => {props.addCourse(course.joinCode); ModalManager.close();}}>\r\n                                        Enroll\r\n                                    </button>\r\n                                </center>\r\n                                <br />\r\n                            </div>\r\n                        ) : (\r\n                            <div className=\"streamlinedlargecontent\">\r\n                                <div className=\"flexsplit\">\r\n                                    <div className=\"leftsplit\">\r\n                                        <br />\r\n                                        <h2>{(course.name+'').substring(4)}</h2>\r\n                                        <center>\r\n                                            <br />\r\n                                            <button onClick={() => {props.addCourse(course.joinCode); ModalManager.close();}}>\r\n                                                Enroll\r\n                                            </button>\r\n                                        </center>\r\n                                        <br />\r\n                                    </div>\r\n                                    <div className=\"moreflexsplit\">\r\n                                        <p>{course.courseDescription}</p>\r\n                                    </div>\r\n                                    \r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    ))\r\n                }\r\n                <br /><br /><br /><br /><br />\r\n            </div>\r\n        </div>\r\n        </Modal>\r\n    );\r\n}\r\n\r\n//DOC: Component: The mainpanel view that allows you to create a class.\r\n//Input: passState, currentCourses, createCourse\r\n//Output: JSXElement\r\nfunction CreateCoursePanel(props) {\r\n    // if (props.isTimeUp()===0) {\r\n    //     return (<Paywall />);\r\n    // }\r\n    // else {\r\n        return (\r\n            <div className=\"mainpaneldialog\">\r\n                <div className=\"addcourseview\">\r\n                    <div className=\"addcoursetitle\">\r\n                        <b>Create a course</b>\r\n                    </div>\r\n                    <CreateForm isTimeUp={props.isTimeUp} courses={props.courses} createCourse={props.createCourse} passState={props.passState} />\r\n                </div>\r\n            </div>\r\n        );\r\n    // }\r\n}\r\n\r\n//DOC: Component: The mainpanel view that allows you to add a class.\r\n//Input: currentCourses, addCourse\r\n//Output: JSXElement\r\nfunction AddCoursePanel(props) {\r\n    return (\r\n        <div className=\"mainpaneldialog\">\r\n            <div className=\"addcourseview\">\r\n                <div className=\"addcoursetitle\">\r\n                    <b>Enroll in a course</b>\r\n                </div>\r\n                <NameForm courses={props.courses} addCourse={props.addCourse}/>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n//DOC: Component: The main container for everything on the screen, that also stores most global data in its state.\r\n//Input: name, firebase, varkClicks, courses, email, isMobile, updateCourses\r\n//Output: JSXElement\r\nclass Container extends React.Component { \r\n    constructor(props) {\r\n        super(props);\r\n\r\n        //bind the state setting functions to the current class\r\n        this.changeActiveCourse = this.changeActiveCourse.bind(this);\r\n        this.addCourseMode = this.addCourseMode.bind(this);\r\n        this.createCourseMode = this.createCourseMode.bind(this);\r\n        this.browseCourseMode = this.browseCourseMode.bind(this);\r\n        this.toggleHidden = this.toggleHidden.bind(this);\r\n        this.passState = this.passState.bind(this);\r\n        this.getCourseDescription = this.getCourseDescription.bind(this);\r\n        this.getCoursePublicity = this.getCoursePublicity.bind(this);\r\n        this.getTeacherEmail = this.getTeacherEmail.bind(this);\r\n        this.showTour = this.showTour.bind(this);\r\n        this.closeTour = this.closeTour.bind(this);\r\n        this.isTimeUp = this.isTimeUp.bind(this);\r\n\r\n        this.state = {\r\n            arrCourses: props.courses,\r\n            courseSubject: \"None\",\r\n            activeCourse: \"none\", //to be updated with the current open course code\r\n            username: props.name,\r\n            mainPanelMode: 0, //0 means modules view (default), 1 means add-course view, 2 means create-course view\r\n            varkClicks: props.varkClicks,\r\n            hidden: false,\r\n            description: '',\r\n            isTourOpen: false,\r\n        }\r\n    }\r\n\r\n    closeTour() {\r\n        this.setState({\r\n            isTourOpen: false,\r\n        });\r\n        this.changeActiveCourse(\"none\");\r\n    }\r\n\r\n    showTour() {\r\n        this.setState({\r\n            isTourOpen: true,\r\n        });\r\n        this.changeActiveCourse(\"000000\");\r\n    }\r\n\r\n    getTeacherEmail(nameOfCourse) { // use code here instead\r\n        const allCourses = secureStorage.getItem('courses');\r\n        var teacher;\r\n        for (let i = 0, len = allCourses.length; i < len; ++i) {\r\n            var course = allCourses[i];\r\n            if (course.nclasscode === nameOfCourse) {\r\n                teacher = course.nteacher;\r\n            }\r\n        }\r\n        // should be returning correct email. If not, try Object.values(course.nteacher) instead\r\n        return teacher;\r\n    }\r\n\r\n    getCoursePublicity(courseCode) { \r\n        const allCourses = secureStorage.getItem('courses');\r\n            for (let i = 0, len = allCourses.length; i < len; ++i) {\r\n                var course = allCourses[i];\r\n                if (course.nclasscode === courseCode) {\r\n                    return course.visibility;\r\n                }\r\n            }\r\n        \r\n        return \"Yeeted Course Publicity\";\r\n    }\r\n\r\n    getCourseDescription(courseCode) {\r\n        const allCourses = secureStorage.getItem('courses');\r\n            for (let i = 0, len = allCourses.length; i < len; ++i) {\r\n                var course = allCourses[i];\r\n                if (course.nclasscode === courseCode) {\r\n                    return course.courseDescription;\r\n                }\r\n            }\r\n        return \"Copypasta might have started out as a real post somewhere, but people might have found the story so stupid or amusing that they post the exact thing years later to mess with people. It's much like a group of friends getting together to mock what another person said in the past and laughing about it.\";\r\n    }\r\n\r\n    changeActiveCourse(courseCode) {\r\n        this.setState({\r\n            mainPanelMode: 0,\r\n            activeCourse: courseCode,\r\n            description: this.getCourseDescription(courseCode),\r\n            visible: this.getCoursePublicity(courseCode),\r\n            hidden: true,\r\n        }, () => {\r\n            this.render();\r\n        });\r\n    }\r\n\r\n    addCourseMode() { //switches main panel view to addCourseMode\r\n        this.setState({\r\n            mainPanelMode: 1\r\n        });\r\n        this.render(); //force React to rerender\r\n    }\r\n\r\n    createCourseMode() { //switches main panel view to createCourseMode\r\n        this.setState({\r\n            mainPanelMode: 2\r\n        });\r\n        this.render(); //force React to rerender\r\n    }\r\n\r\n    browseCourseMode() { //switches main panel view to browseCourseMode\r\n        // this.setState({\r\n        //     mainPanelMode: 3,\r\n        //     hidden: true,\r\n        // });\r\n        ModalManager.open(<PublicCourse isMobile={this.props.isMobile} addCourse={this.addCourse} firebase={this.props.firebase} closeCourseModal={() => {ModalManager.close(); this.setState({mainPanelMode: 0})}}/>);\r\n        this.render(); //force React to rerender\r\n    }\r\n\r\n    addCourse = (courseCode) => { //actually adds the course\r\n        var actionStr = \"\" + this.state.username + \" enrolled in \" + courseCode;\r\n        ReactGA.event({\r\n            category: \"Course Enrolled\",\r\n            action: actionStr,\r\n        });\r\n\r\n        var newCourses = this.state.arrCourses.slice();\r\n        if (newCourses.includes(courseCode)) {\r\n            alert(\"You've already enrolled in this course!\");\r\n        }\r\n        else {\r\n            newCourses.push(courseCode);\r\n            this.setState({\r\n                arrCourses: newCourses.slice(),\r\n            }, () => {\r\n                this.props.updateCourses(newCourses.slice());\r\n                this.changeActiveCourse(courseCode); \r\n            });\r\n            const usr = secureStorage.getItem('authUser');\r\n           \r\n           \r\n            this.props.firebase.users().child(Object.values(usr).slice()[0]).update({\r\n                courses: newCourses.slice(),\r\n            });\r\n            // adds user to teacher's view\r\n            const allCourses = secureStorage.getItem('courses');\r\n            var courseID;\r\n            for (let i = 0, len = allCourses.length; i < len; ++i) {\r\n                var course = allCourses[i];\r\n                var stuemails;\r\n                var stuIDs;\r\n                if (course.nclasscode === courseCode) {\r\n                    courseID = course.appID; // identifies current course child name to update\r\n                    stuemails = course.ostudentList;\r\n                    stuIDs = course.studentUID;\r\n                    const newemail = Object.values(usr).slice()[1].replace(/\\./g,'EMAILDOT');\r\n                    stuemails[newemail] = true;\r\n                    stuIDs[newemail] = Object.values(usr).slice()[0]\r\n                    this.props.firebase.courses().child(courseID).update({\r\n                        ostudentList: stuemails,\r\n                        studentUID: stuIDs,\r\n                    });\r\n                    break;\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        this.props.firebase.onAuthUserListener(\r\n            authUser => {\r\n                secureStorage.setItem('authUser', authUser);\r\n            },\r\n            () => { // callback\r\n            },\r\n        );\r\n    }\r\n\r\n    createCourse = (nameOfCourse, courseVisibility, courseDescription) => { //actually adds the course\r\n        if (this.isTimeUp()===1000000) { //DEPRECATED\r\n            const usr = secureStorage.getItem('authUser');\r\n            const uid = Object.values(usr).slice()[0];\r\n            const days = this.isTimeUp(); //DEPRECATED\r\n            let set;\r\n            if ( days === 1000000)\r\n                set = 7;\r\n            else \r\n                set = days + 30;\r\n            this.props.firebase.sub(uid).update({\r\n                time: set,\r\n                id: uid,\r\n            }, () => {\r\n                const usr = secureStorage.getItem('authUser');\r\n        const email = Object.values(usr).slice()[1].toString();\r\n        const username = Object.values(usr).slice()[4];\r\n        var hash1 = 0;\r\n        var hash2 = 0;\r\n        for (let i = 0; i < email.length; i++) {\r\n            const char = email.charCodeAt(i);\r\n            hash1 = ((hash1 << 5) - hash1) + char;\r\n            hash1 = hash1 & hash1;\r\n        }\r\n        for (let i = 0; i < nameOfCourse.length; i++) {\r\n            const char = nameOfCourse.charCodeAt(i);\r\n            hash2 = ((hash2 << 5) - hash2) + char;\r\n            hash2 = hash2 & hash2;\r\n        }\r\n        const rand = Math.round(Math.random()*10000);\r\n        var classCode = hash1 + \"\" + hash2 + rand; // <-- set this to the class code\r\n\r\n        const modulesT = this.getModules(-1);\r\n        const tempName = username + nameOfCourse + classCode;\r\n        const tempStudents = {\r\n            \"exampleStudentEmail\": true,\r\n        }\r\n        const tempID = {\r\n            \"exampleStudentEmail\" : \"id\",\r\n        }\r\n        var vis;\r\n        if (courseVisibility === true) \r\n            vis = \"public\";\r\n        else\r\n            vis = \"private\";\r\n        this.props.firebase.course(tempName).update({\r\n            CourseName: nameOfCourse,\r\n            modules: modulesT,\r\n            nclasscode: classCode,\r\n            nteacher: email,\r\n            nteacherName: username,\r\n            ostudentList: tempStudents,\r\n            osubject: this.state.courseSubject,\r\n            varkEnabled: true,\r\n            visibility: vis,\r\n            courseDescription: courseDescription,\r\n            studentUID: tempID,\r\n        })\r\n\r\n            this.addCourse(classCode);\r\n            });\r\n        }\r\n        else {\r\n        //also set the courseVisibility\r\n        //courseVisibility as passed in is a boolean, either true or false, indicating public or private, respectively\r\n        //set the database structure to match\r\n\r\n        // generate classcode, make the course with nameOfCourse, add it to the db\r\n        // use getModules(nameOfCourse) to get arbitrary items\r\n        const usr = secureStorage.getItem('authUser');\r\n        const email = Object.values(usr).slice()[1].toString();\r\n        const username = Object.values(usr).slice()[4];\r\n        var hash1 = 0;\r\n        var hash2 = 0;\r\n        for (let i = 0; i < email.length; i++) {\r\n            const char = email.charCodeAt(i);\r\n            hash1 = ((hash1 << 5) - hash1) + char;\r\n            hash1 = hash1 & hash1;\r\n        }\r\n        for (let i = 0; i < nameOfCourse.length; i++) {\r\n            const char = nameOfCourse.charCodeAt(i);\r\n            hash2 = ((hash2 << 5) - hash2) + char;\r\n            hash2 = hash2 & hash2;\r\n        }\r\n        const rand = Math.round(Math.random()*10000);\r\n        var classCode = hash1 + \"\" + hash2 + rand; // <-- set this to the class code\r\n\r\n        const modulesT = this.getModules(-1);\r\n        const tempName = username + nameOfCourse + classCode;\r\n        const tempStudents = {\r\n            \"exampleStudentEmail\": true,\r\n        }\r\n        const tempID = {\r\n            \"exampleStudentEmail\" : \"id\",\r\n        }\r\n        var vis;\r\n        if (courseVisibility === true) \r\n            vis = \"public\";\r\n        else\r\n            vis = \"private\";\r\n        this.props.firebase.course(tempName).update({\r\n            CourseName: nameOfCourse,\r\n            modules: modulesT,\r\n            nclasscode: classCode,\r\n            nteacher: email,\r\n            nteacherName: username,\r\n            ostudentList: tempStudents,\r\n            osubject: this.state.courseSubject,\r\n            varkEnabled: true,\r\n            visibility: vis,\r\n            courseDescription: courseDescription,\r\n            studentUID: tempID,\r\n        })\r\n\r\n        this.addCourse(classCode);\r\n        }\r\n    }\r\n\r\n    addVarkClicks = (varkCharacter) => {\r\n        var newVark = this.state.varkClicks.slice();\r\n        newVark.push(varkCharacter);\r\n        this.setState({\r\n            varkClicks: newVark.slice(),\r\n        });\r\n        const usr = secureStorage.getItem('authUser');\r\n        \r\n        \r\n        this.props.firebase.users().child(Object.values(usr).slice()[0]).update({\r\n            wvarkclicks: newVark.slice(),\r\n        });\r\n    }\r\n\r\n    removeCourse = (courseCode) => {\r\n        var newCourses = this.state.arrCourses.slice();\r\n        var newnewCourses = [];\r\n        newCourses.forEach(element => {\r\n            if (!(element===courseCode)) {\r\n                newnewCourses.push(element);\r\n            }\r\n        });\r\n        newCourses = newnewCourses.slice();\r\n        this.setState({\r\n            arrCourses: newCourses.slice(),\r\n        }, () => {this.props.updateCourses(newCourses.slice()); this.changeActiveCourse(\"none\"); });\r\n        const usr = secureStorage.getItem('authUser');\r\n        const email = Object.values(usr).slice()[1];\r\n        const newemail = email.replace(/\\./g,'EMAILDOT');\r\n        const allCourses = secureStorage.getItem('courses');\r\n        let courseID;\r\n        let uids;\r\n        let list;\r\n        for (let i = 0, len = allCourses.length; i < len; ++i) {\r\n            var course = allCourses[i];\r\n            if (course.nclasscode === courseCode) {\r\n                courseID = course.appID; // identifies current course child name to update\r\n                uids = course.studentUID;\r\n                list = course.ostudentList;\r\n                break;\r\n            }\r\n        }\r\n        uids[newemail] = '';\r\n        list[newemail] = '';\r\n        this.props.firebase.course(courseID).update({\r\n            ostudentList: list,\r\n            studentUID: uids,\r\n        });\r\n        \r\n        this.props.firebase.users().child(Object.values(usr).slice()[0]).update({\r\n            courses: newCourses.slice(),\r\n        });\r\n\r\n        this.props.firebase.onAuthUserListener(\r\n            authUser => {\r\n                secureStorage.setItem('authUser', authUser);\r\n            },\r\n            () => { // callback\r\n            },\r\n        );\r\n\r\n        setTimeout(function(){ window.location.reload(true);} , 2000);\r\n    }\r\n\r\n    getModules(name) {\r\n        if (name===-1) {\r\n            return [\r\n                {\r\n                    title: \"DELETE THAT YOU HOT DOG\",\r\n                    contents: [\"DELETE THAT YOU HOT DOG\",],\r\n                    vark: ['V',],\r\n                    internals: [\"https://youtu.be/uWJtJYXtTKo\",]\r\n                },\r\n            ];\r\n        }\r\n        const allCourses = secureStorage.getItem('courses'); // here is a parsed json of the course list\r\n        if ( name === \"none\")\r\n            return []\r\n\r\n        for (let i = 0, len = allCourses.length; i < len; ++i) {\r\n            var course = allCourses[i];\r\n\r\n\r\n            if ( course.nclasscode === name) { //now we've retrieved the correct course to display\r\n                //here we need to return all of the modules in that course in an array\r\n\r\n                var arrayOfModules = (Object.values(course.modules));\r\n                for (let j = 0, len2 = arrayOfModules.length; j<len2; ++j) {\r\n                    arrayOfModules[j].contents = (Object.values(arrayOfModules[j].contents));\r\n                    arrayOfModules[j].vark = (Object.values(arrayOfModules[j].vark));\r\n                    arrayOfModules[j].internals = (Object.values(arrayOfModules[j].internals));\r\n                }\r\n                return arrayOfModules;\r\n            }\r\n        }\r\n    }\r\n\r\n    getStudentNameFromEmail(email) { \r\n        const allCourses = secureStorage.getItem('courses');\r\n            for (let i = 0, len = allCourses.length; i < len; ++i) {\r\n                var course = allCourses[i];\r\n                var uids;\r\n                if (course.nclasscode === this.props.activeCourse) {\r\n                    uids = course.studentUID;\r\n                    break;\r\n                }\r\n            }\r\n            const newemail = email.replace(/\\./g,'EMAILDOT');\r\n            const id = uids[newemail];\r\n            var stuname;\r\n            this.props.firebase.user(id).on('value', snapshot => {\r\n                stuname = snapshot.val().username;\r\n            })\r\n            if ( stuname != null) return stuname;\r\n        return \"Name Unavailable\";\r\n    }\r\n\r\n    isTimeUp() {\r\n        \r\n        // const usr = secureStorage.getItem('authUser');\r\n        // const uid = Object.values(usr).slice()[0];\r\n        // // console.log(uid);\r\n        // let ret;\r\n        // this.props.firebase.sub(uid).on('value', snapshot => {\r\n        //     if(snapshot.val() == null) {\r\n        //         this.props.firebase.sub(uid).update({time: 1000000, id: uid,})\r\n        //         ret = 1000000\r\n        //     }\r\n        //     else {\r\n        //       ret = snapshot.val().time;\r\n        //     }\r\n        // })\r\n        // return ret;\r\n\r\n        //TODO: return true if in the database, the current course hasn't been paid for yet. return false if the course is paid for, and we shouldn't display a paywall\r\n        //to help, this.props.courseCode has been passed in\r\n\r\n        const usr = secureStorage.getItem('authUser');\r\n        var courses = Object.values(usr).slice()[2];\r\n        \r\n        var cnt;\r\n        for (cnt in courses) {\r\n            var courseNameInDB = courses[cnt];\r\n            console.log(courseNameInDB)\r\n            if (courseNameInDB.includes(\"PAIDFOR\")) {\r\n                var firstPart = courseNameInDB.substring(0, courseNameInDB.length-7);\r\n                console.log(firstPart);\r\n                console.log(this.state.activeCourse);\r\n                if (firstPart===this.state.activeCourse) {\r\n                    return false;\r\n                    console.log('matched!');\r\n                }\r\n            }\r\n        }\r\n        console.log('unmatched!');\r\n        return true;\r\n    }\r\n\r\n    toggleHidden() {\r\n        this.setState({\r\n            hidden: !this.state.hidden,\r\n        });\r\n    }\r\n\r\n    passState(subject) {\r\n        this.setState({\r\n            courseSubject: subject,\r\n        });\r\n    }\r\n\r\n    getStudentProgress(studentEmail, firebase, activeCourse) {\r\n        // RETURN STUDENT PROGRESS AS 3D ARRAY\r\n        const allCourses = secureStorage.getItem('courses');\r\n        let students;\r\n        for (let i = 0, len = allCourses.length; i < len; ++i) {\r\n                var course = allCourses[i];\r\n                if (course.nclasscode === activeCourse) {\r\n                    students = course.studentUID;\r\n                }\r\n        }\r\n        const newemail = studentEmail.replace(/\\./g,'EMAILDOT');\r\n        const uid = students[newemail];\r\n        let ret = [];\r\n        firebase.user(uid).child('vcourseprogress').child(activeCourse).on('value', snapshot => {\r\n            if (snapshot.val() == null ) console.log('No progress for this student'); // will return null if student has no progress\r\n            else {\r\n                for (let [key, value] of Object.entries(snapshot.val())) {\r\n                    let moduleList = [];\r\n                    for (let [key1, value1] of Object.entries(value)){\r\n                        moduleList[key1] = Object.values(value1);\r\n                    }\r\n                    ret[key] = moduleList;\r\n                }\r\n            }\r\n        });\r\n        \r\n        if (ret != null ) return ret;\r\n        else return 'wait for return';\r\n    }\r\n\r\n    render() {\r\n        if (!window.location.href.includes('loaded')) {\r\n            setTimeout(() => {\r\n                if (!window.location.href.includes('loaded')) {\r\n                    window.location.href=window.location.href+'#loaded';\r\n                }\r\n                window.dispatchEvent(new Event('resize'));\r\n            }, 1500);\r\n        }\r\n\r\n        var instantOpen = false;\r\n        if (this.props.isMobile===\"small\") {\r\n            return (\r\n                <div>\r\n                    <center>\r\n                        <br /><br /><br /><br />\r\n                        <img src={deviceicon} width=\"100px\" alt=\"Phone rotation prompt image\"/>\r\n                        <br /><br />\r\n                        <h3>Please rotate your device to landscape</h3>\r\n                        <br /><br /><br /><br />\r\n                    </center>\r\n                </div>\r\n            );\r\n        } else if (this.props.isMobile===\"medium\") {\r\n            instantOpen = true;\r\n        }\r\n\r\n        var mainpanel;\r\n        if (this.state.mainPanelMode===0) {\r\n            mainpanel = <MainPanel toggleHidden={this.toggleHidden} isTimeUp={this.isTimeUp} changeActiveCourse={this.changeActiveCourse} showTour={this.showTour} description={this.state.description} instantOpen={instantOpen} isMobile={this.props.isMobile} firebase={this.props.firebase} email={this.props.email} activeCourse={this.state.activeCourse} modules={this.getModules(this.state.activeCourse)} removeCourse={this.removeCourse} addVarkClicks={this.addVarkClicks}/>\r\n            // if (this.isTimeUp()===true) {\r\n            //     // TODO: if(this.state.activeCourse=== the course code to block ) {\r\n            //          mainpanel = <Paywall courseCode={this.state.activeCourse}/>;\r\n            //     //  }\r\n            // }\r\n        } else if (this.state.mainPanelMode===1) {\r\n            mainpanel = <AddCoursePanel currentCourses={this.state.arrCourses} addCourse={this.addCourse}/>\r\n        } else if (this.state.mainPanelMode===2) {\r\n            mainpanel = <CreateCoursePanel isTimeUp={this.isTimeUp} passState={this.passState} currentCourses={this.state.arrCourses} createCourse={this.createCourse}/>\r\n        } else if (this.state.mainPanelMode===3) {\r\n                        \r\n        }\r\n\r\n        const usr = secureStorage.getItem('authUser');\r\n        const email = Object.values(usr).slice()[1].toString();\r\n\r\n        var leftelementattribute = (this.state.hidden) ? (\"invisible\") : ((!(this.props.isMobile===\"medium\")) ? (\"left-element\") : (\"mobile-left-element\"));\r\n        // console.log(this.state.arrCourses);\r\n        let counter;\r\n        for (counter in this.state.arrCourses) {\r\n            // console.log(this.getTeacherEmail(this.state.arrCourses[counter]));\r\n            // console.log((this.getTeacherEmail(this.state.arrCourses[counter])+'').includes(email));\r\n        }\r\n        // console.log(email);\r\n        var leftelement = (\r\n            <div className={leftelementattribute}>\r\n                {(this.props.isMobile==='medium') ? (\r\n                    <div className=\"paybackgroundstrip\">\r\n                        <div className=\"mobileoverviewheader\">\r\n                                <p className=\"introhead\">Hi, {this.state.username}</p>\r\n                                <br /><br />\r\n                                <a href=\"https://discord.gg/dvJXfWh\" className=\"mobilediscordbutton\">{\"Go to Discord\"}</a>\r\n                        </div>\r\n                        {/* <span><a href=\"https://modulusedu.com/\">Powered by Modulus</a></span> */}\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"paybackgroundstrip\">\r\n                        <div className=\"overviewheader\">\r\n                            <div className=\"leftsideofheader\">\r\n                                <h1 id=\"headerlarge\">Hi, {this.state.username}</h1>\r\n                                <Link id=\"removeformat\" to={ROUTES.ACCOUNT}><p>{email}\r\n                                &nbsp;&nbsp;<img id=\"smalloffset\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAABQElEQVQ4jZWVz0rDQBDGJyUSbyVXT+LB1gpe+gJCizRIfCfpKb35KE0PCupdQRQ8+wZWwQeoPw/Z4Ha6f8h3ys5+++03mckkkQiAXESOzPIjSZKf2JmY4A3/qGL8nkOgADIrNLKezyxeBsxibubGyRswAi6AL8vhGpgAJ8CriV37xKZs4xc/9N7EJZgCTwERH16APZ/LYcSZxgY4DhXlUEQSFVuKSCkiVyKyUns9ETnQrnKa1nhguwAAS0cWteKsgXujkQswDqR06RAsA/zxTh86UtLQr2Tnxj5QAXfGvo3awV8pzqc5WwF9TZ450qhNmqVDDOA85PaU7m0z9IllNJ9cV7wD+y7BQhFDTjdqXfhctsPhGRjQDIdv62A7HAaGAzAPFb0dEqm1frQEb614CkyDYp4L7AG7iPHDTSrdfwF/1pEFwN+QFT0AAAAASUVORK5CYII=\"></img>\r\n                                </p></Link>\r\n                                {/* <Link className=\"accountsettingsbutton\" to={ROUTES.ACCOUNT}>\r\n                                        Go to Account Settings\r\n                                </Link> */}\r\n                            </div>\r\n                            <div className=\"rightsideofheader\">\r\n                                <p id=\"headersmallparagraph\">Want to test your finance skills in an online community? <br /> Want to contact us?</p>\r\n                                \r\n                                <a href=\"https://discord.gg/dvJXfWh\" className=\"discordbutton\">{\"Go to Discord\"}</a>\r\n                            </div>\r\n                        </div>\r\n                        {/* <span><a href=\"https://modulusedu.com/\">Powered by Modulus</a></span> */}\r\n                    </div>\r\n                )}\r\n                <div className=\"sidebar\">\r\n                    <div className=\"courselist\">\r\n                        {(this.props.isMobile==='medium') ? (null) : (<h1>My Courses</h1>)}\r\n                        {/* <BrowseCourseItem browseCourseMode={this.browseCourseMode} /> */}\r\n                        {/* <div className=\"threewaysplit\">\r\n                            {(this.props.isMobile==='large') ? (<BrowseCourseItem browseCourseMode={this.browseCourseMode} />) : (null)}\r\n                            <AddCourseItem isMobile={this.props.isMobile} addCourseMode={this.addCourseMode}/>\r\n                            {(this.props.isMobile==='large') ? (<CreateCourseItem createCourseMode={this.createCourseMode}/>) : (null)}\r\n                        </div> */}\r\n                        {/* {(this.props.isMobile==='large') ? (<><br /><hr /></>) : (null)}\r\n                        {(this.props.isMobile==='large') ? (<><ReallySmallBreak text=\"COURSES OWNED\" />\r\n                        <center>\r\n                            {(this.state.arrCourses.length<=1) ? (\r\n                                <p className=\"smallemptytext\">You don't teach any courses yet.</p>\r\n                            ) : (\r\n                                this.state.arrCourses.map\r\n                                (course => (\r\n                                    ((course===\"000000\") || (isUserBlocked(this.props.email, this.state.activeCourse)===\"false\")) ? (\r\n                                        (\r\n                                            (course===\"000000\" && this.state.isTourOpen) ? (\r\n                                                <CourseListItem \r\n                                                    name={course} \r\n                                                    active={\"active\"} \r\n                                                    changeActiveCourse={this.changeActiveCourse}\r\n                                                    id=\"welcomecourse\"\r\n                                                />\r\n                                            ) : (\r\n                                                null\r\n                                            )\r\n                                        )\r\n                                    ) : \r\n                                    (\r\n                                        ((this.getTeacherEmail(course)+'').includes(email)) ? (\r\n                                            <CourseListItem \r\n                                                name={course} \r\n                                                active={(this.state.activeCourse===course ? \"active\" : \"\")} \r\n                                                changeActiveCourse={this.changeActiveCourse}\r\n                                            />\r\n                                        ) : (null)\r\n                                    )\r\n                                ))\r\n                            )}\r\n                        </center>\r\n                        <ReallySmallBreak text=\"COURSES ENROLLED\" /></>) : (null)} */}\r\n                        {(this.state.arrCourses.length<=1) ? (\r\n                                <div className=\"coursechunks\"><InlineBrowseCourseItem browseCourseMode={this.browseCourseMode} /> </div>\r\n                            ) : null}\r\n                        {(this.state.arrCourses.length<=1) ? (null) : (\r\n                        <div className=\"coursechunks\">\r\n                            {(this.state.arrCourses.length<=1) ? (\r\n                                <InlineBrowseCourseItem browseCourseMode={this.browseCourseMode} /> \r\n                            ) : \r\n                                this.state.arrCourses.map(course => (\r\n                                    (course===\"000000\") ? (\r\n                                        <InlineBrowseCourseItem browseCourseMode={this.browseCourseMode} /> \r\n                                    ) : \r\n                                    (\r\n                                        (!((this.getTeacherEmail(course)+'').includes(email))) ? (\r\n                                            <CourseListItem \r\n                                                name={course} \r\n                                                getCourseDescription={this.getCourseDescription}\r\n                                                active={(this.state.activeCourse===course ? \"active\" : \"\")} \r\n                                                changeActiveCourse={this.changeActiveCourse}\r\n                                                percentage={getStudentProgressPercentage(this.props.email, this.props.firebase, course, this.getModules(course))}\r\n                                            />\r\n                                        ) : (null)\r\n                                    )\r\n                                )\r\n                            )}\r\n                        </div>)}\r\n                        <br />\r\n                        {/* <a style={{textAlign: 'left', marginLeft: '15%'}} className=\"smallparagraph\" href=\"https://modulusedu.com/\">Course content served by Modulus</a> */}\r\n                        <br /><br /><br />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n\r\n        var button = null;\r\n\r\n        if (this.props.isMobile==='medium') {\r\n            button = (this.state.hidden) ? (\r\n                // <button className={(!(this.props.isMobile===\"medium\")) ? (\"smallsidebartoggle\") : (\"mobile-smallsidebartoggle\")} onClick={this.toggleHidden}>\r\n                //     <img src={backarrow} height=\"20px\" />\r\n                // </button>\r\n                null\r\n            ) : (\r\n                // <button className={(!(this.props.isMobile===\"medium\")) ? (\"sidebartoggle\") : (\"mobile-sidebartoggle\")} onClick={this.toggleHidden}>\r\n                //     <img className={(\"\")} src={menuicon} width=\"12px\" alt=\"Sidebar Toggle\"/> \r\n                // </button>\r\n                null\r\n            );\r\n        } else {\r\n            button = (this.state.hidden) ? (null\r\n                // <button className={(!(this.props.isMobile===\"medium\")) ? (\"smallsidebartoggle\") : (\"mobile-smallsidebartoggle\")} onClick={this.toggleHidden}>\r\n                //     Return to Dashboard\r\n                // </button>\r\n            ) : (\r\n                // <button className={(!(this.props.isMobile===\"medium\")) ? (\"sidebartoggle\") : (\"mobile-sidebartoggle\")} onClick={this.toggleHidden}>\r\n                //     <img className={(\"\")} src={backarrow} width=\"12px\" alt=\"Sidebar Toggle\"/> \r\n                // </button>\r\n                null\r\n            );\r\n        }\r\n\r\n         \r\n\r\n        var rightelement;\r\n        \r\n        if (this.props.isMobile===\"medium\") {\r\n            if (this.state.hidden) {\r\n                rightelement = (\r\n                    <div className=\"right-element\">\r\n                        {mainpanel}\r\n                    </div>\r\n                );\r\n            } else {\r\n                rightelement = (null);\r\n            }\r\n        } else {\r\n            rightelement = (\r\n                <div className=\"right-element\">\r\n                    {mainpanel}\r\n                </div>\r\n            );\r\n        }\r\n\r\n        const steps = [\r\n            {\r\n                selector: '#account',\r\n                content: 'This lets you edit your account settings, such as your password.',\r\n            },\r\n            {\r\n                selector: '#dashboard',\r\n                content: 'This is the page you\\'re currently on! It contains all your courses and lets you view the contents of each course.',\r\n            },\r\n            {\r\n                selector: '.left-element',\r\n                content: 'This is the sidebar, where you can view the courses you\\'re enrolled in, or that you teach You can hide it, or show it.',\r\n            },\r\n            {\r\n                selector: '.threewaysplit',\r\n                content: 'Using these buttons, you can browse our library of free, open courses; enroll in a course using the code provided by your teacher; or create a course of your own.',\r\n            },\r\n            {\r\n                selector: '.sidebartoggle',\r\n                content: 'You can hide or show the sidebar with this button.',\r\n            },\r\n            {\r\n                selector: '.tablist',\r\n                content: 'Using these tabs, you can navigate around the course, including viewing the course contents and unenrolling. If you\\'re a teacher, you can also edit the course, as well as invite and block students.', \r\n            },\r\n            {\r\n                selector: '.viewmodules',\r\n                content: 'Courses are organized into modules, which can be expanded to show individual content items. Content items are one of four types: Video, Audio, Document, and Assessment. You can filter which type to view using the filter button in the top left.'\r\n            }\r\n        ]\r\n\r\n        return (\r\n            <div className=\"App\">\r\n                <div className=\"container\">\r\n                    {this.state.hidden ? null : leftelement}\r\n                    {button}\r\n                    {!this.state.hidden ? null : rightelement}\r\n                </div>\r\n                <Tour\r\n                    showNumber={false}\r\n                    rounded={10}\r\n                    accentColor={\"#003459\"}\r\n                    steps={steps}\r\n                    isOpen={this.state.isTourOpen}\r\n                    onRequestClose={this.closeTour} \r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n//DOC: Component: Renders and returns a Container, and initializes it with proper defaults.\r\n//Input: firebase\r\n//Output: JSXElement\r\nclass Home extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.props.firebase.onAuthUserListener(\r\n            authUser => {\r\n                secureStorage.setItem('authUser', authUser);\r\n            },\r\n            () => { // callback\r\n            },\r\n        );\r\n\r\n        const usr = secureStorage.getItem('authUser');\r\n        this.updateWindowDimensions = this.updateWindowDimensions.bind(this);\r\n        this.updateCourses = this.updateCourses.bind(this);\r\n\r\n        var courses = Object.values(usr).slice()[2];\r\n        var cnt;\r\n        for (cnt in courses) {\r\n            if (courses[cnt].includes(\"PAIDFOR\")) {\r\n                var firstPart = courses[cnt].substring(0, courses[cnt].length-7);\r\n                courses[cnt] = firstPart;\r\n            }\r\n        }\r\n\r\n        this.state = {\r\n            username: Object.values(usr).slice()[4],\r\n            email: Object.values(usr).slice()[1],\r\n            courses: courses,\r\n            varkClicks: Object.values(usr).slice()[6],\r\n            isMobile: \"large\", //either large, medium or small\r\n        }\r\n    }\r\n\r\n    updateCourses(newCourses) {\r\n        this.setState({\r\n            courses: newCourses\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n        const advancedMatching = { em: 'kelly8hu@gmail.com' }; // optional, more info: https://developers.facebook.com/docs/facebook-pixel/advanced/advanced-matching\r\n        const options = {\r\n            autoConfig: true, // set pixel's autoConfig\r\n            debug: false, // enable logs\r\n        };\r\n        ReactPixel.init('913473442493570', advancedMatching, options);\r\n        ReactPixel.pageView();\r\n\r\n        //update window size\r\n        this.updateWindowDimensions();\r\n        window.addEventListener('resize', this.updateWindowDimensions);\r\n        this.props.firebase.doChangePersist();\r\n        //pull data from firebase\r\n        const usr = secureStorage.getItem('authUser');\r\n        this.props.firebase.courses().on('value', snapshot => {\r\n            const coursesObject = snapshot.val();\r\n            const coursesList = Object.keys(coursesObject).map(key => ({\r\n                ...coursesObject[key],\r\n                appID: key,\r\n            }));\r\n            \r\n            secureStorage.setItem('courses', coursesList);\r\n            // console.log(secureStorage.getItem('courses'))\r\n\r\n            this.setState({\r\n                username: Object.values(usr).slice()[4],\r\n                email: Object.values(usr).slice()[1],\r\n                courses: Object.values(usr).slice()[2],\r\n\r\n            });\r\n        });\r\n\r\n        //initialize google analytics\r\n        ReactGA.initialize('UA-171719940-1');\r\n        ReactGA.set({\r\n            username: Object.values(usr).slice()[4],\r\n            email: Object.values(usr).slice()[1],\r\n            // any data that is relevant to the user session\r\n            // that you would like to track with google analytics\r\n        })\r\n    }\r\n      \r\n    componentWillUnmount() {\r\n        window.removeEventListener('resize', this.updateWindowDimensions);\r\n    }\r\n    \r\n    updateWindowDimensions() {\r\n        if (window.innerWidth<0) { //LEGACY, UNUSED\r\n            this.setState({ isMobile: \"small\" },\r\n            () => this.render());\r\n        }\r\n        else if (window.innerWidth<1100) {\r\n            this.setState({ isMobile: \"medium\" },\r\n            () => this.render());\r\n        }\r\n        else {\r\n            this.setState({ isMobile: \"large\" },\r\n            () => this.render());\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return ( //when login is implemented, it should create an app with the appropriate username passed in\r\n            <Container updateCourses={this.updateCourses} name={this.state.username} email={this.state.email} courses={this.state.courses} firebase={this.props.firebase} varkClicks={this.state.varkClicks} isMobile={this.state.isMobile}/>\r\n        );\r\n    }\r\n}\r\n\r\nconst condition = authUser => !!authUser;\r\n\r\nexport default withAuthorization(condition)(Home);","import React, { Component } from 'react';\r\n\r\nimport { withFirebase } from '../Firebase';\r\n\r\nconst INITIAL_STATE = {\r\n  passwordOne: '',\r\n  passwordTwo: '',\r\n  error: null,\r\n  submitted: false,\r\n};\r\n\r\nclass PasswordChangeForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { ...INITIAL_STATE };\r\n  }\r\n\r\n  onSubmit = event => {\r\n    const { passwordOne } = this.state;\r\n\r\n    this.setState({\r\n      submitted: true,\r\n    });\r\n\r\n    this.props.firebase\r\n      .doPasswordUpdate(passwordOne)\r\n      .then(() => {\r\n        this.setState({ ...INITIAL_STATE });\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n\r\n    event.preventDefault();\r\n  };\r\n\r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { passwordOne, passwordTwo, error, submitted } = this.state;\r\n\r\n    const isInvalid =\r\n      passwordOne !== passwordTwo || passwordOne === '';\r\n\r\n      var errorMsg = null;\r\n\r\n    return (\r\n      <form onSubmit={this.onSubmit}>\r\n        <input\r\n          name=\"passwordOne\"\r\n          value={passwordOne}\r\n          onChange={this.onChange}\r\n          type=\"password\"\r\n          placeholder=\"New Password\"\r\n        /> <br /> <br />\r\n        <input\r\n          name=\"passwordTwo\"\r\n          value={passwordTwo}\r\n          onChange={this.onChange}\r\n          type=\"password\"\r\n          placeholder=\"Confirm New Password\"\r\n        /> <br /> <br />\r\n        <button id=\"passwordbutton\" onClick={() => this.setState({submitted: true})} disabled={isInvalid} type=\"submit\">\r\n          Reset My Password\r\n        </button>\r\n        <br /><br /><br /><br /><br />\r\n        {/* {error && <p>{'Your passwords didn\\'t match!'}</p>} */}\r\n        {/* {(isInvalid) ? <p>{\"Your passwords didn't match!\"}</p> : null} */}\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withFirebase(PasswordChangeForm);","\r\nimport React from 'react';\r\n\r\nimport { AuthUserContext, withAuthorization } from '../Session';\r\nimport PasswordChangeForm from '../PasswordChange';\r\nimport { PieChart } from 'react-minimal-pie-chart';\r\nimport {CopyToClipboard} from 'react-copy-to-clipboard';\r\nimport SignOutButton from '../SignOut';\r\nimport SecureStorage from 'secure-web-storage';\r\n\r\nvar CryptoJS = require(\"crypto-js\");\r\nvar SECRET_KEY = process.env.REACT_APP_KEY;\r\nvar secureStorage = new SecureStorage(localStorage, {\r\n    hash: function hash(key) {\r\n        key = CryptoJS.SHA256(key, SECRET_KEY);\r\n \r\n        return key.toString();\r\n    },\r\n    encrypt: function encrypt(data) {\r\n        data = CryptoJS.AES.encrypt(data, SECRET_KEY);\r\n \r\n        data = data.toString();\r\n \r\n        return data;\r\n    },\r\n    decrypt: function decrypt(data) {\r\n        data = CryptoJS.AES.decrypt(data, SECRET_KEY);\r\n \r\n        data = data.toString(CryptoJS.enc.Utf8);\r\n \r\n        return data;\r\n    }\r\n});\r\n\r\n\r\nfunction VarkProfile(props) {\r\n    const lineWidth = 60;\r\n    return (\r\n        <div className=\"varkprofile\">\r\n            <PieChart\r\n                style={{\r\n                    fontFamily:\r\n                    '\"Nunito Sans\", -apple-system, Helvetica, Arial, sans-serif',\r\n                    fontSize: '8px',\r\n                    height: \"150px\",\r\n                }}\r\n                data={[\r\n                    {\r\n                        color: 'red',\r\n                        title: 'V',\r\n                        value: props.Vcnt,\r\n                    },\r\n                    {\r\n                        color: 'blue',\r\n                        title: 'A',\r\n                        value: props.Acnt,\r\n                    },\r\n                    {\r\n                        color: 'green',\r\n                        title: 'R',\r\n                        value: props.Rcnt,\r\n                    },\r\n                    {\r\n                        color: 'purple',\r\n                        title: 'K',\r\n                        value: props.Kcnt,\r\n                    },\r\n                ]}\r\n                radius={PieChart.defaultProps.radius - 6}\r\n                lineWidth={60}\r\n                segmentsStyle={{ transition: 'stroke .3s', cursor: 'pointer' }}\r\n                animate\r\n                label={({ dataEntry }) => Math.round(dataEntry.percentage) + '%'}\r\n                labelPosition={100 - lineWidth / 2}\r\n                labelStyle={{\r\n                    fill: '#fff',\r\n                    opacity: 0.75,\r\n                    pointerEvents: 'none',\r\n                }}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction currentUserIsAdmin() {\r\n    const usr = secureStorage.getItem('authUser');\r\n    return (Object.values(usr).slice()[3][0]===\"ADMIN\");\r\n}\r\n\r\nfunction AccountPage(props) {\r\n    const [showUID, setShowUID] = React.useState(false);\r\n    const [copied, setCopied] = React.useState(false);\r\n    // if(!window.location.hash) {\r\n    //     window.location = window.location + '#loaded';\r\n    //     window.location.reload();\r\n    // }\r\n\r\n    const [isMobile, setIsMobile] = React.useState('large');\r\n\r\n    function updateWindowDimensions() {\r\n        if (window.innerWidth<0) { //LEGACY, UNUSED\r\n            setIsMobile('small');\r\n        }\r\n        else if (window.innerWidth<1100) {\r\n            setIsMobile('medium');\r\n        }\r\n        else {\r\n            setIsMobile('large');\r\n        }\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        //update window size\r\n        updateWindowDimensions();\r\n        window.addEventListener('resize', updateWindowDimensions);\r\n    });\r\n\r\n    const usr = secureStorage.getItem('authUser');\r\n    var values = Object.values(usr).slice()[6];\r\n    var Vcnt = 0;\r\n    var Acnt = 0;\r\n    var Rcnt = 0;\r\n    var Kcnt = 0;\r\n    var varkLetter;\r\n    for (varkLetter of values) {\r\n        if (varkLetter===\"V\") {\r\n            Vcnt++;\r\n        }\r\n        if (varkLetter===\"A\") {\r\n            Acnt++;\r\n        }\r\n        if (varkLetter===\"R\") {\r\n            Rcnt++;\r\n        }\r\n        if (varkLetter===\"K\") {\r\n            Kcnt++;\r\n        }\r\n    }\r\n\r\n    var varkProfile = (\r\n        <VarkProfile \r\n            Vcnt={Vcnt}\r\n            Acnt={Acnt}\r\n            Rcnt={Rcnt}\r\n            Kcnt={Kcnt}\r\n        />\r\n    );\r\n\r\n    var topPanel = (null\r\n        // <div class=\"largecontent\">\r\n        //     <center>\r\n        //         <h1><br /> <br />Your VARK Profile</h1> \r\n        //         <p className=\"widespace\">Based on what you clicked on within courses,<br /> we estimated your learning style preferences.</p> <br />\r\n        //         <table className=\"offsetleft\">\r\n        //             <tr>\r\n        //                 <td>\r\n        //                     {varkProfile}\r\n        //                 </td>\r\n        //                 <td>\r\n        //                     <p style={{color: \"red\"}}>Visual</p>\r\n        //                     <p style={{color: \"blue\"}}>Auditory</p>\r\n        //                     <p style={{color: \"green\"}}>Reading/Writing</p>\r\n        //                     <p style={{color: \"purple\"}}>Kinesthetic</p>\r\n        //                 </td>\r\n        //             </tr>\r\n        //         </table>\r\n                \r\n        //     </center>\r\n            \r\n        //     <center>\r\n        //         {/* <p style={{color: \"red\"}}>Visual: Learns best through diagrams and charts</p>\r\n        //         <p style={{color: \"blue\"}}>Auditory: Learns best through videos and lectures</p>\r\n        //         <p style={{color: \"green\"}}>Reading/Writing: Learns best through reading and writing</p>\r\n        //         <p style={{color: \"purple\"}}>Kinesthetic: Learns best through touching and testing</p> */}\r\n        //         <br />\r\n        //         {/* <p className=\"widespace\">All students learn in different ways, and by knowing your VARK Profile,<br /> you can invest in courses that match your preferred education. </p> */}\r\n        //         <p className=\"widespace\">To learn more about the different learning models, visit <a className=\"nonformatted\" href=\"https://vark-learn.com/\">the VARK site</a>.<br />You can also take their <a className=\"nonformatted\" href=\"https://vark-learn.com/the-vark-questionnaire/\">quiz</a> and see how closely it matches your profile here.</p>\r\n        //         <br /> <br /><br /> <br />\r\n        //     </center>\r\n        // </div>\r\n    );\r\n    if (currentUserIsAdmin()) {\r\n        topPanel=(<div />);\r\n    }\r\n\r\n    if (isMobile==='medium') {\r\n        return (\r\n            <AuthUserContext.Consumer>\r\n                {authUser => (\r\n                    <div className=\"dialognowall\">\r\n                        {topPanel}\r\n                        <div>\r\n                            <center>\r\n                                <h1> <br /> Change Password</h1> \r\n                                <h3>For {authUser.email}</h3> <br />\r\n                            \r\n                            <PasswordChangeForm /></center>\r\n                        </div>\r\n                        <br /><hr /><br />\r\n                        <div>\r\n                            <center><SignOutButton />   </center>\r\n                        </div>\r\n                        <br />\r\n                        <br />\r\n                        <br />\r\n                    </div>\r\n                )}\r\n            </AuthUserContext.Consumer>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <AuthUserContext.Consumer>\r\n            {authUser => (\r\n                <div className=\"dialogwallpaper\">\r\n                    {topPanel}\r\n                    <br />\r\n                    {/* <div className=\"largecontent\">\r\n                        <center>\r\n                            <h1> <br />Your UID</h1> \r\n                            {showUID ? (\r\n                                <>\r\n                                    <h3>{authUser.uid}</h3>\r\n                                    <CopyToClipboard text={authUser.uid} onCopy={() => setCopied(true)}>\r\n                                        <a className=\"smalllinkbutton\">{(copied) ? (\"Copied!\") : (\"Copy to Clipboard\")}</a>\r\n                                    </CopyToClipboard>\r\n                                </>\r\n                            ) : (<h3 onClick={() => setShowUID(true)}>Click to reveal</h3>)} <br /> <br />\r\n                        </center>\r\n                    </div>\r\n                    <br /><br /> */}\r\n                    <div className=\"largecontent\">\r\n                        <center>\r\n                            <h1> <br />Change Password</h1> \r\n                            <h3>For {authUser.email}</h3> <br />\r\n                        </center>\r\n                        <PasswordChangeForm />\r\n                    </div>\r\n                    <br /><br />\r\n                    <div className=\"largecontent\">\r\n                        <center>\r\n                            <SignOutButton />\r\n                        </center>\r\n                    </div>\r\n                    <br />\r\n                    <br />\r\n                    <br />\r\n                </div>\r\n            )}\r\n        </AuthUserContext.Consumer>\r\n    );\r\n}\r\n\r\nconst condition = authUser => !!authUser;\r\n\r\nexport default withAuthorization(condition)(AccountPage);","import React, { Component } from 'react';\r\nimport { Switch, Route, Link } from 'react-router-dom';\r\nimport { compose } from 'recompose';\r\n\r\nimport { withFirebase } from '../Firebase';\r\nimport { withAuthorization} from '../Session';\r\nimport * as ROLES from '../../constants/roles';\r\nimport * as ROUTES from '../../constants/routes';\r\n\r\nconst AdminPage = () => (\r\n    <div>\r\n        <h1>Admin</h1>\r\n        <p>The Admin Page is accessible by every signed in admin user.</p>\r\n\r\n        <Switch>\r\n            <Route exact path={ROUTES.ADMIN_DETAILS} component={UserItem} />\r\n            <Route exact path={ROUTES.ADMIN} component={UserList} />\r\n        </Switch>\r\n    </div>\r\n);\r\n\r\nclass UserListBase extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            loading: false,\r\n            users: [],\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({ loading: true });\r\n\r\n        this.props.firebase.users().on('value', snapshot => {\r\n            const usersObject = snapshot.val();\r\n\r\n            const usersList = Object.keys(usersObject).map(key => ({\r\n                ...usersObject[key],\r\n                uid: key,\r\n            }));\r\n\r\n            this.setState({\r\n                users: usersList,\r\n                loading: false,\r\n            });\r\n        });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.firebase.users().off();\r\n    }\r\n\r\n    render() {\r\n        const { users, loading } = this.state;\r\n\r\n        return (\r\n            <div>\r\n                <h2>Users</h2>\r\n                {loading && <div>Loading ...</div>}\r\n                <ul>\r\n                    {users.map(user => (\r\n                        <li key={user.uid}>\r\n              <span>\r\n                <strong>ID:</strong> {user.uid}\r\n              </span>\r\n                            <span>\r\n                <strong>E-Mail:</strong> {user.email}\r\n              </span>\r\n                            <span>\r\n                <strong>Username:</strong> {user.username}\r\n              </span>\r\n                            <span>\r\n                <Link\r\n                    to={{\r\n                        pathname: `${ROUTES.ADMIN}/${user.uid}`,\r\n                        state: { user },\r\n                    }}\r\n                >\r\n                  Details\r\n                </Link>\r\n              </span>\r\n                        </li>\r\n                    ))}\r\n                </ul>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass UserItemBase extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            loading: false,\r\n            user: null,\r\n            ...props.location.state,\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.state.user) {\r\n            return;\r\n        }\r\n\r\n        this.setState({ loading: true });\r\n\r\n        this.props.firebase\r\n            .user(this.props.match.params.id)\r\n            .on('value', snapshot => {\r\n                this.setState({\r\n                    user: snapshot.val(),\r\n                    loading: false,\r\n                });\r\n            });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.firebase.user(this.props.match.params.id).off();\r\n    }\r\n\r\n    onSendPasswordResetEmail = () => {\r\n        this.props.firebase.doPasswordReset(this.state.user.email);\r\n    };\r\n\r\n    render() {\r\n        const { user, loading } = this.state;\r\n\r\n        return (\r\n            <div>\r\n                <h2>User ({this.props.match.params.id})</h2>\r\n                {loading && <div>Loading ...</div>}\r\n\r\n                {user && (\r\n                    <div>\r\n            <span>\r\n              <strong>ID:</strong> {user.uid}\r\n            </span>\r\n                        <span>\r\n              <strong>E-Mail:</strong> {user.email}\r\n            </span>\r\n                        <span>\r\n              <strong>Username:</strong> {user.username}\r\n            </span>\r\n                        <span>\r\n              <button\r\n                  type=\"button\"\r\n                  onClick={this.onSendPasswordResetEmail}\r\n              >\r\n                Send Password Reset\r\n              </button>\r\n            </span>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst UserList = withFirebase(UserListBase);\r\nconst UserItem = withFirebase(UserItemBase);\r\n\r\nconst condition = authUser =>\r\n    authUser && authUser.roles.includes(ROLES.ADMIN);\r\n\r\nexport default compose(\r\n    withAuthorization(condition),\r\n)(AdminPage);","import React from \"react\";\r\nimport * as ROUTES from \"../../constants/routes\";\r\nimport { Link } from 'react-router-dom';\r\nimport './courses.css';\r\nimport ReactSearchBox from 'react-search-box'\r\nimport * as firebase from 'firebase'\r\nimport { withFirebase } from '../Firebase';\r\nimport {CopyToClipboard} from 'react-copy-to-clipboard';\r\nimport copyicon from './copy.svg'\r\nimport SecureStorage from 'secure-web-storage';\r\nrequire('@firebase/database');\r\nrequire('dotenv').config()\r\n\r\nvar CryptoJS = require(\"crypto-js\");\r\nvar SECRET_KEY = process.env.REACT_APP_KEY;\r\nvar secureStorage = new SecureStorage(localStorage, {\r\n    hash: function hash(key) {\r\n        key = CryptoJS.SHA256(key, SECRET_KEY);\r\n \r\n        return key.toString();\r\n    },\r\n    encrypt: function encrypt(data) {\r\n        data = CryptoJS.AES.encrypt(data, SECRET_KEY);\r\n \r\n        data = data.toString();\r\n \r\n        return data;\r\n    },\r\n    decrypt: function decrypt(data) {\r\n        data = CryptoJS.AES.decrypt(data, SECRET_KEY);\r\n \r\n        data = data.toString(CryptoJS.enc.Utf8);\r\n \r\n        return data;\r\n    }\r\n});\r\n\r\n\r\n\r\nclass Select extends React.PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    state = {\r\n      options: [\r\n        {\r\n            name: \"Search All\",\r\n            value: \"all\",\r\n        },\r\n        {\r\n            name: 'Course Name',\r\n            value: 'name',\r\n        },\r\n        {\r\n            name: 'Teacher',\r\n            value: 'teacher',\r\n        },\r\n        {\r\n            name: 'Subject',\r\n            value: 'subject',\r\n        },\r\n      ],\r\n      value: '?',\r\n    };\r\n\r\n    handleChange = (event) => {\r\n      this.props.passState(event.target.value);\r\n      this.setState({ value: event.target.value });\r\n    };\r\n\r\n    render() {\r\n      const { options, value } = this.state;\r\n\r\n      return (\r\n          <div className=\"searchthing\">\r\n            <React.Fragment>\r\n                <select className=\"searchfilter\" name=\"search_categories\" id=\"search_categories\" onChange={this.handleChange} value={value}>\r\n                    {options.map(item => (\r\n                    <option className=\"option\" key={item.value} value={item.value}>\r\n                        &nbsp;&nbsp;&nbsp;{item.name}\r\n                    </option>\r\n                    ))}\r\n                </select>\r\n            </React.Fragment>\r\n          </div>\r\n      );\r\n    }\r\n}\r\n\r\nfunction getPublicCourses(firebase) {\r\n    \r\n    firebase.courses().on('value', snapshot => {\r\n        const coursesObject = snapshot.val();\r\n        const coursesList = Object.keys(coursesObject).map(key => ({\r\n            ...coursesObject[key],\r\n            appID: key,\r\n        }));\r\n        secureStorage.setItem('courses', coursesList);\r\n    });\r\n    var publicItems = [];\r\n    const allCourses = secureStorage.getItem('courses');\r\n\r\n    for (let i = 0, len = allCourses.length; i < len; ++i) {\r\n        var course = allCourses[i];\r\n        if (course.visibility === \"public\") {\r\n            publicItems.push({\r\n                name: course.CourseName,\r\n                teacher: course.nteacherName,\r\n                joinCode: course.nclasscode,\r\n                subject: course.osubject,\r\n            });\r\n        }\r\n    }\r\n\r\n    return publicItems;\r\n}\r\n\r\nfunction PublicCourse(props) {\r\n    let defaultPlaceholder = \"Search our open course library...\";\r\n\r\n    const [value, setValue] = React.useState(defaultPlaceholder);\r\n    const [publicCourses, setPublicCourses] = React.useState(getPublicCourses(props.firebase));\r\n    const [filter, setFilter] = React.useState('all');\r\n\r\n    function handleClick(event) {\r\n        if (event.target.value===defaultPlaceholder) {\r\n            setValue(\"\");\r\n        }\r\n    }\r\n\r\n    function filterFunction(course, usertext) {\r\n        usertext = usertext.toLowerCase();\r\n\r\n        if (filter===\"all\") {\r\n            return (( String(course.name.toLowerCase()).includes(usertext) ) || ( String(course.teacher.toLowerCase()).includes(usertext) ) || ( String(course.subject.toLowerCase()).includes(usertext) ));\r\n        }\r\n        if (filter==='name') {\r\n            let courseString = String(course.name.toLowerCase());\r\n            return courseString.includes(usertext);\r\n        }\r\n        if (filter==='teacher') {\r\n            let courseString = String(course.teacher.toLowerCase());\r\n            return courseString.includes(usertext);\r\n        }\r\n        if (filter==='subject') {\r\n            let courseString = String(course.subject.toLowerCase());\r\n            return courseString.includes(usertext);\r\n        }\r\n    }\r\n\r\n    function handleChange(event) {\r\n        setValue(event.target.value);\r\n\r\n        var output = [];\r\n        var usertext =  event.target.value;\r\n        console.log(usertext);\r\n        var allcourses = getPublicCourses(props.firebase);\r\n        var cnt;\r\n        for (cnt in allcourses) {\r\n            console.log(allcourses[cnt]);\r\n            console.log('YEE' + String(allcourses[cnt].name.toLowerCase()));\r\n            if (filterFunction(allcourses[cnt], usertext)) {\r\n                output.push(allcourses[cnt]);\r\n                console.log('pushed');\r\n            }\r\n        }\r\n        setPublicCourses(output);\r\n    }\r\n\r\n    function passState(value) {\r\n        setFilter(value);\r\n    }\r\n\r\n    return (\r\n        <div className=\"restOfPage\">\r\n            {/* <div className=\"browsesearch\">\r\n                <div className=\"toplargecontent\">\r\n                    <br /><br />\r\n                    <h1>Browse Public Courses</h1>\r\n                    <p>Made with  by a global community of teachers</p>\r\n                    <br />\r\n                </div>\r\n                <br /><br /><br />\r\n            </div> */}\r\n            <div>\r\n                <div className=\"searchstrip\">\r\n                    <div className=\"centeritem\">\r\n                        <div className=\"centereditem\">\r\n                            <div className=\"searchflexsplit\">\r\n                                <label className=\"searchbox\" >\r\n                                    <input type=\"text\" value={value} onChange={handleChange} onClick={handleClick} />\r\n                                </label>\r\n                                <Select passState={passState}/>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        publicCourses.map(course => (\r\n                            <div className=\"streamlinedlargecontent\">\r\n                                <div className=\"flexsplit\">\r\n                                    <div className=\"leftsplit\">\r\n                                        <br /><br />\r\n                                        <h2>{course.name}</h2>\r\n                                        <h4>By {course.teacher}</h4>\r\n                                        <center>\r\n                                            <div className=\"subjecttag\">\r\n                                                {course.subject}\r\n                                            </div>\r\n                                        </center>\r\n                                        <br /><br /><br />\r\n                                    </div>\r\n                                    <div className=\"moreflexsplit\">\r\n                                            <p><b>Join Code:</b> <br/><br /> {course.joinCode}</p>\r\n                                            \r\n                                            <CopyToClipboard text={course.joinCode} >\r\n                                                <a className=\"smallcopybutton\">\r\n                                                    <img src={copyicon} width=\"20px\"></img>\r\n                                                </a>\r\n                                            </CopyToClipboard>\r\n                                        \r\n                                    </div>\r\n                                    \r\n                                </div>\r\n                            </div>\r\n                        ))\r\n                    }\r\n                    <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default withFirebase(PublicCourse);","import React from \"react\";\r\nimport * as ROUTES from \"../../constants/routes\";\r\nimport { Link } from 'react-router-dom';\r\nimport errorimage from './error.svg';\r\n\r\nconst Error = () => (\r\n    <div style={{overflow: \"hidden\"}}>\r\n        <center>\r\n            <br /><br /><br /><br />\r\n            <img src={errorimage}/>\r\n        </center>\r\n    </div>\r\n);\r\n\r\nexport default Error;","import React from 'react';\r\nimport SecureStorage from 'secure-web-storage';\r\nimport { withFirebase } from '../Firebase';\r\nimport stripesecured from './stripe-payment-logo.png';\r\nimport ReactGA from 'react-ga';\r\n\r\n//TODO EVENTUALLY: display a separate paywall if they want to do a monthly sub\r\n\r\nrequire('dotenv').config()\r\nvar CryptoJS = require(\"crypto-js\");\r\nvar SECRET_KEY = process.env.REACT_APP_KEY;\r\nvar secureStorage = new SecureStorage(localStorage, {\r\n    hash: function hash(key) {\r\n        key = CryptoJS.SHA256(key, SECRET_KEY);\r\n \r\n        return key.toString();\r\n    },\r\n    encrypt: function encrypt(data) {\r\n        data = CryptoJS.AES.encrypt(data, SECRET_KEY);\r\n \r\n        data = data.toString();\r\n \r\n        return data;\r\n    },\r\n    decrypt: function decrypt(data) {\r\n        data = CryptoJS.AES.decrypt(data, SECRET_KEY);\r\n \r\n        data = data.toString(CryptoJS.enc.Utf8);\r\n \r\n        return data;\r\n    }\r\n});\r\n\r\nclass Paywall extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading: true,\r\n            stripeLoading: true,\r\n            isMobile: \"large\", //either large, medium or small\r\n        };\r\n        // onStripeUpdate must be bound or else clicking on button will produce error.\r\n        this.onStripeUpdate = this.onStripeUpdate.bind(this);\r\n        // binding loadStripe as a best practice, not doing so does not seem to cause error.\r\n        this.loadStripe = this.loadStripe.bind(this);\r\n        this.setTimeLeft = this.setTimeLeft.bind(this);\r\n        this.charge = this.charge.bind(this);\r\n        this.updateWindowDimensions = this.updateWindowDimensions.bind(this);\r\n    }\r\n  \r\n    setTimeLeft() {\r\n        // const usr = secureStorage.getItem('authUser');\r\n        // const uid = Object.values(usr).slice()[0];\r\n        // const days = this.isTimeUp();\r\n        // let set;\r\n        // if ( days === 1000000)\r\n        //     set = 7;\r\n        // else \r\n        //     set = days + 30;\r\n        // this.props.firebase.sub(uid).update({\r\n        //     time: set,\r\n        //     id: uid,\r\n        // });\r\n        // window.location.reload()\r\n\r\n        //TODO: set the current course to be already paid for\r\n        //current code is this.props.courseCode\r\n\r\n        const usr = secureStorage.getItem('authUser');\r\n        var courses = Object.values(usr).slice()[2];\r\n        \r\n        var cnt;\r\n        for (cnt in courses) {\r\n            if (courses[cnt].includes(\"PAIDFOR\")) {\r\n                // if (courses[cnt].substring(0, courses[cnt].length-7)===this.props.courseCode) {\r\n                //     return false;\r\n                // }\r\n                //if the course in the db is already paid for, its not the one im looking for.\r\n                continue;\r\n            } else {\r\n                if (courses[cnt]===this.props.courseCode) {\r\n                    courses[cnt] = courses[cnt] + \"PAIDFOR\";\r\n                }\r\n            }\r\n        }\r\n\r\n        var uid = Object.values(usr).slice()[0];\r\n\r\n        this.props.firebase.user(uid).update({ courses: courses, });\r\n\r\n        window.location.reload();\r\n    }\r\n  \r\n    // isTimeUp() {\r\n        \r\n    // const usr = secureStorage.getItem('authUser');\r\n    // const uid = Object.values(usr).slice()[0];\r\n    // console.log(uid);\r\n    // let ret;\r\n    // this.props.firebase.sub(uid).on('value', snapshot => {\r\n    //     if(snapshot.val() == null) {\r\n    //         this.props.firebase.sub(uid).update({time: 1000000, id: uid,})\r\n    //         ret = 1000000\r\n    //     }\r\n    //     else {\r\n    //       ret = snapshot.val().time;\r\n    //     }\r\n    // })\r\n    // return ret;\r\n\r\n    // }\r\n  \r\n    loadStripe(onload) {\r\n        if(! window.StripeCheckout) {\r\n            const script = document.createElement('script');\r\n            script.onload = function () {\r\n                console.info(\"Stripe script loaded\");\r\n                onload();\r\n            };\r\n            script.src = 'https://checkout.stripe.com/checkout.js';\r\n            document.head.appendChild(script);\r\n        } else {\r\n            onload();\r\n        }\r\n    }\r\n  \r\n    componentDidMount() {\r\n        //update window size\r\n        this.updateWindowDimensions();\r\n        window.addEventListener('resize', this.updateWindowDimensions);\r\n        this.props.firebase.doChangePersist();\r\n\r\n      const STRIPE_PUBLIC_KEY = 'pk_live_51H25mNDwxccNPcIyOLzqL5jogn7rWHsyHywdqcA3iJFfu6aGFtVQn6ouBWP4ZHSuW822CkQCdn5WLS8BvBoWeoMR00BKJASAtd';\r\n      const charge_amount = 499;\r\n          const charge_currency = 'usd';\r\n      this.loadStripe(() => {\r\n          this.stripeHandler = window.StripeCheckout.configure({\r\n              key: STRIPE_PUBLIC_KEY,\r\n              locale: 'auto',\r\n              token: async token => {\r\n  \r\n                  // Pass the received token to our Firebase function\r\n                  let res = await this.charge(token, charge_amount, charge_currency);\r\n                  if (res.body.error) {\r\n                      alert('There was an error processing your payment.');\r\n                      return;\r\n                  }\r\n  \r\n                  // Card successfully charged!\r\n                  this.setState({\r\n                      displayPayButton: false\r\n                  });\r\n                  this.setTimeLeft();\r\n              }\r\n          });\r\n  \r\n          this.setState({\r\n              stripeLoading: false,\r\n              // loading needs to be explicitly set false so component will render in 'loaded' state.\r\n              loading: false,\r\n          });\r\n      });\r\n  }\r\n    async charge(token, amount, currency) {\r\n        var actionStr = \"Paid\";\r\n        ReactGA.event({\r\n            category: \"Paid\",\r\n            action: actionStr,\r\n        });\r\n\r\n      const FIREBASE_FUNCTION = 'https://us-central1-modulus-e56e4.cloudfunctions.net/chargeKoin ';\r\n      const res = await fetch(FIREBASE_FUNCTION, {\r\n          method: 'POST',\r\n          body: JSON.stringify({\r\n              token,\r\n              charge: {\r\n                  amount,\r\n                  currency,\r\n              },\r\n          }),\r\n      });\r\n      const data = await res.json();\r\n      data.body = JSON.parse(data.body);\r\n      return data;\r\n    }\r\n    \r\n    updateWindowDimensions() {\r\n        if (window.innerWidth<0) { //LEGACY, UNUSED\r\n            this.setState({ isMobile: \"small\" },\r\n            () => this.render());\r\n        }\r\n        else if (window.innerWidth<1100) {\r\n            this.setState({ isMobile: \"medium\" },\r\n            () => this.render());\r\n        }\r\n        else {\r\n            this.setState({ isMobile: \"large\" },\r\n            () => this.render());\r\n        }\r\n    }\r\n  \r\n    componentWillUnmount() {\r\n        window.removeEventListener('resize', this.updateWindowDimensions);\r\n        if(this.stripeHandler) {\r\n            this.stripeHandler.close();\r\n        }\r\n    }\r\n  \r\n    onStripeUpdate(e) {\r\n      this.stripeHandler.open({\r\n          name: 'Koin Premium Course',\r\n          description: 'Unlimited Access to this Course',\r\n          panelLabel: 'Buy Now',\r\n      });\r\n      e.preventDefault();\r\n    }\r\n  \r\n    render() {\r\n        var actionStr = \"Viewed the paywall.\";\r\n        ReactGA.event({\r\n            category: \"Paywall Viewed\",\r\n            action: actionStr,\r\n        });\r\n\r\n        var youtubeLink = \"YEET\";\r\n        //BEGIN HARDCODED VIDEO PREVIEWS\r\n        if (this.props.courseCode===\"2029183779575016816101543\") { //Paying for your College Journey\r\n            youtubeLink = \"https://www.youtube.com/embed/w41ebjJAYcs\";\r\n        }\r\n        if (this.props.courseCode===\"2651345192031906821537\") { //Money Management\r\n            youtubeLink = \"https://www.youtube.com/embed/kEjbEjXxCbg\";\r\n        }\r\n        if (this.props.courseCode===\"265134519-16396202808078\") { //Interest Debt and Borrowing\r\n            youtubeLink = \"https://www.youtube.com/embed/2nJbjqEJjWE\";\r\n        }\r\n        //END HARDCODED VIDEO PREVIEWS\r\n\r\n        const { stripeLoading, loading } = this.state;\r\n        if (this.state.isMobile==='medium') {\r\n            return (<div className=\"centered\">\r\n                <div className=\"normalbg\">\r\n                        <h1>Koin Premium</h1>\r\n                        <p>$4.99</p>\r\n                        <p>Access this course with Koin Premium</p>\r\n                        <img height=\"100px\" src={stripesecured} />\r\n                        <br />\r\n                        <div>\r\n                            {(loading || stripeLoading)\r\n                                ? <p>Loading..</p>\r\n                                : <button className=\"begintrialmobile\" onClick={this.onStripeUpdate}>Access Now</button>\r\n                            }\r\n                        </div>\r\n                        <br /><br /><br /><br /><br /><br /><br /><br />\r\n                    </div>\r\n                </div>);\r\n        }\r\n        // if (this.isTimeUp()===1000000) {\r\n        //     //display upgrade page\r\n        //     return (\r\n        //         <div className=\"centered\">\r\n        //             <div className=\"paybackgroundstrip\">\r\n        //                 <br /><br />\r\n        //                 <h1>Confirm your Registration</h1>\r\n        //                 <br /><br />\r\n        //                 <button className=\"begintrial\" onClick={this.setTimeLeft}>Begin 7-day Free Trial</button>\r\n        //             </div>\r\n        //             <div className=\"normalbg\">\r\n        //                 <br /><br />\r\n        //                 <div className=\"contentbox\">\r\n        //                     Our mission is to provide everyone with an affordable education in financial literacy, but unfortunately, it's not free to keep the lights on.\r\n        //                     <br /><br />\r\n        //                     For just 4.99 a month, you'll get full access to our suite of online courses.\r\n        //                 </div>\r\n        //                 <br />\r\n        //                 <div className=\"contentbox\">\r\n        //                     <h2>One Price - Unlimited Features</h2>\r\n        //                     <br />\r\n        //                     <h3>For only 4.99 a month, you get:<br /></h3>\r\n        //                     <ul>\r\n        //                         <li>  Infinite financial course access</li>\r\n        //                         <li>  Complete access to our online community</li>\r\n        //                         <li>  Real world simulations on our Discord server</li>\r\n        //                     </ul>\r\n        //                 </div>\r\n                        \r\n        //                 <br />\r\n        //                 <button className=\"begintrial\" onClick={this.setTimeLeft}>Begin Free Trial</button>\r\n        //                 <br /><br /><br /><br /><br /><br /><br /><br />\r\n        //             </div>\r\n        //         </div>\r\n        //     );\r\n        // } else \r\n        // if (this.isTimeUp()===false) { //if time's up, be like \"i see youre enjpying modulus, buy another 30 days\"\r\n            return (\r\n                <div className=\"centered\">\r\n                    <div className=\"paybackgroundstrip\">\r\n                        <br /><br />\r\n                        <h1>Hey, you're trying to access a Koin Premium course!</h1>\r\n                        <h3>It's only $4.99 to get unlimited access to this course.</h3>\r\n                        <br /><br />\r\n                        <div>\r\n                            {(loading || stripeLoading)\r\n                                ? <p>Loading..</p>\r\n                                : <button className=\"begintrial\" onClick={this.onStripeUpdate}>Access Now</button>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"normalbg\">\r\n                        <br /><br />\r\n                        <div className=\"contentbox\">\r\n                            Our mission is to provide everyone with an affordable education in financial literacy, but unfortunately, it's not free to keep the lights on.\r\n                            <br /><br />\r\n                            For just 4.99, you'll get unrestricted access to everything in this course.\r\n                        </div>\r\n                        <br />\r\n                        <div className=\"contentbox\">\r\n                            <h2>Want to know what's in this course?</h2>\r\n                            <br />\r\n                            <h3>Here's a preview of one of the videos within:<br /></h3>\r\n                            <iframe width=\"560\" height=\"315\" src={youtubeLink} frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\r\n                        </div>\r\n                        <img height=\"200px\" src={stripesecured} />\r\n                        <br />\r\n                        <div>\r\n                            {(loading || stripeLoading)\r\n                                ? <p>Loading..</p>\r\n                                : <button className=\"begintrial\" onClick={this.onStripeUpdate}>Access Now</button>\r\n                            }\r\n                        </div>\r\n                        <br /><br /><br /><br /><br /><br /><br /><br />\r\n                    </div>\r\n                </div>\r\n            );\r\n        // }\r\n        // else { //tell them the number of days they have left, and offer to buy another 30 now\r\n        //     return (\r\n        //         <div className=\"centered\">\r\n        //             <div className=\"paybackgroundstrip\">\r\n        //                 <br /><br />\r\n        //                 <h1>Thank you for using Pro</h1>\r\n        //                 <h3>You still have {this.isTimeUp()} days left of Pro.</h3>\r\n        //                 <br /><br />\r\n        //                 <div>\r\n        //                     {(loading || stripeLoading)\r\n        //                         ? <p>Loading..</p>\r\n        //                         : <button className=\"begintrial\" onClick={this.onStripeUpdate}>\r\n        //                             Add another 30 days<br />\r\n        //                             <span>For only 4.99</span>\r\n        //                         </button>\r\n        //                     }\r\n        //                 </div>\r\n        //             </div>\r\n        //             <div className=\"normalbg\">\r\n        //                 <br /><br />\r\n        //                 <div className=\"contentbox\">\r\n        //                     Our mission is to provide everyone with an affordable education in financial literacy, but unfortunately, it's not free to keep the lights on.\r\n        //                     <br /><br />\r\n        //                     For just 4.99 a month, you'll get full access to our suite of online courses.\r\n        //                 </div>\r\n        //                 <br />\r\n        //                 <div className=\"contentbox\">\r\n        //                     <h2>One Price - Unlimited Features</h2>\r\n        //                     <br />\r\n        //                     <h3>For only 4.99 a month, you get:<br /></h3>\r\n        //                     <ul>\r\n        //                         <li>  Infinite financial course access</li>\r\n        //                         <li>  Complete access to our online community</li>\r\n        //                         <li>  Real world simulations on our Discord server</li>\r\n        //                     </ul>\r\n        //                 </div>\r\n        //                 <img height=\"200px\" src={stripesecured} />\r\n        //                 <br />\r\n        //                 <div>\r\n        //                     {(loading || stripeLoading)\r\n        //                         ? <p>Loading..</p>\r\n        //                         : <button className=\"begintrial\" onClick={this.onStripeUpdate}>Add another 30 days</button>\r\n        //                     }\r\n        //                 </div>\r\n        //                 <br /><br /><br /><br /><br /><br /><br /><br />\r\n        //             </div>\r\n        //         </div>\r\n        //     );\r\n        // }\r\n    }\r\n  }\r\n\r\n  export default withFirebase(Paywall);","import React, { useState } from 'react';\r\nimport { AuthUserContext, withAuthorization } from '../Session';\r\n\r\n// import { Jutsu, useJitsi } from 'react-jutsu'\r\n// import Jutsu from 'react-jutsu'\r\nimport { withFirebase } from '../Firebase';\r\nimport Paywall from '../Paywall';\r\nimport SecureStorage from 'secure-web-storage';\r\nrequire('dotenv').config()\r\nvar CryptoJS = require(\"crypto-js\");\r\nvar SECRET_KEY = process.env.REACT_APP_KEY;\r\nvar secureStorage = new SecureStorage(localStorage, {\r\n    hash: function hash(key) {\r\n        key = CryptoJS.SHA256(key, SECRET_KEY);\r\n \r\n        return key.toString();\r\n    },\r\n    encrypt: function encrypt(data) {\r\n        data = CryptoJS.AES.encrypt(data, SECRET_KEY);\r\n \r\n        data = data.toString();\r\n \r\n        return data;\r\n    },\r\n    decrypt: function decrypt(data) {\r\n        data = CryptoJS.AES.decrypt(data, SECRET_KEY);\r\n \r\n        data = data.toString(CryptoJS.enc.Utf8);\r\n \r\n        return data;\r\n    }\r\n});\r\n\r\nfunction Vidcall(props)  {\r\n  return (\r\n    <div>\r\n        Test\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withFirebase(Vidcall);","import React from \"react\";\r\nimport * as ROUTES from \"../../constants/routes\";\r\nimport { Link } from 'react-router-dom';\r\nimport Paywall from '../Paywall';\r\n\r\nconst Payment = () => (\r\n    <Paywall />\r\n);\r\n\r\nexport default Payment;","\r\nimport React from 'react';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\n\r\nimport Navigation from '../Navigation';\r\nimport LandingPage from '../Landing';\r\nimport SignUpPage from '../SignUp';\r\nimport SignInPage from '../SignIn';\r\nimport PasswordForgetPage from '../PasswordForget';\r\nimport HomePage from '../Home';\r\nimport AccountPage from '../Account';\r\nimport AdminPage from '../Admin';\r\nimport PublicCourses from '../PublicCourses';\r\nimport Error from '../Error';\r\nimport Vidcall from '../Vidcall';\r\nimport Payment from '../Payment';\r\n\r\nimport * as ROUTES from '../../constants/routes';\r\nimport { withAuthentication } from '../Session';\r\n\r\nconst App = () => (\r\n    <Router>\r\n        <Navigation />\r\n\r\n        <Switch>\r\n            <Route exact path={ROUTES.LANDING} component={LandingPage} />\r\n            <Route exact path={ROUTES.SIGN_UP} component={SignUpPage} />\r\n            <Route exact path={ROUTES.SIGN_IN} component={SignInPage} />\r\n            <Route\r\n                exact\r\n                path={ROUTES.PASSWORD_FORGET}\r\n                component={PasswordForgetPage}\r\n            />\r\n            <Route exact path={ROUTES.HOME} component={HomePage} />\r\n            <Route exact path={ROUTES.ACCOUNT} component={AccountPage} />\r\n            <Route exact path={ROUTES.ADMIN} component={AdminPage} />\r\n            <Route exact path={ROUTES.PUBLIC_COURSES} component={PublicCourses} />\r\n            <Route exact path={ROUTES.VIDCALL} component={Vidcall} />\r\n            <Route exact path={ROUTES.PAYMENT} component={Payment} />\r\n            <Route component={Error} />\r\n        </Switch>\r\n    </Router>\r\n);\r\n\r\nexport default withAuthentication(App);\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport App from './components/App';\r\nimport Firebase, { FirebaseContext } from './components/Firebase';\r\nReactDOM.render(\r\n    <FirebaseContext.Provider value={new Firebase()}>\r\n        <App  />\r\n    </FirebaseContext.Provider>,\r\n    document.getElementById('root'),\r\n);\r\n\r\nserviceWorker.unregister();","module.exports = __webpack_public_path__ + \"static/media/xicon.fa5e8a87.svg\";","module.exports = __webpack_public_path__ + \"static/media/koinlogo.75ed0751.png\";","module.exports = __webpack_public_path__ + \"static/media/koingraphic1.655bcc85.png\";","module.exports = __webpack_public_path__ + \"static/media/koingraphic2.b477452f.png\";","module.exports = __webpack_public_path__ + \"static/media/incomplete.47653cb0.svg\";","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAAAXklEQVR4nO3YsQ2AMAxFwcA+9Ij9hdIzUNIiqLEtcVemevmlWwMA/mp5Pmz7MTJCvnL18/XHuzUqpCoDZAcAAAAARHMTjAqpygDZAQAAAADR3ASjQqoyQHYAAABAhgkvYgwWv9AEBAAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/vidcall.c8c0ba65.svg\";","module.exports = __webpack_public_path__ + \"static/media/browsecourses.36ffcf10.svg\";","module.exports = __webpack_public_path__ + \"static/media/koinpartner1.2ff85a0e.png\";","module.exports = __webpack_public_path__ + \"static/media/koinpartner2.53d9ffdd.png\";","module.exports = __webpack_public_path__ + \"static/media/koinpartner3.b9a4e01e.png\";","module.exports = __webpack_public_path__ + \"static/media/koinpartner4.204d78d6.png\";","module.exports = __webpack_public_path__ + \"static/media/koinpartner5.77f1374e.png\";"],"sourceRoot":""}